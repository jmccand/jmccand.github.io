(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function lc(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ye={},wa=[],Cr=()=>{},v0=()=>!1,ao=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cc=t=>t.startsWith("onUpdate:"),Lt=Object.assign,fc=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},g0=Object.prototype.hasOwnProperty,je=(t,e)=>g0.call(t,e),Be=Array.isArray,xa=t=>io(t)==="[object Map]",Gv=t=>io(t)==="[object Set]",Re=t=>typeof t=="function",ht=t=>typeof t=="string",mn=t=>typeof t=="symbol",nt=t=>t!==null&&typeof t=="object",Hv=t=>(nt(t)||Re(t))&&Re(t.then)&&Re(t.catch),jv=Object.prototype.toString,io=t=>jv.call(t),p0=t=>io(t).slice(8,-1),Wv=t=>io(t)==="[object Object]",hc=t=>ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ui=lc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),so=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},m0=/-(\w)/g,ln=so(t=>t.replace(m0,(e,r)=>r?r.toUpperCase():"")),y0=/\B([A-Z])/g,Zn=so(t=>t.replace(y0,"-$1").toLowerCase()),Uv=so(t=>t.charAt(0).toUpperCase()+t.slice(1)),zo=so(t=>t?`on${Uv(t)}`:""),an=(t,e)=>!Object.is(t,e),qo=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Qv=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},b0=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let of;const oo=()=>of||(of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dc(t){if(Be(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=ht(n)?A0(n):dc(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(ht(t)||nt(t))return t}const w0=/;(?![^(]*\))/g,x0=/:([^]+)/,E0=/\/\*[^]*?\*\//g;function A0(t){const e={};return t.replace(E0,"").split(w0).forEach(r=>{if(r){const n=r.split(x0);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Vn(t){let e="";if(ht(t))e=t;else if(Be(t))for(let r=0;r<t.length;r++){const n=Vn(t[r]);n&&(e+=n+" ")}else if(nt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const C0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_0=lc(C0);function $v(t){return!!t||t===""}const Kv=t=>!!(t&&t.__v_isRef===!0),_t=t=>ht(t)?t:t==null?"":Be(t)||nt(t)&&(t.toString===jv||!Re(t.toString))?Kv(t)?_t(t.value):JSON.stringify(t,Yv,2):String(t),Yv=(t,e)=>Kv(e)?Yv(t,e.value):xa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[Vo(n,i)+" =>"]=a,r),{})}:Gv(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Vo(r))}:mn(e)?Vo(e):nt(e)&&!Be(e)&&!Wv(e)?String(e):e,Vo=(t,e="")=>{var r;return mn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class S0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Zt;try{return Zt=this,e()}finally{Zt=r}}}on(){Zt=this}off(){Zt=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function T0(){return Zt}let Je;const Go=new WeakSet;class Xv{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Go.has(this)&&(Go.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,uf(this),eg(this);const e=Je,r=cr;Je=this,cr=!0;try{return this.fn()}finally{tg(this),Je=e,cr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pc(e);this.deps=this.depsTail=void 0,uf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Go.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pl(this)&&this.run()}get dirty(){return Pl(this)}}let Zv=0,li,ci;function Jv(t,e=!1){if(t.flags|=8,e){t.next=ci,ci=t;return}t.next=li,li=t}function vc(){Zv++}function gc(){if(--Zv>0)return;if(ci){let e=ci;for(ci=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;li;){let e=li;for(li=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function eg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function tg(t){let e,r=t.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),pc(n),k0(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}t.deps=e,t.depsTail=r}function Pl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(rg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function rg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===bi))return;t.globalVersion=bi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Pl(t)){t.flags&=-3;return}const r=Je,n=cr;Je=t,cr=!0;try{eg(t);const a=t.fn(t._value);(e.version===0||an(a,t._value))&&(t._value=a,e.version++)}catch(a){throw e.version++,a}finally{Je=r,cr=n,tg(t),t.flags&=-3}}function pc(t,e=!1){const{dep:r,prevSub:n,nextSub:a}=t;if(n&&(n.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)pc(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function k0(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let cr=!0;const ng=[];function yn(){ng.push(cr),cr=!1}function bn(){const t=ng.pop();cr=t===void 0?!0:t}function uf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Je;Je=void 0;try{e()}finally{Je=r}}}let bi=0;class P0{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Je||!cr||Je===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Je)r=this.activeLink=new P0(Je,this),Je.deps?(r.prevDep=Je.depsTail,Je.depsTail.nextDep=r,Je.depsTail=r):Je.deps=Je.depsTail=r,ag(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Je.depsTail,r.nextDep=void 0,Je.depsTail.nextDep=r,Je.depsTail=r,Je.deps===r&&(Je.deps=n)}return r}trigger(e){this.version++,bi++,this.notify(e)}notify(e){vc();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{gc()}}}function ag(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)ag(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Bl=new WeakMap,Hn=Symbol(""),Dl=Symbol(""),wi=Symbol("");function Rt(t,e,r){if(cr&&Je){let n=Bl.get(t);n||Bl.set(t,n=new Map);let a=n.get(r);a||(n.set(r,a=new mc),a.map=n,a.key=r),a.track()}}function Or(t,e,r,n,a,i){const s=Bl.get(t);if(!s){bi++;return}const o=u=>{u&&u.trigger()};if(vc(),e==="clear")s.forEach(o);else{const u=Be(t),l=u&&hc(r);if(u&&r==="length"){const c=Number(n);s.forEach((f,h)=>{(h==="length"||h===wi||!mn(h)&&h>=c)&&o(f)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),l&&o(s.get(wi)),e){case"add":u?l&&o(s.get("length")):(o(s.get(Hn)),xa(t)&&o(s.get(Dl)));break;case"delete":u||(o(s.get(Hn)),xa(t)&&o(s.get(Dl)));break;case"set":xa(t)&&o(s.get(Hn));break}}gc()}function ra(t){const e=He(t);return e===t?e:(Rt(e,"iterate",wi),ir(t)?e:e.map(It))}function uo(t){return Rt(t=He(t),"iterate",wi),t}const B0={__proto__:null,[Symbol.iterator](){return Ho(this,Symbol.iterator,It)},concat(...t){return ra(this).concat(...t.map(e=>Be(e)?ra(e):e))},entries(){return Ho(this,"entries",t=>(t[1]=It(t[1]),t))},every(t,e){return Br(this,"every",t,e,void 0,arguments)},filter(t,e){return Br(this,"filter",t,e,r=>r.map(It),arguments)},find(t,e){return Br(this,"find",t,e,It,arguments)},findIndex(t,e){return Br(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Br(this,"findLast",t,e,It,arguments)},findLastIndex(t,e){return Br(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Br(this,"forEach",t,e,void 0,arguments)},includes(...t){return jo(this,"includes",t)},indexOf(...t){return jo(this,"indexOf",t)},join(t){return ra(this).join(t)},lastIndexOf(...t){return jo(this,"lastIndexOf",t)},map(t,e){return Br(this,"map",t,e,void 0,arguments)},pop(){return ja(this,"pop")},push(...t){return ja(this,"push",t)},reduce(t,...e){return lf(this,"reduce",t,e)},reduceRight(t,...e){return lf(this,"reduceRight",t,e)},shift(){return ja(this,"shift")},some(t,e){return Br(this,"some",t,e,void 0,arguments)},splice(...t){return ja(this,"splice",t)},toReversed(){return ra(this).toReversed()},toSorted(t){return ra(this).toSorted(t)},toSpliced(...t){return ra(this).toSpliced(...t)},unshift(...t){return ja(this,"unshift",t)},values(){return Ho(this,"values",It)}};function Ho(t,e,r){const n=uo(t),a=n[e]();return n!==t&&!ir(t)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const D0=Array.prototype;function Br(t,e,r,n,a,i){const s=uo(t),o=s!==t&&!ir(t),u=s[e];if(u!==D0[e]){const f=u.apply(t,i);return o?It(f):f}let l=r;s!==t&&(o?l=function(f,h){return r.call(this,It(f),h,t)}:r.length>2&&(l=function(f,h){return r.call(this,f,h,t)}));const c=u.call(s,l,n);return o&&a?a(c):c}function lf(t,e,r,n){const a=uo(t);let i=r;return a!==t&&(ir(t)?r.length>3&&(i=function(s,o,u){return r.call(this,s,o,u,t)}):i=function(s,o,u){return r.call(this,s,It(o),u,t)}),a[e](i,...n)}function jo(t,e,r){const n=He(t);Rt(n,"iterate",wi);const a=n[e](...r);return(a===-1||a===!1)&&wc(r[0])?(r[0]=He(r[0]),n[e](...r)):a}function ja(t,e,r=[]){yn(),vc();const n=He(t)[e].apply(t,r);return gc(),bn(),n}const R0=lc("__proto__,__v_isRef,__isVue"),ig=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mn));function I0(t){mn(t)||(t=String(t));const e=He(this);return Rt(e,"has",t),e.hasOwnProperty(t)}class sg{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?H0:cg:i?lg:ug).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=Be(e);if(!a){let u;if(s&&(u=B0[r]))return u;if(r==="hasOwnProperty")return I0}const o=Reflect.get(e,r,Mt(e)?e:n);return(mn(r)?ig.has(r):R0(r))||(a||Rt(e,"get",r),i)?o:Mt(o)?s&&hc(r)?o:o.value:nt(o)?a?hg(o):lo(o):o}}class og extends sg{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._isShallow){const u=Wn(i);if(!ir(n)&&!Wn(n)&&(i=He(i),n=He(n)),!Be(e)&&Mt(i)&&!Mt(n))return u?!1:(i.value=n,!0)}const s=Be(e)&&hc(r)?Number(r)<e.length:je(e,r),o=Reflect.set(e,r,n,Mt(e)?e:a);return e===He(a)&&(s?an(n,i)&&Or(e,"set",r,n):Or(e,"add",r,n)),o}deleteProperty(e,r){const n=je(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&Or(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!mn(r)||!ig.has(r))&&Rt(e,"has",r),n}ownKeys(e){return Rt(e,"iterate",Be(e)?"length":Hn),Reflect.ownKeys(e)}}class M0 extends sg{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const L0=new og,O0=new M0,N0=new og(!0);const Rl=t=>t,ts=t=>Reflect.getPrototypeOf(t);function F0(t,e,r){return function(...n){const a=this.__v_raw,i=He(a),s=xa(i),o=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=a[t](...n),c=r?Rl:e?Il:It;return!e&&Rt(i,"iterate",u?Dl:Hn),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function rs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function z0(t,e){const r={get(a){const i=this.__v_raw,s=He(i),o=He(a);t||(an(a,o)&&Rt(s,"get",a),Rt(s,"get",o));const{has:u}=ts(s),l=e?Rl:t?Il:It;if(u.call(s,a))return l(i.get(a));if(u.call(s,o))return l(i.get(o));i!==s&&i.get(a)},get size(){const a=this.__v_raw;return!t&&Rt(He(a),"iterate",Hn),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,s=He(i),o=He(a);return t||(an(a,o)&&Rt(s,"has",a),Rt(s,"has",o)),a===o?i.has(a):i.has(a)||i.has(o)},forEach(a,i){const s=this,o=s.__v_raw,u=He(o),l=e?Rl:t?Il:It;return!t&&Rt(u,"iterate",Hn),o.forEach((c,f)=>a.call(i,l(c),l(f),s))}};return Lt(r,t?{add:rs("add"),set:rs("set"),delete:rs("delete"),clear:rs("clear")}:{add(a){!e&&!ir(a)&&!Wn(a)&&(a=He(a));const i=He(this);return ts(i).has.call(i,a)||(i.add(a),Or(i,"add",a,a)),this},set(a,i){!e&&!ir(i)&&!Wn(i)&&(i=He(i));const s=He(this),{has:o,get:u}=ts(s);let l=o.call(s,a);l||(a=He(a),l=o.call(s,a));const c=u.call(s,a);return s.set(a,i),l?an(i,c)&&Or(s,"set",a,i):Or(s,"add",a,i),this},delete(a){const i=He(this),{has:s,get:o}=ts(i);let u=s.call(i,a);u||(a=He(a),u=s.call(i,a)),o&&o.call(i,a);const l=i.delete(a);return u&&Or(i,"delete",a,void 0),l},clear(){const a=He(this),i=a.size!==0,s=a.clear();return i&&Or(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=F0(a,t,e)}),r}function yc(t,e){const r=z0(t,e);return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(je(r,a)&&a in n?r:n,a,i)}const q0={get:yc(!1,!1)},V0={get:yc(!1,!0)},G0={get:yc(!0,!1)};const ug=new WeakMap,lg=new WeakMap,cg=new WeakMap,H0=new WeakMap;function j0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W0(t){return t.__v_skip||!Object.isExtensible(t)?0:j0(p0(t))}function lo(t){return Wn(t)?t:bc(t,!1,L0,q0,ug)}function fg(t){return bc(t,!1,N0,V0,lg)}function hg(t){return bc(t,!0,O0,G0,cg)}function bc(t,e,r,n,a){if(!nt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=a.get(t);if(i)return i;const s=W0(t);if(s===0)return t;const o=new Proxy(t,s===2?n:r);return a.set(t,o),o}function Ea(t){return Wn(t)?Ea(t.__v_raw):!!(t&&t.__v_isReactive)}function Wn(t){return!!(t&&t.__v_isReadonly)}function ir(t){return!!(t&&t.__v_isShallow)}function wc(t){return t?!!t.__v_raw:!1}function He(t){const e=t&&t.__v_raw;return e?He(e):t}function U0(t){return!je(t,"__v_skip")&&Object.isExtensible(t)&&Qv(t,"__v_skip",!0),t}const It=t=>nt(t)?lo(t):t,Il=t=>nt(t)?hg(t):t;function Mt(t){return t?t.__v_isRef===!0:!1}function wn(t){return dg(t,!1)}function Q0(t){return dg(t,!0)}function dg(t,e){return Mt(t)?t:new $0(t,e)}class $0{constructor(e,r){this.dep=new mc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:He(e),this._value=r?e:It(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||ir(e)||Wn(e);e=n?e:He(e),an(e,r)&&(this._rawValue=e,this._value=n?e:It(e),this.dep.trigger())}}function Le(t){return Mt(t)?t.value:t}const K0={get:(t,e,r)=>e==="__v_raw"?t:Le(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return Mt(a)&&!Mt(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function vg(t){return Ea(t)?t:new Proxy(t,K0)}class Y0{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new mc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Je!==this)return Jv(this,!0),!0}get value(){const e=this.dep.track();return rg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function X0(t,e,r=!1){let n,a;return Re(t)?n=t:(n=t.get,a=t.set),new Y0(n,a,r)}const ns={},Os=new WeakMap;let Ln;function Z0(t,e=!1,r=Ln){if(r){let n=Os.get(r);n||Os.set(r,n=[]),n.push(t)}}function J0(t,e,r=Ye){const{immediate:n,deep:a,once:i,scheduler:s,augmentJob:o,call:u}=r,l=w=>a?w:ir(w)||a===!1||a===0?Nr(w,1):Nr(w);let c,f,h,d,v=!1,g=!1;if(Mt(t)?(f=()=>t.value,v=ir(t)):Ea(t)?(f=()=>l(t),v=!0):Be(t)?(g=!0,v=t.some(w=>Ea(w)||ir(w)),f=()=>t.map(w=>{if(Mt(w))return w.value;if(Ea(w))return l(w);if(Re(w))return u?u(w,2):w()})):Re(t)?e?f=u?()=>u(t,2):t:f=()=>{if(h){yn();try{h()}finally{bn()}}const w=Ln;Ln=c;try{return u?u(t,3,[d]):t(d)}finally{Ln=w}}:f=Cr,e&&a){const w=f,B=a===!0?1/0:a;f=()=>Nr(w(),B)}const p=T0(),m=()=>{c.stop(),p&&p.active&&fc(p.effects,c)};if(i&&e){const w=e;e=(...B)=>{w(...B),m()}}let y=g?new Array(t.length).fill(ns):ns;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const B=c.run();if(a||v||(g?B.some((T,k)=>an(T,y[k])):an(B,y))){h&&h();const T=Ln;Ln=c;try{const k=[B,y===ns?void 0:g&&y[0]===ns?[]:y,d];u?u(e,3,k):e(...k),y=B}finally{Ln=T}}}else c.run()};return o&&o(b),c=new Xv(f),c.scheduler=s?()=>s(b,!1):b,d=w=>Z0(w,!1,c),h=c.onStop=()=>{const w=Os.get(c);if(w){if(u)u(w,4);else for(const B of w)B();Os.delete(c)}},e?n?b(!0):y=c.run():s?s(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Nr(t,e=1/0,r){if(e<=0||!nt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Mt(t))Nr(t.value,e,r);else if(Be(t))for(let n=0;n<t.length;n++)Nr(t[n],e,r);else if(Gv(t)||xa(t))t.forEach(n=>{Nr(n,e,r)});else if(Wv(t)){for(const n in t)Nr(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Nr(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oi(t,e,r,n){try{return n?t(...n):t()}catch(a){co(a,e,r)}}function _r(t,e,r,n){if(Re(t)){const a=Oi(t,e,r,n);return a&&Hv(a)&&a.catch(i=>{co(i,e,r)}),a}if(Be(t)){const a=[];for(let i=0;i<t.length;i++)a.push(_r(t[i],e,r,n));return a}}function co(t,e,r,n=!0){const a=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Ye;if(e){let o=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,u,l)===!1)return}o=o.parent}if(i){yn(),Oi(i,null,10,[t,u,l]),bn();return}}eb(t,r,a,n,s)}function eb(t,e,r,n=!0,a=!1){if(a)throw t;console.error(t)}const Vt=[];let xr=-1;const Aa=[];let Xr=null,va=0;const gg=Promise.resolve();let Ns=null;function pg(t){const e=Ns||gg;return t?e.then(this?t.bind(this):t):e}function tb(t){let e=xr+1,r=Vt.length;for(;e<r;){const n=e+r>>>1,a=Vt[n],i=xi(a);i<t||i===t&&a.flags&2?e=n+1:r=n}return e}function xc(t){if(!(t.flags&1)){const e=xi(t),r=Vt[Vt.length-1];!r||!(t.flags&2)&&e>=xi(r)?Vt.push(t):Vt.splice(tb(e),0,t),t.flags|=1,mg()}}function mg(){Ns||(Ns=gg.then(bg))}function rb(t){Be(t)?Aa.push(...t):Xr&&t.id===-1?Xr.splice(va+1,0,t):t.flags&1||(Aa.push(t),t.flags|=1),mg()}function cf(t,e,r=xr+1){for(;r<Vt.length;r++){const n=Vt[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Vt.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function yg(t){if(Aa.length){const e=[...new Set(Aa)].sort((r,n)=>xi(r)-xi(n));if(Aa.length=0,Xr){Xr.push(...e);return}for(Xr=e,va=0;va<Xr.length;va++){const r=Xr[va];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Xr=null,va=0}}const xi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function bg(t){try{for(xr=0;xr<Vt.length;xr++){const e=Vt[xr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Oi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xr<Vt.length;xr++){const e=Vt[xr];e&&(e.flags&=-2)}xr=-1,Vt.length=0,yg(),Ns=null,(Vt.length||Aa.length)&&bg()}}let nr=null,wg=null;function Fs(t){const e=nr;return nr=t,wg=t&&t.type.__scopeId||null,e}function Zr(t,e=nr,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&bf(-1);const i=Fs(e);let s;try{s=t(...a)}finally{Fs(i),n._d&&bf(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function nb(t,e){if(nr===null)return t;const r=po(nr),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,s,o,u=Ye]=e[a];i&&(Re(i)&&(i={mounted:i,updated:i}),i.deep&&Nr(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:o,modifiers:u}))}return t}function Tn(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let s=0;s<a.length;s++){const o=a[s];i&&(o.oldValue=i[s].value);let u=o.dir[n];u&&(yn(),_r(u,r,8,[t.el,o,t,e]),bn())}}const ab=Symbol("_vte"),ib=t=>t.__isTeleport;function Ec(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ec(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function xg(t,e){return Re(t)?Lt({name:t.name},e,{setup:t}):t}function Eg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function zs(t,e,r,n,a=!1){if(Be(t)){t.forEach((v,g)=>zs(v,e&&(Be(e)?e[g]:e),r,n,a));return}if(fi(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&zs(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?po(n.component):n.el,s=a?null:i,{i:o,r:u}=t,l=e&&e.r,c=o.refs===Ye?o.refs={}:o.refs,f=o.setupState,h=He(f),d=f===Ye?()=>!1:v=>je(h,v);if(l!=null&&l!==u&&(ht(l)?(c[l]=null,d(l)&&(f[l]=null)):Mt(l)&&(l.value=null)),Re(u))Oi(u,o,12,[s,c]);else{const v=ht(u),g=Mt(u);if(v||g){const p=()=>{if(t.f){const m=v?d(u)?f[u]:c[u]:u.value;a?Be(m)&&fc(m,i):Be(m)?m.includes(i)||m.push(i):v?(c[u]=[i],d(u)&&(f[u]=c[u])):(u.value=[i],t.k&&(c[t.k]=u.value))}else v?(c[u]=s,d(u)&&(f[u]=s)):g&&(u.value=s,t.k&&(c[t.k]=s))};s?(p.id=-1,Xt(p,r)):p()}}}oo().requestIdleCallback;oo().cancelIdleCallback;const fi=t=>!!t.type.__asyncLoader,Ag=t=>t.type.__isKeepAlive;function sb(t,e){Cg(t,"a",e)}function ob(t,e){Cg(t,"da",e)}function Cg(t,e,r=Gt){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(fo(e,n,r),r){let a=r.parent;for(;a&&a.parent;)Ag(a.parent.vnode)&&ub(n,e,r,a),a=a.parent}}function ub(t,e,r,n){const a=fo(e,t,n,!0);Sg(()=>{fc(n[e],a)},r)}function fo(t,e,r=Gt,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{yn();const o=Ni(r),u=_r(e,r,t,s);return o(),bn(),u});return n?a.unshift(i):a.push(i),i}}const Gr=t=>(e,r=Gt)=>{(!Ai||t==="sp")&&fo(t,(...n)=>e(...n),r)},lb=Gr("bm"),_g=Gr("m"),cb=Gr("bu"),fb=Gr("u"),hb=Gr("bum"),Sg=Gr("um"),db=Gr("sp"),vb=Gr("rtg"),gb=Gr("rtc");function pb(t,e=Gt){fo("ec",t,e)}const mb=Symbol.for("v-ndc");function sn(t,e,r,n){let a;const i=r,s=Be(t);if(s||ht(t)){const o=s&&Ea(t);let u=!1;o&&(u=!ir(t),t=uo(t)),a=new Array(t.length);for(let l=0,c=t.length;l<c;l++)a[l]=e(u?It(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,i)}else if(nt(t))if(t[Symbol.iterator])a=Array.from(t,(o,u)=>e(o,u,void 0,i));else{const o=Object.keys(t);a=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];a[u]=e(t[c],c,u,i)}}else a=[];return a}const Ml=t=>t?Qg(t)?po(t):Ml(t.parent):null,hi=Lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ml(t.parent),$root:t=>Ml(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>kg(t),$forceUpdate:t=>t.f||(t.f=()=>{xc(t.update)}),$nextTick:t=>t.n||(t.n=pg.bind(t.proxy)),$watch:t=>Fb.bind(t)}),Wo=(t,e)=>t!==Ye&&!t.__isScriptSetup&&je(t,e),yb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:s,type:o,appContext:u}=t;let l;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(Wo(n,e))return s[e]=1,n[e];if(a!==Ye&&je(a,e))return s[e]=2,a[e];if((l=t.propsOptions[0])&&je(l,e))return s[e]=3,i[e];if(r!==Ye&&je(r,e))return s[e]=4,r[e];Ll&&(s[e]=0)}}const c=hi[e];let f,h;if(c)return e==="$attrs"&&Rt(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==Ye&&je(r,e))return s[e]=4,r[e];if(h=u.config.globalProperties,je(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return Wo(a,e)?(a[e]=r,!0):n!==Ye&&je(n,e)?(n[e]=r,!0):je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},s){let o;return!!r[s]||t!==Ye&&je(t,s)||Wo(e,s)||(o=i[0])&&je(o,s)||je(n,s)||je(hi,s)||je(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:je(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ff(t){return Be(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ll=!0;function bb(t){const e=kg(t),r=t.proxy,n=t.ctx;Ll=!1,e.beforeCreate&&hf(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:s,watch:o,provide:u,inject:l,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:B,renderTracked:T,renderTriggered:k,errorCaptured:A,serverPrefetch:E,expose:P,inheritAttrs:S,components:_,directives:x,filters:C}=e;if(l&&wb(l,n,null),s)for(const M in s){const N=s[M];Re(N)&&(n[M]=N.bind(r))}if(a){const M=a.call(r,r);nt(M)&&(t.data=lo(M))}if(Ll=!0,i)for(const M in i){const N=i[M],F=Re(N)?N.bind(r,r):Re(N.get)?N.get.bind(r,r):Cr,q=!Re(N)&&Re(N.set)?N.set.bind(r):Cr,j=lr({get:F,set:q});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>j.value,set:U=>j.value=U})}if(o)for(const M in o)Tg(o[M],n,r,M);if(u){const M=Re(u)?u.call(r):u;Reflect.ownKeys(M).forEach(N=>{bs(N,M[N])})}c&&hf(c,t,"c");function R(M,N){Be(N)?N.forEach(F=>M(F.bind(r))):N&&M(N.bind(r))}if(R(lb,f),R(_g,h),R(cb,d),R(fb,v),R(sb,g),R(ob,p),R(pb,A),R(gb,T),R(vb,k),R(hb,y),R(Sg,w),R(db,E),Be(P))if(P.length){const M=t.exposed||(t.exposed={});P.forEach(N=>{Object.defineProperty(M,N,{get:()=>r[N],set:F=>r[N]=F})})}else t.exposed||(t.exposed={});B&&t.render===Cr&&(t.render=B),S!=null&&(t.inheritAttrs=S),_&&(t.components=_),x&&(t.directives=x),E&&Eg(t)}function wb(t,e,r=Cr){Be(t)&&(t=Ol(t));for(const n in t){const a=t[n];let i;nt(a)?"default"in a?i=zr(a.from||n,a.default,!0):i=zr(a.from||n):i=zr(a),Mt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[n]=i}}function hf(t,e,r){_r(Be(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Tg(t,e,r,n){let a=n.includes(".")?Gg(r,n):()=>r[n];if(ht(t)){const i=e[t];Re(i)&&ws(a,i)}else if(Re(t))ws(a,t.bind(r));else if(nt(t))if(Be(t))t.forEach(i=>Tg(i,e,r,n));else{const i=Re(t.handler)?t.handler.bind(r):e[t.handler];Re(i)&&ws(a,i,t)}}function kg(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,o=i.get(e);let u;return o?u=o:!a.length&&!r&&!n?u=e:(u={},a.length&&a.forEach(l=>qs(u,l,s,!0)),qs(u,e,s)),nt(e)&&i.set(e,u),u}function qs(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&qs(t,i,r,!0),a&&a.forEach(s=>qs(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=xb[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const xb={data:df,props:vf,emits:vf,methods:ai,computed:ai,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:ai,directives:ai,watch:Ab,provide:df,inject:Eb};function df(t,e){return e?t?function(){return Lt(Re(t)?t.call(this,this):t,Re(e)?e.call(this,this):e)}:e:t}function Eb(t,e){return ai(Ol(t),Ol(e))}function Ol(t){if(Be(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function ai(t,e){return t?Lt(Object.create(null),t,e):e}function vf(t,e){return t?Be(t)&&Be(e)?[...new Set([...t,...e])]:Lt(Object.create(null),ff(t),ff(e??{})):e}function Ab(t,e){if(!t)return e;if(!e)return t;const r=Lt(Object.create(null),t);for(const n in e)r[n]=zt(t[n],e[n]);return r}function Pg(){return{app:null,config:{isNativeTag:v0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cb=0;function _b(t,e){return function(n,a=null){Re(n)||(n=Lt({},n)),a!=null&&!nt(a)&&(a=null);const i=Pg(),s=new WeakSet,o=[];let u=!1;const l=i.app={_uid:Cb++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:a1,get config(){return i.config},set config(c){},use(c,...f){return s.has(c)||(c&&Re(c.install)?(s.add(c),c.install(l,...f)):Re(c)&&(s.add(c),c(l,...f))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,f){return f?(i.components[c]=f,l):i.components[c]},directive(c,f){return f?(i.directives[c]=f,l):i.directives[c]},mount(c,f,h){if(!u){const d=l._ceVNode||at(n,a);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(d,c,h),u=!0,l._container=c,c.__vue_app__=l,po(d.component)}},onUnmount(c){o.push(c)},unmount(){u&&(_r(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,f){return i.provides[c]=f,l},runWithContext(c){const f=Ca;Ca=l;try{return c()}finally{Ca=f}}};return l}}let Ca=null;function bs(t,e){if(Gt){let r=Gt.provides;const n=Gt.parent&&Gt.parent.provides;n===r&&(r=Gt.provides=Object.create(n)),r[t]=e}}function zr(t,e,r=!1){const n=Gt||nr;if(n||Ca){const a=Ca?Ca._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Re(e)?e.call(n&&n.proxy):e}}const Bg={},Dg=()=>Object.create(Bg),Rg=t=>Object.getPrototypeOf(t)===Bg;function Sb(t,e,r,n=!1){const a={},i=Dg();t.propsDefaults=Object.create(null),Ig(t,e,a,i);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=n?a:fg(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function Tb(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:s}}=t,o=He(a),[u]=t.propsOptions;let l=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(ho(t.emitsOptions,h))continue;const d=e[h];if(u)if(je(i,h))d!==i[h]&&(i[h]=d,l=!0);else{const v=ln(h);a[v]=Nl(u,o,v,d,t,!1)}else d!==i[h]&&(i[h]=d,l=!0)}}}else{Ig(t,e,a,i)&&(l=!0);let c;for(const f in o)(!e||!je(e,f)&&((c=Zn(f))===f||!je(e,c)))&&(u?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=Nl(u,o,f,void 0,t,!0)):delete a[f]);if(i!==o)for(const f in i)(!e||!je(e,f))&&(delete i[f],l=!0)}l&&Or(t.attrs,"set","")}function Ig(t,e,r,n){const[a,i]=t.propsOptions;let s=!1,o;if(e)for(let u in e){if(ui(u))continue;const l=e[u];let c;a&&je(a,c=ln(u))?!i||!i.includes(c)?r[c]=l:(o||(o={}))[c]=l:ho(t.emitsOptions,u)||(!(u in n)||l!==n[u])&&(n[u]=l,s=!0)}if(i){const u=He(r),l=o||Ye;for(let c=0;c<i.length;c++){const f=i[c];r[f]=Nl(a,u,f,l[f],t,!je(l,f))}}return s}function Nl(t,e,r,n,a,i){const s=t[r];if(s!=null){const o=je(s,"default");if(o&&n===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Re(u)){const{propsDefaults:l}=a;if(r in l)n=l[r];else{const c=Ni(a);n=l[r]=u.call(null,e),c()}}else n=u;a.ce&&a.ce._setProp(r,n)}s[0]&&(i&&!o?n=!1:s[1]&&(n===""||n===Zn(r))&&(n=!0))}return n}const kb=new WeakMap;function Mg(t,e,r=!1){const n=r?kb:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,s={},o=[];let u=!1;if(!Re(t)){const c=f=>{u=!0;const[h,d]=Mg(f,e,!0);Lt(s,h),d&&o.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!u)return nt(t)&&n.set(t,wa),wa;if(Be(i))for(let c=0;c<i.length;c++){const f=ln(i[c]);gf(f)&&(s[f]=Ye)}else if(i)for(const c in i){const f=ln(c);if(gf(f)){const h=i[c],d=s[f]=Be(h)||Re(h)?{type:h}:Lt({},h),v=d.type;let g=!1,p=!0;if(Be(v))for(let m=0;m<v.length;++m){const y=v[m],b=Re(y)&&y.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(p=!1)}else g=Re(v)&&v.name==="Boolean";d[0]=g,d[1]=p,(g||je(d,"default"))&&o.push(f)}}const l=[s,o];return nt(t)&&n.set(t,l),l}function gf(t){return t[0]!=="$"&&!ui(t)}const Lg=t=>t[0]==="_"||t==="$stable",Ac=t=>Be(t)?t.map(Er):[Er(t)],Pb=(t,e,r)=>{if(e._n)return e;const n=Zr((...a)=>Ac(e(...a)),r);return n._c=!1,n},Og=(t,e,r)=>{const n=t._ctx;for(const a in t){if(Lg(a))continue;const i=t[a];if(Re(i))e[a]=Pb(a,i,n);else if(i!=null){const s=Ac(i);e[a]=()=>s}}},Ng=(t,e)=>{const r=Ac(e);t.slots.default=()=>r},Fg=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},Bb=(t,e,r)=>{const n=t.slots=Dg();if(t.vnode.shapeFlag&32){const a=e._;a?(Fg(n,e,r),r&&Qv(n,"_",a,!0)):Og(e,n)}else e&&Ng(t,e)},Db=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,s=Ye;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:Fg(a,e,r):(i=!e.$stable,Og(e,a)),s=e}else e&&(Ng(t,e),s={default:1});if(i)for(const o in a)!Lg(o)&&s[o]==null&&delete a[o]},Xt=Wb;function Rb(t){return Ib(t)}function Ib(t,e){const r=oo();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:s,createText:o,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=Cr,insertStaticContent:v}=t,g=(D,L,z,Q=null,ne=null,J=null,ae=void 0,te=null,oe=!!L.dynamicChildren)=>{if(D===L)return;D&&!Wa(D,L)&&(Q=G(D),U(D,ne,J,!0),D=null),L.patchFlag===-2&&(oe=!1,L.dynamicChildren=null);const{type:se,ref:he,shapeFlag:ce}=L;switch(se){case vo:p(D,L,z,Q);break;case Un:m(D,L,z,Q);break;case xs:D==null&&y(L,z,Q,ae);break;case lt:_(D,L,z,Q,ne,J,ae,te,oe);break;default:ce&1?B(D,L,z,Q,ne,J,ae,te,oe):ce&6?x(D,L,z,Q,ne,J,ae,te,oe):(ce&64||ce&128)&&se.process(D,L,z,Q,ne,J,ae,te,oe,V)}he!=null&&ne&&zs(he,D&&D.ref,J,L||D,!L)},p=(D,L,z,Q)=>{if(D==null)n(L.el=o(L.children),z,Q);else{const ne=L.el=D.el;L.children!==D.children&&l(ne,L.children)}},m=(D,L,z,Q)=>{D==null?n(L.el=u(L.children||""),z,Q):L.el=D.el},y=(D,L,z,Q)=>{[D.el,D.anchor]=v(D.children,L,z,Q,D.el,D.anchor)},b=({el:D,anchor:L},z,Q)=>{let ne;for(;D&&D!==L;)ne=h(D),n(D,z,Q),D=ne;n(L,z,Q)},w=({el:D,anchor:L})=>{let z;for(;D&&D!==L;)z=h(D),a(D),D=z;a(L)},B=(D,L,z,Q,ne,J,ae,te,oe)=>{L.type==="svg"?ae="svg":L.type==="math"&&(ae="mathml"),D==null?T(L,z,Q,ne,J,ae,te,oe):E(D,L,ne,J,ae,te,oe)},T=(D,L,z,Q,ne,J,ae,te)=>{let oe,se;const{props:he,shapeFlag:ce,transition:de,dirs:ge}=D;if(oe=D.el=s(D.type,J,he&&he.is,he),ce&8?c(oe,D.children):ce&16&&A(D.children,oe,null,Q,ne,Uo(D,J),ae,te),ge&&Tn(D,null,Q,"created"),k(oe,D,D.scopeId,ae,Q),he){for(const _e in he)_e!=="value"&&!ui(_e)&&i(oe,_e,null,he[_e],J,Q);"value"in he&&i(oe,"value",null,he.value,J),(se=he.onVnodeBeforeMount)&&pr(se,Q,D)}ge&&Tn(D,null,Q,"beforeMount");const be=Mb(ne,de);be&&de.beforeEnter(oe),n(oe,L,z),((se=he&&he.onVnodeMounted)||be||ge)&&Xt(()=>{se&&pr(se,Q,D),be&&de.enter(oe),ge&&Tn(D,null,Q,"mounted")},ne)},k=(D,L,z,Q,ne)=>{if(z&&d(D,z),Q)for(let J=0;J<Q.length;J++)d(D,Q[J]);if(ne){let J=ne.subTree;if(L===J||jg(J.type)&&(J.ssContent===L||J.ssFallback===L)){const ae=ne.vnode;k(D,ae,ae.scopeId,ae.slotScopeIds,ne.parent)}}},A=(D,L,z,Q,ne,J,ae,te,oe=0)=>{for(let se=oe;se<D.length;se++){const he=D[se]=te?Jr(D[se]):Er(D[se]);g(null,he,L,z,Q,ne,J,ae,te)}},E=(D,L,z,Q,ne,J,ae)=>{const te=L.el=D.el;let{patchFlag:oe,dynamicChildren:se,dirs:he}=L;oe|=D.patchFlag&16;const ce=D.props||Ye,de=L.props||Ye;let ge;if(z&&kn(z,!1),(ge=de.onVnodeBeforeUpdate)&&pr(ge,z,L,D),he&&Tn(L,D,z,"beforeUpdate"),z&&kn(z,!0),(ce.innerHTML&&de.innerHTML==null||ce.textContent&&de.textContent==null)&&c(te,""),se?P(D.dynamicChildren,se,te,z,Q,Uo(L,ne),J):ae||N(D,L,te,null,z,Q,Uo(L,ne),J,!1),oe>0){if(oe&16)S(te,ce,de,z,ne);else if(oe&2&&ce.class!==de.class&&i(te,"class",null,de.class,ne),oe&4&&i(te,"style",ce.style,de.style,ne),oe&8){const be=L.dynamicProps;for(let _e=0;_e<be.length;_e++){const we=be[_e],Ne=ce[we],Te=de[we];(Te!==Ne||we==="value")&&i(te,we,Ne,Te,ne,z)}}oe&1&&D.children!==L.children&&c(te,L.children)}else!ae&&se==null&&S(te,ce,de,z,ne);((ge=de.onVnodeUpdated)||he)&&Xt(()=>{ge&&pr(ge,z,L,D),he&&Tn(L,D,z,"updated")},Q)},P=(D,L,z,Q,ne,J,ae)=>{for(let te=0;te<L.length;te++){const oe=D[te],se=L[te],he=oe.el&&(oe.type===lt||!Wa(oe,se)||oe.shapeFlag&70)?f(oe.el):z;g(oe,se,he,null,Q,ne,J,ae,!0)}},S=(D,L,z,Q,ne)=>{if(L!==z){if(L!==Ye)for(const J in L)!ui(J)&&!(J in z)&&i(D,J,L[J],null,ne,Q);for(const J in z){if(ui(J))continue;const ae=z[J],te=L[J];ae!==te&&J!=="value"&&i(D,J,te,ae,ne,Q)}"value"in z&&i(D,"value",L.value,z.value,ne)}},_=(D,L,z,Q,ne,J,ae,te,oe)=>{const se=L.el=D?D.el:o(""),he=L.anchor=D?D.anchor:o("");let{patchFlag:ce,dynamicChildren:de,slotScopeIds:ge}=L;ge&&(te=te?te.concat(ge):ge),D==null?(n(se,z,Q),n(he,z,Q),A(L.children||[],z,he,ne,J,ae,te,oe)):ce>0&&ce&64&&de&&D.dynamicChildren?(P(D.dynamicChildren,de,z,ne,J,ae,te),(L.key!=null||ne&&L===ne.subTree)&&zg(D,L,!0)):N(D,L,z,he,ne,J,ae,te,oe)},x=(D,L,z,Q,ne,J,ae,te,oe)=>{L.slotScopeIds=te,D==null?L.shapeFlag&512?ne.ctx.activate(L,z,Q,ae,oe):C(L,z,Q,ne,J,ae,oe):I(D,L,oe)},C=(D,L,z,Q,ne,J,ae)=>{const te=D.component=Zb(D,Q,ne);if(Ag(D)&&(te.ctx.renderer=V),Jb(te,!1,ae),te.asyncDep){if(ne&&ne.registerDep(te,R,ae),!D.el){const oe=te.subTree=at(Un);m(null,oe,L,z)}}else R(te,D,L,z,ne,J,ae)},I=(D,L,z)=>{const Q=L.component=D.component;if(Hb(D,L,z))if(Q.asyncDep&&!Q.asyncResolved){M(Q,L,z);return}else Q.next=L,Q.update();else L.el=D.el,Q.vnode=L},R=(D,L,z,Q,ne,J,ae)=>{const te=()=>{if(D.isMounted){let{next:ce,bu:de,u:ge,parent:be,vnode:_e}=D;{const le=qg(D);if(le){ce&&(ce.el=_e.el,M(D,ce,ae)),le.asyncDep.then(()=>{D.isUnmounted||te()});return}}let we=ce,Ne;kn(D,!1),ce?(ce.el=_e.el,M(D,ce,ae)):ce=_e,de&&qo(de),(Ne=ce.props&&ce.props.onVnodeBeforeUpdate)&&pr(Ne,be,ce,_e),kn(D,!0);const Te=mf(D),me=D.subTree;D.subTree=Te,g(me,Te,f(me.el),G(me),D,ne,J),ce.el=Te.el,we===null&&jb(D,Te.el),ge&&Xt(ge,ne),(Ne=ce.props&&ce.props.onVnodeUpdated)&&Xt(()=>pr(Ne,be,ce,_e),ne)}else{let ce;const{el:de,props:ge}=L,{bm:be,m:_e,parent:we,root:Ne,type:Te}=D,me=fi(L);kn(D,!1),be&&qo(be),!me&&(ce=ge&&ge.onVnodeBeforeMount)&&pr(ce,we,L),kn(D,!0);{Ne.ce&&Ne.ce._injectChildStyle(Te);const le=D.subTree=mf(D);g(null,le,z,Q,D,ne,J),L.el=le.el}if(_e&&Xt(_e,ne),!me&&(ce=ge&&ge.onVnodeMounted)){const le=L;Xt(()=>pr(ce,we,le),ne)}(L.shapeFlag&256||we&&fi(we.vnode)&&we.vnode.shapeFlag&256)&&D.a&&Xt(D.a,ne),D.isMounted=!0,L=z=Q=null}};D.scope.on();const oe=D.effect=new Xv(te);D.scope.off();const se=D.update=oe.run.bind(oe),he=D.job=oe.runIfDirty.bind(oe);he.i=D,he.id=D.uid,oe.scheduler=()=>xc(he),kn(D,!0),se()},M=(D,L,z)=>{L.component=D;const Q=D.vnode.props;D.vnode=L,D.next=null,Tb(D,L.props,Q,z),Db(D,L.children,z),yn(),cf(D),bn()},N=(D,L,z,Q,ne,J,ae,te,oe=!1)=>{const se=D&&D.children,he=D?D.shapeFlag:0,ce=L.children,{patchFlag:de,shapeFlag:ge}=L;if(de>0){if(de&128){q(se,ce,z,Q,ne,J,ae,te,oe);return}else if(de&256){F(se,ce,z,Q,ne,J,ae,te,oe);return}}ge&8?(he&16&&K(se,ne,J),ce!==se&&c(z,ce)):he&16?ge&16?q(se,ce,z,Q,ne,J,ae,te,oe):K(se,ne,J,!0):(he&8&&c(z,""),ge&16&&A(ce,z,Q,ne,J,ae,te,oe))},F=(D,L,z,Q,ne,J,ae,te,oe)=>{D=D||wa,L=L||wa;const se=D.length,he=L.length,ce=Math.min(se,he);let de;for(de=0;de<ce;de++){const ge=L[de]=oe?Jr(L[de]):Er(L[de]);g(D[de],ge,z,null,ne,J,ae,te,oe)}se>he?K(D,ne,J,!0,!1,ce):A(L,z,Q,ne,J,ae,te,oe,ce)},q=(D,L,z,Q,ne,J,ae,te,oe)=>{let se=0;const he=L.length;let ce=D.length-1,de=he-1;for(;se<=ce&&se<=de;){const ge=D[se],be=L[se]=oe?Jr(L[se]):Er(L[se]);if(Wa(ge,be))g(ge,be,z,null,ne,J,ae,te,oe);else break;se++}for(;se<=ce&&se<=de;){const ge=D[ce],be=L[de]=oe?Jr(L[de]):Er(L[de]);if(Wa(ge,be))g(ge,be,z,null,ne,J,ae,te,oe);else break;ce--,de--}if(se>ce){if(se<=de){const ge=de+1,be=ge<he?L[ge].el:Q;for(;se<=de;)g(null,L[se]=oe?Jr(L[se]):Er(L[se]),z,be,ne,J,ae,te,oe),se++}}else if(se>de)for(;se<=ce;)U(D[se],ne,J,!0),se++;else{const ge=se,be=se,_e=new Map;for(se=be;se<=de;se++){const re=L[se]=oe?Jr(L[se]):Er(L[se]);re.key!=null&&_e.set(re.key,se)}let we,Ne=0;const Te=de-be+1;let me=!1,le=0;const O=new Array(Te);for(se=0;se<Te;se++)O[se]=0;for(se=ge;se<=ce;se++){const re=D[se];if(Ne>=Te){U(re,ne,J,!0);continue}let ie;if(re.key!=null)ie=_e.get(re.key);else for(we=be;we<=de;we++)if(O[we-be]===0&&Wa(re,L[we])){ie=we;break}ie===void 0?U(re,ne,J,!0):(O[ie-be]=se+1,ie>=le?le=ie:me=!0,g(re,L[ie],z,null,ne,J,ae,te,oe),Ne++)}const ee=me?Lb(O):wa;for(we=ee.length-1,se=Te-1;se>=0;se--){const re=be+se,ie=L[re],ue=re+1<he?L[re+1].el:Q;O[se]===0?g(null,ie,z,ue,ne,J,ae,te,oe):me&&(we<0||se!==ee[we]?j(ie,z,ue,2):we--)}}},j=(D,L,z,Q,ne=null)=>{const{el:J,type:ae,transition:te,children:oe,shapeFlag:se}=D;if(se&6){j(D.component.subTree,L,z,Q);return}if(se&128){D.suspense.move(L,z,Q);return}if(se&64){ae.move(D,L,z,V);return}if(ae===lt){n(J,L,z);for(let ce=0;ce<oe.length;ce++)j(oe[ce],L,z,Q);n(D.anchor,L,z);return}if(ae===xs){b(D,L,z);return}if(Q!==2&&se&1&&te)if(Q===0)te.beforeEnter(J),n(J,L,z),Xt(()=>te.enter(J),ne);else{const{leave:ce,delayLeave:de,afterLeave:ge}=te,be=()=>n(J,L,z),_e=()=>{ce(J,()=>{be(),ge&&ge()})};de?de(J,be,_e):_e()}else n(J,L,z)},U=(D,L,z,Q=!1,ne=!1)=>{const{type:J,props:ae,ref:te,children:oe,dynamicChildren:se,shapeFlag:he,patchFlag:ce,dirs:de,cacheIndex:ge}=D;if(ce===-2&&(ne=!1),te!=null&&zs(te,null,z,D,!0),ge!=null&&(L.renderCache[ge]=void 0),he&256){L.ctx.deactivate(D);return}const be=he&1&&de,_e=!fi(D);let we;if(_e&&(we=ae&&ae.onVnodeBeforeUnmount)&&pr(we,L,D),he&6)Z(D.component,z,Q);else{if(he&128){D.suspense.unmount(z,Q);return}be&&Tn(D,null,L,"beforeUnmount"),he&64?D.type.remove(D,L,z,V,Q):se&&!se.hasOnce&&(J!==lt||ce>0&&ce&64)?K(se,L,z,!1,!0):(J===lt&&ce&384||!ne&&he&16)&&K(oe,L,z),Q&&X(D)}(_e&&(we=ae&&ae.onVnodeUnmounted)||be)&&Xt(()=>{we&&pr(we,L,D),be&&Tn(D,null,L,"unmounted")},z)},X=D=>{const{type:L,el:z,anchor:Q,transition:ne}=D;if(L===lt){Y(z,Q);return}if(L===xs){w(D);return}const J=()=>{a(z),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(D.shapeFlag&1&&ne&&!ne.persisted){const{leave:ae,delayLeave:te}=ne,oe=()=>ae(z,J);te?te(D.el,J,oe):oe()}else J()},Y=(D,L)=>{let z;for(;D!==L;)z=h(D),a(D),D=z;a(L)},Z=(D,L,z)=>{const{bum:Q,scope:ne,job:J,subTree:ae,um:te,m:oe,a:se}=D;pf(oe),pf(se),Q&&qo(Q),ne.stop(),J&&(J.flags|=8,U(ae,D,L,z)),te&&Xt(te,L),Xt(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},K=(D,L,z,Q=!1,ne=!1,J=0)=>{for(let ae=J;ae<D.length;ae++)U(D[ae],L,z,Q,ne)},G=D=>{if(D.shapeFlag&6)return G(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const L=h(D.anchor||D.el),z=L&&L[ab];return z?h(z):L};let $=!1;const W=(D,L,z)=>{D==null?L._vnode&&U(L._vnode,null,null,!0):g(L._vnode||null,D,L,null,null,null,z),L._vnode=D,$||($=!0,cf(),yg(),$=!1)},V={p:g,um:U,m:j,r:X,mt:C,mc:A,pc:N,pbc:P,n:G,o:t};return{render:W,hydrate:void 0,createApp:_b(W)}}function Uo({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function kn({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Mb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zg(t,e,r=!1){const n=t.children,a=e.children;if(Be(n)&&Be(a))for(let i=0;i<n.length;i++){const s=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=Jr(a[i]),o.el=s.el),!r&&o.patchFlag!==-2&&zg(s,o)),o.type===vo&&(o.el=s.el)}}function Lb(t){const e=t.slice(),r=[0];let n,a,i,s,o;const u=t.length;for(n=0;n<u;n++){const l=t[n];if(l!==0){if(a=r[r.length-1],t[a]<l){e[n]=a,r.push(n);continue}for(i=0,s=r.length-1;i<s;)o=i+s>>1,t[r[o]]<l?i=o+1:s=o;l<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}function qg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qg(e)}function pf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ob=Symbol.for("v-scx"),Nb=()=>zr(Ob);function ws(t,e,r){return Vg(t,e,r)}function Vg(t,e,r=Ye){const{immediate:n,deep:a,flush:i,once:s}=r,o=Lt({},r),u=e&&n||!e&&i!=="post";let l;if(Ai){if(i==="sync"){const d=Nb();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!u){const d=()=>{};return d.stop=Cr,d.resume=Cr,d.pause=Cr,d}}const c=Gt;o.call=(d,v,g)=>_r(d,c,v,g);let f=!1;i==="post"?o.scheduler=d=>{Xt(d,c&&c.suspense)}:i!=="sync"&&(f=!0,o.scheduler=(d,v)=>{v?d():xc(d)}),o.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=J0(t,e,o);return Ai&&(l?l.push(h):u&&h()),h}function Fb(t,e,r){const n=this.proxy,a=ht(t)?t.includes(".")?Gg(n,t):()=>n[t]:t.bind(n,n);let i;Re(e)?i=e:(i=e.handler,r=e);const s=Ni(this),o=Vg(a,i.bind(n),r);return s(),o}function Gg(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const zb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ln(e)}Modifiers`]||t[`${Zn(e)}Modifiers`];function qb(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ye;let a=r;const i=e.startsWith("update:"),s=i&&zb(n,e.slice(7));s&&(s.trim&&(a=r.map(c=>ht(c)?c.trim():c)),s.number&&(a=r.map(b0)));let o,u=n[o=zo(e)]||n[o=zo(ln(e))];!u&&i&&(u=n[o=zo(Zn(e))]),u&&_r(u,t,6,a);const l=n[o+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,_r(l,t,6,a)}}function Hg(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let s={},o=!1;if(!Re(t)){const u=l=>{const c=Hg(l,e,!0);c&&(o=!0,Lt(s,c))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!o?(nt(t)&&n.set(t,null),null):(Be(i)?i.forEach(u=>s[u]=null):Lt(s,i),nt(t)&&n.set(t,s),s)}function ho(t,e){return!t||!ao(e)?!1:(e=e.slice(2).replace(/Once$/,""),je(t,e[0].toLowerCase()+e.slice(1))||je(t,Zn(e))||je(t,e))}function mf(t){const{type:e,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:s,attrs:o,emit:u,render:l,renderCache:c,props:f,data:h,setupState:d,ctx:v,inheritAttrs:g}=t,p=Fs(t);let m,y;try{if(r.shapeFlag&4){const w=a||n,B=w;m=Er(l.call(B,w,c,f,d,h,v)),y=o}else{const w=e;m=Er(w.length>1?w(f,{attrs:o,slots:s,emit:u}):w(f,null)),y=e.props?o:Vb(o)}}catch(w){di.length=0,co(w,t,1),m=at(Un)}let b=m;if(y&&g!==!1){const w=Object.keys(y),{shapeFlag:B}=b;w.length&&B&7&&(i&&w.some(cc)&&(y=Gb(y,i)),b=Pa(b,y,!1,!0))}return r.dirs&&(b=Pa(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Ec(b,r.transition),m=b,Fs(p),m}const Vb=t=>{let e;for(const r in t)(r==="class"||r==="style"||ao(r))&&((e||(e={}))[r]=t[r]);return e},Gb=(t,e)=>{const r={};for(const n in t)(!cc(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Hb(t,e,r){const{props:n,children:a,component:i}=t,{props:s,children:o,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?yf(n,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==n[h]&&!ho(l,h))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?yf(n,s,l):!0:!!s;return!1}function yf(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!ho(r,i))return!0}return!1}function jb({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const jg=t=>t.__isSuspense;function Wb(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):rb(t)}const lt=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),xs=Symbol.for("v-stc"),di=[];let Jt=null;function ze(t=!1){di.push(Jt=t?null:[])}function Ub(){di.pop(),Jt=di[di.length-1]||null}let Ei=1;function bf(t,e=!1){Ei+=t,t<0&&Jt&&e&&(Jt.hasOnce=!0)}function Wg(t){return t.dynamicChildren=Ei>0?Jt||wa:null,Ub(),Ei>0&&Jt&&Jt.push(t),t}function Qe(t,e,r,n,a,i){return Wg(ve(t,e,r,n,a,i,!0))}function go(t,e,r,n,a){return Wg(at(t,e,r,n,a,!0))}function Vs(t){return t?t.__v_isVNode===!0:!1}function Wa(t,e){return t.type===e.type&&t.key===e.key}const Ug=({key:t})=>t??null,Es=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ht(t)||Mt(t)||Re(t)?{i:nr,r:t,k:e,f:!!r}:t:null);function ve(t,e=null,r=null,n=0,a=null,i=t===lt?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ug(e),ref:e&&Es(e),scopeId:wg,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:nr};return o?(_c(u,r),i&128&&t.normalize(u)):r&&(u.shapeFlag|=ht(r)?8:16),Ei>0&&!s&&Jt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Jt.push(u),u}const at=Qb;function Qb(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===mb)&&(t=Un),Vs(t)){const o=Pa(t,e,!0);return r&&_c(o,r),Ei>0&&!i&&Jt&&(o.shapeFlag&6?Jt[Jt.indexOf(t)]=o:Jt.push(o)),o.patchFlag=-2,o}if(n1(t)&&(t=t.__vccOpts),e){e=$b(e);let{class:o,style:u}=e;o&&!ht(o)&&(e.class=Vn(o)),nt(u)&&(wc(u)&&!Be(u)&&(u=Lt({},u)),e.style=dc(u))}const s=ht(t)?1:jg(t)?128:ib(t)?64:nt(t)?4:Re(t)?2:0;return ve(t,e,r,n,a,s,i,!0)}function $b(t){return t?wc(t)||Rg(t)?Lt({},t):t:null}function Pa(t,e,r=!1,n=!1){const{props:a,ref:i,patchFlag:s,children:o,transition:u}=t,l=e?Kb(a||{},e):a,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ug(l),ref:e&&e.ref?r&&i?Be(i)?i.concat(Es(e)):[i,Es(e)]:Es(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pa(t.ssContent),ssFallback:t.ssFallback&&Pa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&n&&Ec(c,u.clone(c)),c}function rn(t=" ",e=0){return at(vo,null,t,e)}function Cc(t,e){const r=at(xs,null,t);return r.staticCount=e,r}function jn(t="",e=!1){return e?(ze(),go(Un,null,t)):at(Un,null,t)}function Er(t){return t==null||typeof t=="boolean"?at(Un):Be(t)?at(lt,null,t.slice()):Vs(t)?Jr(t):at(vo,null,String(t))}function Jr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pa(t)}function _c(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Be(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),_c(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!Rg(e)?e._ctx=nr:a===3&&nr&&(nr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Re(e)?(e={default:e,_ctx:nr},r=32):(e=String(e),n&64?(r=16,e=[rn(e)]):r=8);t.children=e,t.shapeFlag|=r}function Kb(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Vn([e.class,n.class]));else if(a==="style")e.style=dc([e.style,n.style]);else if(ao(a)){const i=e[a],s=n[a];s&&i!==s&&!(Be(i)&&i.includes(s))&&(e[a]=i?[].concat(i,s):s)}else a!==""&&(e[a]=n[a])}return e}function pr(t,e,r,n=null){_r(t,e,7,[r,n])}const Yb=Pg();let Xb=0;function Zb(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||Yb,i={uid:Xb++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new S0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mg(n,a),emitsOptions:Hg(n,a),emit:null,emitted:null,propsDefaults:Ye,inheritAttrs:n.inheritAttrs,ctx:Ye,data:Ye,props:Ye,attrs:Ye,slots:Ye,refs:Ye,setupState:Ye,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=qb.bind(null,i),t.ce&&t.ce(i),i}let Gt=null,Gs,Fl;{const t=oo(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(s=>s(i)):a[0](i)}};Gs=e("__VUE_INSTANCE_SETTERS__",r=>Gt=r),Fl=e("__VUE_SSR_SETTERS__",r=>Ai=r)}const Ni=t=>{const e=Gt;return Gs(t),t.scope.on(),()=>{t.scope.off(),Gs(e)}},wf=()=>{Gt&&Gt.scope.off(),Gs(null)};function Qg(t){return t.vnode.shapeFlag&4}let Ai=!1;function Jb(t,e=!1,r=!1){e&&Fl(e);const{props:n,children:a}=t.vnode,i=Qg(t);Sb(t,n,i,e),Bb(t,a,r);const s=i?e1(t,e):void 0;return e&&Fl(!1),s}function e1(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yb);const{setup:n}=r;if(n){yn();const a=t.setupContext=n.length>1?r1(t):null,i=Ni(t),s=Oi(n,t,0,[t.props,a]),o=Hv(s);if(bn(),i(),(o||t.sp)&&!fi(t)&&Eg(t),o){if(s.then(wf,wf),e)return s.then(u=>{xf(t,u)}).catch(u=>{co(u,t,0)});t.asyncDep=s}else xf(t,s)}else $g(t)}function xf(t,e,r){Re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nt(e)&&(t.setupState=vg(e)),$g(t)}function $g(t,e,r){const n=t.type;t.render||(t.render=n.render||Cr);{const a=Ni(t);yn();try{bb(t)}finally{bn(),a()}}}const t1={get(t,e){return Rt(t,"get",""),t[e]}};function r1(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,t1),slots:t.slots,emit:t.emit,expose:e}}function po(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(vg(U0(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in hi)return hi[r](t)},has(e,r){return r in e||r in hi}})):t.proxy}function n1(t){return Re(t)&&"__vccOpts"in t}const lr=(t,e)=>X0(t,e,Ai);function Kg(t,e,r){const n=arguments.length;return n===2?nt(e)&&!Be(e)?Vs(e)?at(t,null,[e]):at(t,e):at(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Vs(r)&&(r=[r]),at(t,e,r))}const a1="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zl;const Ef=typeof window<"u"&&window.trustedTypes;if(Ef)try{zl=Ef.createPolicy("vue",{createHTML:t=>t})}catch{}const Yg=zl?t=>zl.createHTML(t):t=>t,i1="http://www.w3.org/2000/svg",s1="http://www.w3.org/1998/Math/MathML",Mr=typeof document<"u"?document:null,Af=Mr&&Mr.createElement("template"),o1={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?Mr.createElementNS(i1,t):e==="mathml"?Mr.createElementNS(s1,t):r?Mr.createElement(t,{is:r}):Mr.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Mr.createTextNode(t),createComment:t=>Mr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Mr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const s=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{Af.innerHTML=Yg(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=Af.content;if(n==="svg"||n==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},u1=Symbol("_vtc");function l1(t,e,r){const n=t[u1];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Hs=Symbol("_vod"),Xg=Symbol("_vsh"),c1={beforeMount(t,{value:e},{transition:r}){t[Hs]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ua(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ua(t,!0),n.enter(t)):n.leave(t,()=>{Ua(t,!1)}):Ua(t,e))},beforeUnmount(t,{value:e}){Ua(t,e)}};function Ua(t,e){t.style.display=e?t[Hs]:"none",t[Xg]=!e}const f1=Symbol(""),h1=/(^|;)\s*display\s*:/;function d1(t,e,r){const n=t.style,a=ht(r);let i=!1;if(r&&!a){if(e)if(ht(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&As(n,o,"")}else for(const s in e)r[s]==null&&As(n,s,"");for(const s in r)s==="display"&&(i=!0),As(n,s,r[s])}else if(a){if(e!==r){const s=n[f1];s&&(r+=";"+s),n.cssText=r,i=h1.test(r)}}else e&&t.removeAttribute("style");Hs in t&&(t[Hs]=i?n.display:"",t[Xg]&&(n.display="none"))}const Cf=/\s*!important$/;function As(t,e,r){if(Be(r))r.forEach(n=>As(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=v1(t,e);Cf.test(r)?t.setProperty(Zn(n),r.replace(Cf,""),"important"):t[n]=r}}const _f=["Webkit","Moz","ms"],Qo={};function v1(t,e){const r=Qo[e];if(r)return r;let n=ln(e);if(n!=="filter"&&n in t)return Qo[e]=n;n=Uv(n);for(let a=0;a<_f.length;a++){const i=_f[a]+n;if(i in t)return Qo[e]=i}return e}const Sf="http://www.w3.org/1999/xlink";function Tf(t,e,r,n,a,i=_0(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Sf,e.slice(6,e.length)):t.setAttributeNS(Sf,e,r):r==null||i&&!$v(r)?t.removeAttribute(e):t.setAttribute(e,i?"":mn(r)?String(r):r)}function kf(t,e,r,n,a){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Yg(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,u=r==null?t.type==="checkbox"?"on":"":String(r);(o!==u||!("_value"in t))&&(t.value=u),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=$v(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(a||e)}function g1(t,e,r,n){t.addEventListener(e,r,n)}function p1(t,e,r,n){t.removeEventListener(e,r,n)}const Pf=Symbol("_vei");function m1(t,e,r,n,a=null){const i=t[Pf]||(t[Pf]={}),s=i[e];if(n&&s)s.value=n;else{const[o,u]=y1(e);if(n){const l=i[e]=x1(n,a);g1(t,o,l,u)}else s&&(p1(t,o,s,u),i[e]=void 0)}}const Bf=/(?:Once|Passive|Capture)$/;function y1(t){let e;if(Bf.test(t)){e={};let n;for(;n=t.match(Bf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zn(t.slice(2)),e]}let $o=0;const b1=Promise.resolve(),w1=()=>$o||(b1.then(()=>$o=0),$o=Date.now());function x1(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;_r(E1(n,r.value),e,5,[n])};return r.value=t,r.attached=w1(),r}function E1(t,e){if(Be(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const Df=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,A1=(t,e,r,n,a,i)=>{const s=a==="svg";e==="class"?l1(t,n,s):e==="style"?d1(t,r,n):ao(e)?cc(e)||m1(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):C1(t,e,n,s))?(kf(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Tf(t,e,n,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ht(n))?kf(t,ln(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Tf(t,e,n,s))};function C1(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Df(e)&&Re(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Df(e)&&ht(r)?!1:e in t}const _1=["ctrl","shift","alt","meta"],S1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_1.some(r=>t[`${r}Key`]&&!e.includes(r))},T1=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let s=0;s<e.length;s++){const o=S1[e[s]];if(o&&o(a,e))return}return t(a,...i)})},k1=Lt({patchProp:A1},o1);let Rf;function P1(){return Rf||(Rf=Rb(k1))}const B1=(...t)=>{const e=P1().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=R1(n);if(!a)return;const i=e._component;!Re(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=r(a,!1,D1(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function D1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function R1(t){return ht(t)?document.querySelector(t):t}const I1="/assets/logo-CjHnnF-_.png";/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ga=typeof document<"u";function Zg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function M1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Zg(t.default)}const Ge=Object.assign;function Ko(t,e){const r={};for(const n in e){const a=e[n];r[n]=hr(a)?a.map(t):t(a)}return r}const vi=()=>{},hr=Array.isArray,Jg=/#/g,L1=/&/g,O1=/\//g,N1=/=/g,F1=/\?/g,ep=/\+/g,z1=/%5B/g,q1=/%5D/g,tp=/%5E/g,V1=/%60/g,rp=/%7B/g,G1=/%7C/g,np=/%7D/g,H1=/%20/g;function Sc(t){return encodeURI(""+t).replace(G1,"|").replace(z1,"[").replace(q1,"]")}function j1(t){return Sc(t).replace(rp,"{").replace(np,"}").replace(tp,"^")}function ql(t){return Sc(t).replace(ep,"%2B").replace(H1,"+").replace(Jg,"%23").replace(L1,"%26").replace(V1,"`").replace(rp,"{").replace(np,"}").replace(tp,"^")}function W1(t){return ql(t).replace(N1,"%3D")}function U1(t){return Sc(t).replace(Jg,"%23").replace(F1,"%3F")}function Q1(t){return t==null?"":U1(t).replace(O1,"%2F")}function Ci(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $1=/\/$/,K1=t=>t.replace($1,"");function Yo(t,e,r="/"){let n,a={},i="",s="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(n=e.slice(0,u),i=e.slice(u+1,o>-1?o:e.length),a=t(i)),o>-1&&(n=n||e.slice(0,o),s=e.slice(o,e.length)),n=J1(n??e,r),{fullPath:n+(i&&"?")+i+s,path:n,query:a,hash:Ci(s)}}function Y1(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function If(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function X1(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&Ba(e.matched[n],r.matched[a])&&ap(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ba(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ap(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Z1(t[r],e[r]))return!1;return!0}function Z1(t,e){return hr(t)?Mf(t,e):hr(e)?Mf(e,t):t===e}function Mf(t,e){return hr(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function J1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s).join("/")}const Qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _i;(function(t){t.pop="pop",t.push="push"})(_i||(_i={}));var gi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gi||(gi={}));function ew(t){if(!t)if(ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K1(t)}const tw=/^[^#]+#/;function rw(t,e){return t.replace(tw,"#")+e}function nw(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const mo=()=>({left:window.scrollX,top:window.scrollY});function aw(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=nw(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Lf(t,e){return(history.state?history.state.position-e:-1)+t}const Vl=new Map;function iw(t,e){Vl.set(t,e)}function sw(t){const e=Vl.get(t);return Vl.delete(t),e}let ow=()=>location.protocol+"//"+location.host;function ip(t,e){const{pathname:r,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let o=a.includes(t.slice(i))?t.slice(i).length:1,u=a.slice(o);return u[0]!=="/"&&(u="/"+u),If(u,"")}return If(r,t)+n+a}function uw(t,e,r,n){let a=[],i=[],s=null;const o=({state:h})=>{const d=ip(t,location),v=r.value,g=e.value;let p=0;if(h){if(r.value=d,e.value=h,s&&s===v){s=null;return}p=g?h.position-g.position:0}else n(d);a.forEach(m=>{m(r.value,v,{delta:p,type:_i.pop,direction:p?p>0?gi.forward:gi.back:gi.unknown})})};function u(){s=r.value}function l(h){a.push(h);const d=()=>{const v=a.indexOf(h);v>-1&&a.splice(v,1)};return i.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(Ge({},h.state,{scroll:mo()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:f}}function Of(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?mo():null}}function lw(t){const{history:e,location:r}=window,n={value:ip(t,r)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,l,c){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+u:ow()+t+u;try{e[c?"replaceState":"pushState"](l,"",h),a.value=l}catch(d){console.error(d),r[c?"replace":"assign"](h)}}function s(u,l){const c=Ge({},e.state,Of(a.value.back,u,a.value.forward,!0),l,{position:a.value.position});i(u,c,!0),n.value=u}function o(u,l){const c=Ge({},a.value,e.state,{forward:u,scroll:mo()});i(c.current,c,!0);const f=Ge({},Of(n.value,u,null),{position:c.position+1},l);i(u,f,!1),n.value=u}return{location:n,state:a,push:o,replace:s}}function cw(t){t=ew(t);const e=lw(t),r=uw(t,e.state,e.location,e.replace);function n(i,s=!0){s||r.pauseListeners(),history.go(i)}const a=Ge({location:"",base:t,go:n,createHref:rw.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function fw(t){return typeof t=="string"||t&&typeof t=="object"}function sp(t){return typeof t=="string"||typeof t=="symbol"}const op=Symbol("");var Nf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Nf||(Nf={}));function Da(t,e){return Ge(new Error,{type:t,[op]:!0},e)}function Dr(t,e){return t instanceof Error&&op in t&&(e==null||!!(t.type&e))}const Ff="[^/]+?",hw={sensitive:!1,strict:!1,start:!0,end:!0},dw=/[.+*?^${}()[\]/\\]/g;function vw(t,e){const r=Ge({},hw,e),n=[];let a=r.start?"^":"";const i=[];for(const l of t){const c=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(let f=0;f<l.length;f++){const h=l[f];let d=40+(r.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(dw,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:g,optional:p,regexp:m}=h;i.push({name:v,repeatable:g,optional:p});const y=m||Ff;if(y!==Ff){d+=10;try{new RegExp(`(${y})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+w.message)}}let b=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(b=p&&l.length<2?`(?:/${b})`:"/"+b),p&&(b+="?"),a+=b,d+=20,p&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}n.push(c)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function o(l){const c=l.match(s),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",v=i[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function u(l){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:v,repeatable:g,optional:p}=d,m=v in l?l[v]:"";if(hr(m)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=hr(m)?m.join("/"):m;if(!y)if(p)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c||"/"}return{re:s,score:n,keys:i,parse:o,stringify:u}}function gw(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function up(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const i=gw(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(zf(n))return 1;if(zf(a))return-1}return a.length-n.length}function zf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const pw={type:0,value:""},mw=/[a-zA-Z0-9_]/;function yw(t){if(!t)return[[]];if(t==="/")return[[pw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${l}": ${d}`)}let r=0,n=r;const a=[];let i;function s(){i&&a.push(i),i=[]}let o=0,u,l="",c="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&f(),s()):u===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:u==="("?r=2:mw.test(u)?h():(f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:f(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),s(),a}function bw(t,e,r){const n=vw(yw(t.path),r),a=Ge(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function ww(t,e){const r=[],n=new Map;e=Hf({strict:!1,end:!0,sensitive:!1},e);function a(f){return n.get(f)}function i(f,h,d){const v=!d,g=Vf(f);g.aliasOf=d&&d.record;const p=Hf(e,f),m=[g];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const B of w)m.push(Vf(Ge({},g,{components:d?d.record.components:g.components,path:B,aliasOf:d?d.record:g})))}let y,b;for(const w of m){const{path:B}=w;if(h&&B[0]!=="/"){const T=h.record.path,k=T[T.length-1]==="/"?"":"/";w.path=h.record.path+(B&&k+B)}if(y=bw(w,h,p),d?d.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),v&&f.name&&!Gf(y)&&s(f.name)),lp(y)&&u(y),g.children){const T=g.children;for(let k=0;k<T.length;k++)i(T[k],y,d&&d.children[k])}d=d||y}return b?()=>{s(b)}:vi}function s(f){if(sp(f)){const h=n.get(f);h&&(n.delete(f),r.splice(r.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=r.indexOf(f);h>-1&&(r.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function o(){return r}function u(f){const h=Aw(f,r);r.splice(h,0,f),f.record.name&&!Gf(f)&&n.set(f.record.name,f)}function l(f,h){let d,v={},g,p;if("name"in f&&f.name){if(d=n.get(f.name),!d)throw Da(1,{location:f});p=d.record.name,v=Ge(qf(h.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&qf(f.params,d.keys.map(b=>b.name))),g=d.stringify(v)}else if(f.path!=null)g=f.path,d=r.find(b=>b.re.test(g)),d&&(v=d.parse(g),p=d.record.name);else{if(d=h.name?n.get(h.name):r.find(b=>b.re.test(h.path)),!d)throw Da(1,{location:f,currentLocation:h});p=d.record.name,v=Ge({},h.params,f.params),g=d.stringify(v)}const m=[];let y=d;for(;y;)m.unshift(y.record),y=y.parent;return{name:p,path:g,params:v,matched:m,meta:Ew(m)}}t.forEach(f=>i(f));function c(){r.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:a}}function qf(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Vf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:xw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function xw(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Gf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ew(t){return t.reduce((e,r)=>Ge(e,r.meta),{})}function Hf(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Aw(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;up(t,e[i])<0?n=i:r=i+1}const a=Cw(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function Cw(t){let e=t;for(;e=e.parent;)if(lp(e)&&up(t,e)===0)return e}function lp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function _w(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(ep," "),s=i.indexOf("="),o=Ci(s<0?i:i.slice(0,s)),u=s<0?null:Ci(i.slice(s+1));if(o in e){let l=e[o];hr(l)||(l=e[o]=[l]),l.push(u)}else e[o]=u}return e}function jf(t){let e="";for(let r in t){const n=t[r];if(r=W1(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(hr(n)?n.map(i=>i&&ql(i)):[n&&ql(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function Sw(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=hr(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const Tw=Symbol(""),Wf=Symbol(""),Tc=Symbol(""),cp=Symbol(""),Gl=Symbol("");function Qa(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function en(t,e,r,n,a,i=s=>s()){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,u)=>{const l=h=>{h===!1?u(Da(4,{from:r,to:e})):h instanceof Error?u(h):fw(h)?u(Da(2,{from:e,to:h})):(s&&n.enterCallbacks[a]===s&&typeof h=="function"&&s.push(h),o())},c=i(()=>t.call(n&&n.instances[a],e,r,l));let f=Promise.resolve(c);t.length<3&&(f=f.then(l)),f.catch(h=>u(h))})}function Xo(t,e,r,n,a=i=>i()){const i=[];for(const s of t)for(const o in s.components){let u=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(Zg(u)){const c=(u.__vccOpts||u)[e];c&&i.push(en(c,r,n,s,o,a))}else{let l=u();i.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const f=M1(c)?c.default:c;s.mods[o]=c,s.components[o]=f;const d=(f.__vccOpts||f)[e];return d&&en(d,r,n,s,o,a)()}))}}return i}function Uf(t){const e=zr(Tc),r=zr(cp),n=lr(()=>{const u=Le(t.to);return e.resolve(u)}),a=lr(()=>{const{matched:u}=n.value,{length:l}=u,c=u[l-1],f=r.matched;if(!c||!f.length)return-1;const h=f.findIndex(Ba.bind(null,c));if(h>-1)return h;const d=Qf(u[l-2]);return l>1&&Qf(c)===d&&f[f.length-1].path!==d?f.findIndex(Ba.bind(null,u[l-2])):h}),i=lr(()=>a.value>-1&&Dw(r.params,n.value.params)),s=lr(()=>a.value>-1&&a.value===r.matched.length-1&&ap(r.params,n.value.params));function o(u={}){if(Bw(u)){const l=e[Le(t.replace)?"replace":"push"](Le(t.to)).catch(vi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:lr(()=>n.value.href),isActive:i,isExactActive:s,navigate:o}}function kw(t){return t.length===1?t[0]:t}const Pw=xg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uf,setup(t,{slots:e}){const r=lo(Uf(t)),{options:n}=zr(Tc),a=lr(()=>({[$f(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[$f(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&kw(e.default(r));return t.custom?i:Kg("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),tn=Pw;function Bw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Dw(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!hr(a)||a.length!==n.length||n.some((i,s)=>i!==a[s]))return!1}return!0}function Qf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $f=(t,e,r)=>t??e??r,Rw=xg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=zr(Gl),a=lr(()=>t.route||n.value),i=zr(Wf,0),s=lr(()=>{let l=Le(i);const{matched:c}=a.value;let f;for(;(f=c[l])&&!f.components;)l++;return l}),o=lr(()=>a.value.matched[s.value]);bs(Wf,lr(()=>s.value+1)),bs(Tw,o),bs(Gl,a);const u=wn();return ws(()=>[u.value,o.value,t.name],([l,c,f],[h,d,v])=>{c&&(c.instances[f]=l,d&&d!==c&&l&&l===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!Ba(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=a.value,c=t.name,f=o.value,h=f&&f.components[c];if(!h)return Kf(r.default,{Component:h,route:l});const d=f.props[c],v=d?d===!0?l.params:typeof d=="function"?d(l):d:null,p=Kg(h,Ge({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return Kf(r.default,{Component:p,route:l})||p}}});function Kf(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const fp=Rw;function Iw(t){const e=ww(t.routes,t),r=t.parseQuery||_w,n=t.stringifyQuery||jf,a=t.history,i=Qa(),s=Qa(),o=Qa(),u=Q0(Qr);let l=Qr;ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ko.bind(null,G=>""+G),f=Ko.bind(null,Q1),h=Ko.bind(null,Ci);function d(G,$){let W,V;return sp(G)?(W=e.getRecordMatcher(G),V=$):V=G,e.addRoute(V,W)}function v(G){const $=e.getRecordMatcher(G);$&&e.removeRoute($)}function g(){return e.getRoutes().map(G=>G.record)}function p(G){return!!e.getRecordMatcher(G)}function m(G,$){if($=Ge({},$||u.value),typeof G=="string"){const z=Yo(r,G,$.path),Q=e.resolve({path:z.path},$),ne=a.createHref(z.fullPath);return Ge(z,Q,{params:h(Q.params),hash:Ci(z.hash),redirectedFrom:void 0,href:ne})}let W;if(G.path!=null)W=Ge({},G,{path:Yo(r,G.path,$.path).path});else{const z=Ge({},G.params);for(const Q in z)z[Q]==null&&delete z[Q];W=Ge({},G,{params:f(z)}),$.params=f($.params)}const V=e.resolve(W,$),H=G.hash||"";V.params=c(h(V.params));const D=Y1(n,Ge({},G,{hash:j1(H),path:V.path})),L=a.createHref(D);return Ge({fullPath:D,hash:H,query:n===jf?Sw(G.query):G.query||{}},V,{redirectedFrom:void 0,href:L})}function y(G){return typeof G=="string"?Yo(r,G,u.value.path):Ge({},G)}function b(G,$){if(l!==G)return Da(8,{from:$,to:G})}function w(G){return k(G)}function B(G){return w(Ge(y(G),{replace:!0}))}function T(G){const $=G.matched[G.matched.length-1];if($&&$.redirect){const{redirect:W}=$;let V=typeof W=="function"?W(G):W;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=y(V):{path:V},V.params={}),Ge({query:G.query,hash:G.hash,params:V.path!=null?{}:G.params},V)}}function k(G,$){const W=l=m(G),V=u.value,H=G.state,D=G.force,L=G.replace===!0,z=T(W);if(z)return k(Ge(y(z),{state:typeof z=="object"?Ge({},H,z.state):H,force:D,replace:L}),$||W);const Q=W;Q.redirectedFrom=$;let ne;return!D&&X1(n,V,W)&&(ne=Da(16,{to:Q,from:V}),j(V,V,!0,!1)),(ne?Promise.resolve(ne):P(Q,V)).catch(J=>Dr(J)?Dr(J,2)?J:q(J):N(J,Q,V)).then(J=>{if(J){if(Dr(J,2))return k(Ge({replace:L},y(J.to),{state:typeof J.to=="object"?Ge({},H,J.to.state):H,force:D}),$||Q)}else J=_(Q,V,!0,L,H);return S(Q,V,J),J})}function A(G,$){const W=b(G,$);return W?Promise.reject(W):Promise.resolve()}function E(G){const $=Y.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(G):G()}function P(G,$){let W;const[V,H,D]=Mw(G,$);W=Xo(V.reverse(),"beforeRouteLeave",G,$);for(const z of V)z.leaveGuards.forEach(Q=>{W.push(en(Q,G,$))});const L=A.bind(null,G,$);return W.push(L),K(W).then(()=>{W=[];for(const z of i.list())W.push(en(z,G,$));return W.push(L),K(W)}).then(()=>{W=Xo(H,"beforeRouteUpdate",G,$);for(const z of H)z.updateGuards.forEach(Q=>{W.push(en(Q,G,$))});return W.push(L),K(W)}).then(()=>{W=[];for(const z of D)if(z.beforeEnter)if(hr(z.beforeEnter))for(const Q of z.beforeEnter)W.push(en(Q,G,$));else W.push(en(z.beforeEnter,G,$));return W.push(L),K(W)}).then(()=>(G.matched.forEach(z=>z.enterCallbacks={}),W=Xo(D,"beforeRouteEnter",G,$,E),W.push(L),K(W))).then(()=>{W=[];for(const z of s.list())W.push(en(z,G,$));return W.push(L),K(W)}).catch(z=>Dr(z,8)?z:Promise.reject(z))}function S(G,$,W){o.list().forEach(V=>E(()=>V(G,$,W)))}function _(G,$,W,V,H){const D=b(G,$);if(D)return D;const L=$===Qr,z=ga?history.state:{};W&&(V||L?a.replace(G.fullPath,Ge({scroll:L&&z&&z.scroll},H)):a.push(G.fullPath,H)),u.value=G,j(G,$,W,L),q()}let x;function C(){x||(x=a.listen((G,$,W)=>{if(!Z.listening)return;const V=m(G),H=T(V);if(H){k(Ge(H,{replace:!0,force:!0}),V).catch(vi);return}l=V;const D=u.value;ga&&iw(Lf(D.fullPath,W.delta),mo()),P(V,D).catch(L=>Dr(L,12)?L:Dr(L,2)?(k(Ge(y(L.to),{force:!0}),V).then(z=>{Dr(z,20)&&!W.delta&&W.type===_i.pop&&a.go(-1,!1)}).catch(vi),Promise.reject()):(W.delta&&a.go(-W.delta,!1),N(L,V,D))).then(L=>{L=L||_(V,D,!1),L&&(W.delta&&!Dr(L,8)?a.go(-W.delta,!1):W.type===_i.pop&&Dr(L,20)&&a.go(-1,!1)),S(V,D,L)}).catch(vi)}))}let I=Qa(),R=Qa(),M;function N(G,$,W){q(G);const V=R.list();return V.length?V.forEach(H=>H(G,$,W)):console.error(G),Promise.reject(G)}function F(){return M&&u.value!==Qr?Promise.resolve():new Promise((G,$)=>{I.add([G,$])})}function q(G){return M||(M=!G,C(),I.list().forEach(([$,W])=>G?W(G):$()),I.reset()),G}function j(G,$,W,V){const{scrollBehavior:H}=t;if(!ga||!H)return Promise.resolve();const D=!W&&sw(Lf(G.fullPath,0))||(V||!W)&&history.state&&history.state.scroll||null;return pg().then(()=>H(G,$,D)).then(L=>L&&aw(L)).catch(L=>N(L,G,$))}const U=G=>a.go(G);let X;const Y=new Set,Z={currentRoute:u,listening:!0,addRoute:d,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:g,resolve:m,options:t,push:w,replace:B,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:i.add,beforeResolve:s.add,afterEach:o.add,onError:R.add,isReady:F,install(G){const $=this;G.component("RouterLink",tn),G.component("RouterView",fp),G.config.globalProperties.$router=$,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Le(u)}),ga&&!X&&u.value===Qr&&(X=!0,w(a.location).catch(H=>{}));const W={};for(const H in Qr)Object.defineProperty(W,H,{get:()=>u.value[H],enumerable:!0});G.provide(Tc,$),G.provide(cp,fg(W)),G.provide(Gl,u);const V=G.unmount;Y.add(G),G.unmount=function(){Y.delete(G),Y.size<1&&(l=Qr,x&&x(),x=null,u.value=Qr,X=!1,M=!1),V()}}};function K(G){return G.reduce(($,W)=>$.then(()=>E(W)),Promise.resolve())}return Z}function Mw(t,e){const r=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const o=e.matched[s];o&&(t.matched.find(l=>Ba(l,o))?n.push(o):r.push(o));const u=t.matched[s];u&&(e.matched.find(l=>Ba(l,u))||a.push(u))}return[r,n,a]}const Hr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},Lw={class:"content"},Ow={class:"flex-row"},Nw={class:"flex-row icons"},Fw=["href"],zw={__name:"App",setup(t){const e="/";return(r,n)=>(ze(),Qe(lt,null,[ve("header",null,[at(Le(tn),{to:"/"},{default:Zr(()=>n[0]||(n[0]=[ve("div",{class:"flex-row nametag"},[ve("img",{alt:"Joel McCandless Logo",class:"logo",src:I1,height:"40px"}),ve("h1",null,"Joel McCandless")],-1)])),_:1}),ve("nav",null,[at(Le(tn),{to:"/"},{default:Zr(()=>n[1]||(n[1]=[rn("Home")])),_:1}),at(Le(tn),{to:"/experience"},{default:Zr(()=>n[2]||(n[2]=[rn("Experience")])),_:1}),at(Le(tn),{to:"/research"},{default:Zr(()=>n[3]||(n[3]=[rn("Research")])),_:1}),at(Le(tn),{to:"/projects"},{default:Zr(()=>n[4]||(n[4]=[rn("Projects")])),_:1}),at(Le(tn),{to:"/groups"},{default:Zr(()=>n[5]||(n[5]=[rn("Groups")])),_:1})])]),ve("div",Lw,[at(Le(fp))]),ve("footer",Ow,[ve("div",Nw,[n[7]||(n[7]=Cc('<a href="mailto:mail@joelmccandless.com" target="_blank" rel="noopener noreferrer" data-v-0ed30ede><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#FFFFFF" class="bi bi-envelope-fill" viewBox="0 0 16 16" data-v-0ed30ede><path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z" data-v-0ed30ede></path></svg></a><a href="https://www.linkedin.com/in/joel-mccandless-a09275273/" target="_blank" rel="noopener noreferrer" data-v-0ed30ede><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#FFFFFF" class="bi bi-linkedin" viewBox="0 0 16 16" data-v-0ed30ede><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z" data-v-0ed30ede></path></svg></a><a href="https://github.com/jmccand" target="_blank" rel="noopener noreferrer" data-v-0ed30ede><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#FFFFFF" class="bi bi-github" viewBox="0 0 16 16" data-v-0ed30ede><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8" data-v-0ed30ede></path></svg></a>',3)),ve("a",{href:`${Le(e)}Joel_McCandless.pdf`,target:"_blank",rel:"noopener noreferrer"},n[6]||(n[6]=[ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#FFFFFF",class:"bi bi-file-earmark-pdf-fill",viewBox:"0 0 16 16"},[ve("path",{d:"M5.523 12.424q.21-.124.459-.238a8 8 0 0 1-.45.606c-.28.337-.498.516-.635.572l-.035.012a.3.3 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548m2.455-1.647q-.178.037-.356.078a21 21 0 0 0 .5-1.05 12 12 0 0 0 .51.858q-.326.048-.654.114m2.525.939a4 4 0 0 1-.435-.41q.344.007.612.054c.317.057.466.147.518.209a.1.1 0 0 1 .026.064.44.44 0 0 1-.06.2.3.3 0 0 1-.094.124.1.1 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256M8.278 6.97c-.04.244-.108.524-.2.829a5 5 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.5.5 0 0 1 .145-.04c.013.03.028.092.032.198q.008.183-.038.465z"}),ve("path",{"fill-rule":"evenodd",d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m5.5 1.5v2a1 1 0 0 0 1 1h2zM4.165 13.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.7 11.7 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.86.86 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.84.84 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.8 5.8 0 0 0-1.335-.05 11 11 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.24 1.24 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a20 20 0 0 1-1.062 2.227 7.7 7.7 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103"})],-1)]),8,Fw),n[8]||(n[8]=ve("a",{href:"tel:781-267-2701"},[ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#FFFFFF",class:"bi bi-telephone-fill",viewBox:"0 0 16 16"},[ve("path",{"fill-rule":"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"})])],-1))]),n[9]||(n[9]=ve("p",null,[ve("b",null," © 2025 Joel McCandless. ")],-1))])],64))}},qw=Hr(zw,[["__scopeId","data-v-0ed30ede"]]),Vw="/assets/mitre-logo-DQcALq0D.png",Gw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAEICAMAAACQzmAoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFBA8XQ0tRgYeLwMPF7/DwFB4mIy00MzxD0NLTcnh94OHioaWoYmluU1pgsLS2kZaZ////LMRyEgAAABF0Uk5T/////////////////////wAlrZliAAAM/UlEQVR42uzd55bjqBaGYRRAOdz/1U75zJp1LFnAJkhdbd7vZ3e5SoHHbIJltTsyTnXVqa9IV9XTuBMSGGX9n3U26sti5pU7TnIA6WetvjJ67rnpJBFIU6kvTtVw20kCkP6refyPCL0IiQXSDqqADC23nsQAaYwqIoY6i0QAGVQxGbj5JBBIW6mCUlFmkSAgbaeKSocQEgCkN6qwdMxmETGQ0voP+hASAqREHwghYiCVKjIVTYBIgAyq0DDbSwRAGlVsWDEkXiCtKReIYRhCfEAGVXAosogHSK+KDqshxA2kKhsIM1nECaRRhYdxOnEBqUoHQhdCHEB6VXwYhRA7kBkgMw2BWIFogGgaArEBWfGhFM/LIjYgVFjUWMQBxMBDKUNLINdARnS8wnN7yTWQCRyvTDQFcgmkBscrNU2BXAKpwMFiOrED6cDxSkdTIJdAyL+hKRCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQQgACEAAQgBCAAIQABCAEIQAhAAEIAAhACEIAQgACEAAQghAAEIAQgACEAAQgBCEAIQABCAAIQAhCAEIAAhAAEIIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQABCAEIAAhBCAAIQABCAEIQAhAAEIAAhACEIAQgACEAAQgBCAAIQAhACEAAQgBCEAIQABCAAIQAhCAEIAAhAAEIAQgACEAAQghWYB01f+jQ16o315onL/WlQ4g5DcD6d5/S2vkLzTt+ws//ld+6P00G4CQ39qDNO+/Zo183Xb+3yrs8PtBPw+kfeu9zCp7zfD2pwbLz6wp3ueAi3bsfXUdds3fT1+vge1tSr1f3fh5Pm/XzYyy46jezmG6qcQ6/J4l6ka2OhHIz6+o9dNAmvfX1RFvRJafqR86gY97NQZd8SblflXJN6pxX7c68zkkHOnhUEZhM9XvBdY+q2QgLyIACTmBj7JWbQC5A4geI+7uZj3MaCAfNQNA3FWOpxgASK5p3uXwm0QFdOd7SRSQvZ0BEl9hBdZYABFn9XQHnrO7ahBxQC5G+wARV1hKTQC5BchhxlYyTp+9w5ZYIBeFA0Cu58q8tQBAcgEJHadrP6hoIPsMkPjr1ALkFiCqDypzJn9JFg8k8doXA0R77wxA8gE5/u4u4Icti++Hn6kt20yGeuovimsNkLgKK6zGAkhIBJ3CdXdTCxC5rqYZxqwD9b8diE6rRNuHgCylAfEt/Nl2WIwqEchryH++q90XARmasIwpFVZQjZUEZKxtOVQUs/XHpv3vAuLbOmKjVGUAonTjOO2/HEiz35JVtKZ1HxBh8RV09r8biGfzoeU9alU5gHy88RmAeDLYzr8FyE1AOtkgrJL1NIFATkImgHhihG81AMkG5HhIve2nRtH7WDAQ3ftWiQEiuT0B2+UBEjpOl7R9maJwILG77gsFcrg7h89maIDcBeQ4wLuunkwrbPjBQI61wQYQeYV13OK5AuQuIMdrO3l/YlM5gRhh3wSQ0+VZjlMlM0BuA+LtH4Qj9Cggx/VHgMgrrONRaYDcBsQ7whjFq4kRQIbwl5QKpDtN7C4xNRZAUjct1k4/jcoMpMoySi8ByHie3ZhiaiyApG5aPO9DNPZ3sRxAlBMnQCyDv+08La4Bch8Q5zq5dK0dIDcD6T7K3iqixgJI+qbFyjoL7PtUVQyQESBxFdbp7WoAyH1ATp+mta4jLio/kAYg4RXW8GnGAORGINbnMQSM0COB9AAJr7B6+78B5BYglof1eh/0wxjkISDtVW9Rh9dYAMmxGNL4OpabgAwAsWW6stCH11gAybJpcfEMTW5aB2Gh0JrrVUETXGMBJMumxX+nq3Qb2HpTV9INQCQVlr7ucgeA3AnkOJFe/7caZVseYS/Wo0Asq+ZNcI0FkEybFk3Mt+wk7uZtABJWYZ2e4tAD5E4gH+P0Jnj8nPh5kAEgkgrr/RPoc+jZACQhxw8XSj9GmAIkcBq5WCCTbbS42q8mQLIDqYQXIBuQ42fS4z8v9fVAZmuva3+HA0j+r4GeRO9g+YBM9lYAkPdoS4V1GpxsALkXiLY8X0n64Nyk52KlPJ33y4E4CqkpsMYCSFIsU+mDugGI6eP+SIFAZns30QbWWADJuGkxePo1BMhw6q1GBRBRhTU6muYGkJuBXHbSXXYg3dbGTQNkBmJqSYZgIIvvVwZ9Na1zqmoLq7F+N5BKdD/mPwjk6j1I/riqw8FO1sbRtJ7r9BiQjH8r8ARCvvRmdlXBY1iN9buB5J16vQWIHmNH6EkXfFWFAakDDtm9JbELqrEAknXT4sdE4k1Aeg0Q+8Vxb7iqg+4AQJLTO27PTUAarQBijWfLbq+siyQAeaDGegDIpBRAhBXW6vn/CSA3A6mdQ8QbgLTp33z31UAO71Da18MsALkXiIleRo+84JNWABFXWLP3jFqA3AqkSamAwi94U2U56m8G4quwTuuIE0DuBDJ7zz4jkHYymQ77i4GM/v5hDqixAJI2Qm+9VXAuIM225Dvuvw+IeCl987f+NaDGAkjudfSQkzgc7OrYLFB1eY87FoiuRAkGYny/cRZ/L20nqJ8CaqzfDcSIbkf3x4DY/lhrIl5fqecSC0T4QNtgIPk2K46S3mGR11hsVsy4Rhi8E+SvA/L7d/OK9iJOvplggGSJ4/10AcifASLaaXX8UMgKkHuAnL6s8PCXRw2QPwFEuFd38c5EAiQ956+7XYPH6QDJDUT4idpNXGMBJM8I/bV8/vEkOYA8DmSRlcCjuMYCSPQSyPixvyHsy0EAkh9IK5tDOQ1VZoDcAORKQ29drwXII0AOFZaRTnZpgOQHcvllth9VF0CeBSKssM6bHVaAZAdy/WW2k/VdCiAPAAmYvjXCGgsgcZmv+4rAbwgBSF4gAQuAg7AYA0iGTYqzpVvvAfIskFm8vHG6Nz1A8gLZrH8/6DsQAJIXiBZXWKefHQCSFUhlL2eDvkUHIFmBHHfADe6nqRlZjQWQ5E2KtaNzWQHyIJA50x0FSM5NiuddVyHjdIBkBaIz3VKA5NykuDgnuEaAPAYk5WmTBiD5gKyeu9I4CjCA3AdkTrkiPUByAal8w3BjH8ID5EYgSU+0GACSCchxk2It3aYFkLuB9ElXpANIJiC1f4hxNLQA5BEgQ9olGQGSBYjZBY368BwAx6ZFgGQEkvjMsA0gWYA0onmTwzh+A8gDQPrES9IBJAcQYd9wnAnuAHI/kGOF1UmeF6UFNRZAwkborbDqrUVvbgDJB8SEt+ReUGMBJL5Q7cVjvgEgdwMZJQMKJ6oOIMlAul3cokUfLgRINiCbZErKvbQ4AiS1XfWysffnOH0CyM1AOsmixjmrv9sBSOxqq+8j55JNiwDJBWRUEYd52t7YASTnCH0O4jQCxHWjlzosjbvC6qUnd1zEbX2nbxKP8suBrNY/KijIaoA4bnTyCXT2xVxXjqXv5Dv9fJf5G4FUu2htwzZONwC5D8ho77udae2LXABJ2qyzSV6x+a40QDKdwGTv6gPGAlc1FkCkOW5SFH14Tbs/WQWQbCdwuLY6enZ4Akh0zO5p7FeZPagAkucEWvtVD5r9WgASnSbqqjXusgwgeU7AP9aWrZ9c1FgAkWWxb1GQL713ALkHiH+21prBYwsgEUsgAffWPU4HSJYT8M9F2dN7XgsQ2QhkDJ3B+k/WZL0Zr/99uzSNBkjkCUz29yR/jPtgAVJkvgtIbZ+O92dWzrb6BJA+GsgW3ksCJDOQdnn7iJHwVm5vL7Hdw75KyHEpcH3/rynMx/H8lg9d7ZzrKI/u3n5sDqsJ3453EQ63hre/tgIkLxBSUJABEAIQgBCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBACEIAQgACEAAQgBCAAIQABCAEIQAhAAEIAAhACEIAQgBCAEIAAhAAEIAQgACEAAQgBCEAIQABCAAIQAhCAEIAAhBCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQAhACEAAQgBCAAIQABCAEIQAhAAEJ+NZAOG690NAVyCaQCxysVTYFcAqnB8UpNUyCXQCZwvDLRFMglkBEcr4w0BXIJZDfoUMrQEogFyAwPpWZaArEAWeGh1EpLIBYgu8aHpiEQKxBqLCos4gDSA6SnIRArkL34xXSW0YkLSFM6kIZ2QBxASu9C6ECIG0jPCIQQO5B9KNnHQCsgHiBtwftNTEsrIB4gJY/TGaETP5ByiywKLCIBUupMFjNYRAakLfLD6R0DECIDUqQQfBAxkL0vTkjHCgiRAymuD6H/IEFA9raokXqFDxIGpKjZXuZ3STiQvSlkTd2wPkhigOxtEZ3IQHlF4oDse//1I5GK2SsSD+SnzvpqIhXVFUkD8tOLzF/6rBM903uQdCA/WeevG6+bmedfkVxAfjJOdfUli4ddVU88f5cE5x8BBgCsv0OCF6Nc0QAAAABJRU5ErkJggg==",Hw="/assets/yankeetrails-logo-CZouVshD.png",hp="/assets/Christmas_qualifier-1TT2GN06.png",dp="/assets/FaceShields-CO6HgNub.jpg",vp="/assets/able-CZ4vNYEg.jpeg",gp="/assets/face_shields_group-C-JVBGFl.jpeg",pp="/assets/rpi_tennis_2023_2024-CBC_OOWX.jpeg",mp="/assets/rpisec_group-hXT1lmni.jpg",yp="/assets/rpisec_meeting-lVnooLAR.jpg",bp="/assets/tennis_caps-Timh5vyy.jpeg",wp="/assets/tennis_discuss-ioePdX--.JPG",xp="/assets/tennis_group-BBrz_jMT.JPG",Ep="/assets/tennis_serve-BSPi8I4v.JPG",Ap="/assets/acrylic-Cal9Zrzy.jpg",Cp="/assets/aws-Cbs_o6ur.png",_p="/assets/btt_final_move-DG34PNJL.png",Sp="/assets/btt_in_game-CStmcKZg.png",Tp="/assets/btt_start-BZe_q0aF.png",kp="/assets/caesar_cipher-z_wcDDKh.jpeg",Pp="/assets/clawbot_corner-BqBEs1Uc.jpg",Bp="/assets/clawbot_dark-CVnOpMRF.jpg",Dp="/assets/clawbot_light-QgYAC4Xz.jpg",Rp="/assets/clawbot_side-DozyvVyj.jpg",Ip="/assets/clawbot_testing-CwZ8DPCt.jpg",Mp="/assets/cropped_joel-BQbgTiE-.jpg",Lp="/assets/cs_graph-DfP6bUuG.png",Op="/assets/cytoscape-DkstShmC.png",Np="/assets/favicon512x512-BwnXv3M4.png",Fp="/assets/house_plaque-D19jSHPo.jpg",zp="/assets/logo-CjHnnF-_.png",qp="/assets/joel_serious-BcgDpgzF.jpg",Vp="/assets/joey-DAJmRX-d.jpg",Gp="/assets/joey_standing-BdirOEvt.jpg",Hp="/assets/nanobot-Brp9DLjS.png",jp="/assets/rov_bathtub-YkKqiisf.jpg",Wp="/assets/rov_outside-n6RQhKZJ.JPG",Up="/assets/shock_absorber_JM-DvtMvJH1.jpeg",Qp="/assets/shock_absorber_RPI-B_xofZZX.jpeg",$p="/assets/shock_absorber_racket-DWrqvDei.jpeg",Kp="/assets/substitution_cipher-C-Mf68xB.png",Yp="/assets/tesla_coil-CAj4BQcF.jpg",Xp="/assets/tesla_soldering-CDtuTNCw.jpg",Zp="/assets/watchband-CilfnWm-.jpg",Jp="/assets/watchband_bottom-BHCTEcSW.jpg",em="/assets/werewolf-BpZC1W-g.jpg",tm="/assets/minseg_parts-CV6kzts3.jpeg",rm="/assets/minseg_topview-ZF2EjnLE.jpeg",nm="/assets/minseg_wheels-Co4HAIB6.jpeg",am="/assets/robot-arm-DFFQofyH.png",im="/assets/shubble-BdviJH7-.png",jw="/assets/park-CMS3d_BC.jpeg",Ww=["Shubble","CourseMap","Cognitive Robotics for Education","9x9 Tic Tac Toe AI Player"],Uw={featured:Ww},sm=JSON.parse(`[{"name":"Personal Website","versions":[{"start":"2/25","end":"NOW","goal":"Record and share what makes me happy!","details":"This website is built as a Single Page Application (SPA) with Vue 3 and Vite. It's hosted on GitHub pages and connected to my DNS registration. Content from the application is stored in JSON files which are imported into the Vue components.","images":["joel-logo.png"],"tags":[],"more":[["GitHub","https://github.com/jmccand/personal_website_v2"]]},{"start":"12/23","end":"2/25","goal":"Record and share what makes me happy!","details":"Built using Vue js, Nuxt, and Tailwind. Hosted on AWS Amplify and connected to GitHub to update on push. Content is stored in JSON files.","images":["aws.png"],"tags":[],"more":[["GitHub","https://github.com/jmccand/personal_website"]]}]},{"name":"CourseMap","versions":[{"start":"1/24","end":"NOW","goal":"Use existing Open Source data and display it in an interactive graph!","details":"CourseMap seeks to make planning your four years of college easier. Have a high level course you want to take? CourseMap will tell you what you need to take leading up to it. It will also report statistics about the departments you span and what is required from your major. Currently being developed using CytoScape.js and Vue.js.","images":["cytoscape.png"],"tags":["web app","graph viz","data structures","d3.js"],"more":[]},{"start":"8/23","end":"1/24","goal":"Crawl the RPI course catalog and display course progressions!","details":"Web crawls and stores course information from the RPI catalog, caching information to minimize redundant network requests. Parses information using regex and displays it in a DOT-defined graph.","images":["cs_graph.png"],"tags":["web crawl","graph viz","data structures","regular expressions","caching"],"more":[["GitHub","https://github.com/jmccand/crawl-classes"]]}]},{"name":"Cognitive Robotics for Education","versions":[{"start":"11/23","end":"12/23","goal":"Assemble and program a robot to solve the Wumpus Challenge!","details":"My partner and I adapted the Rensselaer MinSeg Motor Kit and programmed an Arduino Nano 33 IoT using ArduinoC++ to solve the Wumpus Challenge. Some notable functionality from our project includes reading motor encoders and implementing a basic PID loop to reach target motor positions, creating and maintaining a Bluetooth Light connection between the Arduino and a phone, and connecting and reading infrared sensors for line detection. Additionally, we developed a lightweight algorithm which stores known information about the board and makes logical deductions from it to solve the puzzle. We also made a website using Vue.js with Nuxt and hosted on Amazon Web Services Amplify to document our meetings and results.","images":["nanobot.png"],"tags":["robotics","c++","wiring","web dev","collaboration"],"more":[["GitHub","https://github.com/ErikUmble/Wumpus-robot"],["Site","https://wumpus.erikumble.com/design"]]}]},{"name":"Custom Tennis Shock Absorbers","versions":[{"start":"8/24","end":"8/24","goal":"Design and 3D print custom shock absorbers for my own use!","details":"After my last shock absorber broke, I decided to try to design my own rather than buy a new one. I designed a shock absorber with the RPI logo on one side and my logo on the other, and printed it out of flexible TPU (Thermoplastic polyurethane) filament using my Prusa XL Multicolor. I embedded my logo and the RPI logo into the shock absorber to increase cohesion between the black and red TPU filaments. I iterated on the print settings and enlarged the features as much as I could, because the printer struggles with sub-millimeter details. The details were not very fine, but the shock absorber functions very well. Printing this part was very challenging because it's circular, so it requires a raft and a lot of supports to print. If I tried this again, perhaps I would design a square shock absorber.","images":["shock_absorber_JM.jpeg","shock_absorber_RPI.jpeg","shock_absorber_racket.jpeg"],"tags":[],"more":[]}]},{"name":"9x9 Tic Tac Toe AI Player","versions":[{"start":"6/22","end":"11/23","goal":"Develop an intelligent computer player to excel at 9x9 Tic Tac Toe!","details":"Written in Rust Lang, my first version used a traditional minimax algorithm and a point-based rating system. Since then, I have strengthened the algorithm by making it threaded. With its multiple threads, it is constantly \\"thinking\\" by using a work queue to build a decision tree breadth first. The tree stores all the computed future boards (amounting to ~5 moves in advance due to the exponential growth of potential boards as it looks into the future). I've also improved the rating algorithm to use probability rather than points, because probability (the chance of winning a board) is robust to all of the strange board arrangements which could tickle bugs in the point-based rating (1 point for each X, 4 points for 2 in a row, etc.). With these changes, I've seen significant improvement in how it plays the game.","images":["btt_in_game.png"],"tags":["concurrency","data structures","rust lang"],"more":[["GitHub","https://github.com/jmccand/big-tac-toe"]]}]},{"name":"UpDownLHS","versions":[{"start":"11/21","end":"6/23","goal":"Create and market a web app which enables e-voting on school wide issues!","details":"UpDownLHS is an open source Progressive Web App (PWA) for high schoolers, designed to spark conversation about major issues in the school community. UpDown provides Student Senators with a framework to view issues students find pertinent and draft legislation to fix them. Its server is multi-threaded and uses Python's shelve databases with thread locking to store data reliably. It assigns each user a 32 hex digit uuid and sets cookies for sign-in. In addition to 9 viewable web pages, UpDown handles many more behind the scenes requests using Asynchronous JavaScript and XML (AJAX). UpDown's AJAX retrieves data upon the user's request and animates the DOM. While developing the app, I enjoyed designing page layouts, selecting color themes and making the UpDown icon.","images":["favicon512x512.png"],"tags":[],"more":[["GitHub","https://github.com/jmccand/UpDown"],["Site","https://updownlhs.org/"],["Insta","https://instagram.com/updownlhs?igshid=NGVhN2U2NjQ0Yg=="]]}]},{"name":"Chest Protector for Joey","versions":[{"start":"7/22","end":"9/22","goal":"Create a chest protector for a disabled dog!","details":"I heard about this project from a Lexington school teacher who was looking for someone to help a dog, named Joey, who was born without front legs. Joey had learned to hop on his hind legs like a kangaroo but slammed his chest on the ground whenever he lost his balance. He needed a chest protector that would absorb the shock of his falls, but such a product was not available on the commercial market, so I designed one for him. I scanned his body using the Lidar sensor on a phone, used Fusion 360 to design a prototype, and 3D printed it out of flexible TPU filament. Upon testing, I realized that I had to prioritize safety, comfort, and convenience as my initial protector was too rough, had inadequate padding, and slid up and down his chest. In later versions, I devised smoother surfaces, thicker padding, and a more secure harness.","images":["joey.jpg","joey_standing.jpg"],"tags":[],"more":[]}]},{"name":"Personalized Gifts","versions":[{"start":"6/22","end":"7/22","goal":"Design and manufacture custom gifts for friends!","details":"To spread my love for making, I like to design unique, personalized gifts. For a cake topper for an informal wedding celebration, I laser cut a heart with names out of acrylic, to be hung later as a wall decoration. I downloaded the heart from the internet and used Lightburn to add text and customize it. As a housewarming gift, I made a custom house plaque with the house number, family surname, and tennis rackets to represent their favorite pastime. It is also laser cut, but out of wood, so I decided to etch the name rather than cut it; this darkened the wood but did not remove it. Making the house number required using multiple layers in Lightburn, each with a different setting, to produce varying depths and darknesses.","images":["house_plaque.jpg","acrylic.jpg"],"tags":[],"more":[]}]},{"name":"Cryptographic Substitution Cipher Solver","versions":[{"start":"1/21","end":"1/21","goal":"Write a program which solves substitution ciphers using (intelligent) brute force!","details":"This project started as a Caesar cipher challenge from a high school teacher. Caesar ciphers are a type of substitution cipher, which is a cipher where each letter is replaced by another unique letter. In Caesar ciphers, the remapping is organized by shifting letters a defined value down the alphabet, a process often visualized by a pair of inner and outer revolvable alphabetic wheels. Caesar ciphers are straightforward for a computer to solve, because there are only 25 possible shifts. After solving the Caesar ciphers, I wanted to write a program that would solve any substitution cipher, which is much more challenging because there are 26! = 2.092279e+13 possible substitution ciphers. The program works recursively by matching encrypted words to potential decryptions 1 word at a time, and seeing if the decryption key created works for the other words. A later addition was to try matching the most frequently occuring English words first, which is expected to find the answer faster on average.","images":["substitution_cipher.png","caesar_cipher.jpeg"],"tags":[],"more":[["GitHub","https://github.com/jmccand/cryptography"]]}]},{"name":"3D Printed Watch Band","versions":[{"start":"5/20","end":"7/20","goal":"Design and print a replacement watch band.","details":"After breaking multiple watch bands and buying (quite overpriced) replacements, I decided to design my own. I used Fusion 360 to design an initial band that was identical to the commercial one and embedded user parameters (design variables) such as the length of the band, how many holes it has, how they are spaced, etc. I later used these parameters to customize the band, adjusting its appearance at the push of a button. 3D printed out of flexible black TPU filament with a triangular infill for strength, my custom watch band outlasted all of the commercial watch bands I had before. In addition to helping me in my everyday life, as I carried it around on my wrist, my watch band represented how helpful maker skills can be.","images":["watchband_bottom.jpg","watchband.jpg"],"tags":[],"more":[]}]},{"name":"Card Covers for One Night Ultimate Werewolf","versions":[{"start":"3/20","end":"4/20","goal":"Cover the Werewolf cards to prevent distinguishable wearout!","details":"One Night Ultimate Werewolf is a social deception game where players draw cards that give them roles to play. One problem with Werewolf, and any card game, is that the cards become readable as they wear down in distinguishable ways. To prevent this form of cheating, I designed card covers to cover the edges of the cards, which erode first. I iterated to find the correct balance between the ease of sliding the card in and out of the cover and the friction that holds the cards in. I also tapered the corners because they were too sharp. 3D printing suits this project very well because it produces practically indistinguishable covers which makes the cards identical from the backside. Furthermore, if they get dirty or damaged, the covers can be easily and cheaply replaced.","images":["werewolf.jpg"],"tags":[],"more":[["Thingiverse","https://www.thingiverse.com/thing:4317959"]]}]},{"name":"Candy Clawbot","versions":[{"start":"7/18","end":"8/19","goal":"Remake the candy claw arcade game to showcase robotics to kids!","details":"The clawbot utilizes an H-frame x-y positioning system (same as modern 3D printers) which uses 2 motors and a single shared belt to traverse the x-y plane. My dad, brother and I found this design while researching potential x-y motion systems, and chose it because of its simplicity and reliability. I enjoyed designing many custom parts for the clawbot, especially the joystick, which was printed as an in-place captive ball joint. Using a magnet mounted on the bottom and magnetic reed switches on the 4 poles, the clawbot can sense joystick direction. The clawbot is operated by an Arduino Mega 2560, which takes the boolean sensor inputs and communicates with 2 dual-channel motor controllers to control 3 motors and one servo. The clawbot was a great success which I took to many robotics events. Many of the kids respond with glee as they drive the claw and experience robotics hands on, prompting the parents to ask about how their child can get involved.","images":["clawbot_testing.jpg","clawbot_light.jpg","clawbot_corner.jpg","clawbot_side.jpg","clawbot_dark.jpg"],"tags":[],"more":[]}]},{"name":"OneTesla Tesla Coil Kit","versions":[{"start":"5/16","end":"8/16","goal":"Assemble the Tesla Coil and make cool sparks!","details":"This Tesla coil came as a kit from OneTesla. Working with my dad and brother, we soldered large IGBT transistors, capacitors, and other electronics onto the circuit board of the Tesla coil. We added the secondary coil and the top load above it. Having not soldered much before this experience, my original solder joints were weak, but by the time I finished assembling the kit, I could solder strong joints quickly, a skill that I have used in many other projects and appreciate for its quick welding capabilities. Through controlling the frequency of its spark emission, the Tesla coil can make specific notes. We downloaded many popular songs for it to play and my family enjoys putting on a visual and aural show. Additionally, we connected an electronic piano keyboard to it using MIDI output, which enables pianists to perform in Tesla coil sparks.","images":["tesla_coil.jpg","tesla_soldering.jpg"],"tags":[],"more":[]}]},{"name":"OpenROV Submarine","versions":[{"start":"5/15","end":"10/15","goal":"Assemble the mini-submarine and explore our local pond with it!","details":"Ever since we were young, my siblings and I always loved to explore our local pond, but we were never able to see what was below the surface. When my dad found this kit, we decided to assemble it together. Made up of three waterproof tubes (one for the revolving camera, the other two for balanced flotation), the telerobotic submarine could control its depth using one propeller and move forward/back and turn with a set of two propellers. By attaching a wire to its back, we could control it with a downloadable Graphical User Interface. Before walking to our local pond, our family tested the ROV in our bathtub to confirm our seals were truly waterproof. Determining it was safe, we walked to our pond and explored below the surface, finding fish, turtles and lots of pond muck.","images":["rov_outside.JPG","rov_bathtub.jpg"],"tags":[],"more":[]}]}]`),om=[{name:"Shubble",source:"Rensselaer Center for Open Source",start:"4/25",end:"NOW",goal:"",details:"",images:["shubble.png"],tags:[],more:[["GitHub","https://github.com/wtg/shubble"],["Site","https://staging-web-shuttles.rpi.edu/"]]},{name:"Robot Leader-Follower Control",source:"RPI ECSE Department, School of Engineering",start:"1/24",end:"5/24",goal:"",details:"",images:["robot-arm.png"],tags:[],more:[]},{name:"MinSeg Arduino Kit",source:"RPI Cognitive Science Department, School of HASS",start:"1/24",end:"12/24",goal:"Develop kits and resources for students to pursue the Wumpus Challenge!",details:"A professor from the Philosophy department was using LEGO Mindstorms for his Wumpus Challenge project, but Mindstorms was discontinued in 2022. After my partner and I solved the Wumpus Challenge using an Arduino (see project in 2023), the professor asked us to develop a kit to enable students to tackle the Wumpus challenge. I had taken a Mechatronics course with another professor in the Engineering department, who made Arduino kits for his course. I led 2 other students in designing a kit with the Electrical Engineering professor which would meet the needs of the Philosophy professor. We made changes to our previous solution to the Wumpus challenge (2023) by designing a Printed Circuit Board (PCB) for the infrared sensors, adding screw holes for the ball caster wheel in front, and rerouting pins to avoid external wiring. This project involved some soldering, Printed Circuit Board design, and the hardware and software of Arduino microcontrollers. After several iterations, we made a successful design which students will use in the Fall 2024 semester.",images:["minseg_topview.jpeg","minseg_parts.jpeg","minseg_wheels.jpeg"],tags:[],more:[["GitHub","https://github.com/Bram-Hub/NanoNav"],["Docs","https://bram-hub.github.io/NanoNav/"]]}];function Hl(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qw(t){if(Array.isArray(t))return t}function $w(t){if(Array.isArray(t))return Hl(t)}function xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lm(n.key),n)}}function En(t,e,r){return e&&Kw(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=kc(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function um(t,e,r){return(e=lm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xw(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(t,e){return Qw(t)||Xw(t,e)||kc(t,e)||Zw()}function js(t){return $w(t)||Yw(t)||kc(t)||Jw()}function ex(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lm(t){var e=ex(t,"string");return typeof e=="symbol"?e:e+""}function mt(t){"@babel/helpers - typeof";return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(t)}function kc(t,e){if(t){if(typeof t=="string")return Hl(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hl(t,e):void 0}}var vt=typeof window>"u"?null:window,Yf=vt?vt.navigator:null;vt&&vt.document;var tx=mt(""),cm=mt({}),rx=mt(function(){}),nx=typeof HTMLElement>"u"?"undefined":mt(HTMLElement),Fi=function(e){return e&&e.instanceString&&st(e.instanceString)?e.instanceString():null},Ae=function(e){return e!=null&&mt(e)==tx},st=function(e){return e!=null&&mt(e)===rx},Xe=function(e){return!er(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},qe=function(e){return e!=null&&mt(e)===cm&&!Xe(e)&&e.constructor===Object},ax=function(e){return e!=null&&mt(e)===cm},pe=function(e){return e!=null&&mt(e)===mt(1)&&!isNaN(e)},ix=function(e){return pe(e)&&Math.floor(e)===e},Ws=function(e){if(nx!=="undefined")return e!=null&&e instanceof HTMLElement},er=function(e){return zi(e)||fm(e)},zi=function(e){return Fi(e)==="collection"&&e._private.single},fm=function(e){return Fi(e)==="collection"&&!e._private.single},Pc=function(e){return Fi(e)==="core"},hm=function(e){return Fi(e)==="stylesheet"},sx=function(e){return Fi(e)==="event"},cn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},ox=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},ux=function(e){return qe(e)&&pe(e.x1)&&pe(e.x2)&&pe(e.y1)&&pe(e.y2)},lx=function(e){return ax(e)&&st(e.then)},cx=function(){return Yf&&Yf.userAgent.match(/msie|trident|edge/i)},Ra=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function(){var i=this,s=arguments,o,u=r.apply(i,s),l=n.cache;return(o=l[u])||(o=l[u]=e.apply(i,s)),o};return n.cache={},n},Bc=Ra(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),yo=Ra(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),dm=Ra(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Xf=function(e){return cn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},pt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",fx="rgb[a]?\\(("+pt+"[%]?)\\s*,\\s*("+pt+"[%]?)\\s*,\\s*("+pt+"[%]?)(?:\\s*,\\s*("+pt+"))?\\)",hx="rgb[a]?\\((?:"+pt+"[%]?)\\s*,\\s*(?:"+pt+"[%]?)\\s*,\\s*(?:"+pt+"[%]?)(?:\\s*,\\s*(?:"+pt+"))?\\)",dx="hsl[a]?\\(("+pt+")\\s*,\\s*("+pt+"[%])\\s*,\\s*("+pt+"[%])(?:\\s*,\\s*("+pt+"))?\\)",vx="hsl[a]?\\((?:"+pt+")\\s*,\\s*(?:"+pt+"[%])\\s*,\\s*(?:"+pt+"[%])(?:\\s*,\\s*(?:"+pt+"))?\\)",gx="\\#[0-9a-fA-F]{3}",px="\\#[0-9a-fA-F]{6}",vm=function(e,r){return e<r?-1:e>r?1:0},mx=function(e,r){return-1*vm(e,r)},Ce=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},yx=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},bx=function(e){var r,n,a,i,s,o,u,l;function c(v,g,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(g-v)*6*p:p<1/2?g:p<2/3?v+(g-v)*(2/3-p)*6:v}var f=new RegExp("^"+dx+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=u=l=Math.round(i*255);else{var h=i<.5?i*(1+a):i+a-i*a,d=2*i-h;o=Math.round(255*c(d,h,n+1/3)),u=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}r=[o,u,l,s]}return r},wx=function(e){var r,n=new RegExp("^"+fx+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(o&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},xx=function(e){return Ex[e.toLowerCase()]},gm=function(e){return(Xe(e)?e:null)||xx(e)||yx(e)||wx(e)||bx(e)},Ex={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pm=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(qe(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},mm=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(qe(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},as=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zo,Zf;function Vi(){if(Zf)return Zo;Zf=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Zo=t,Zo}var Jo,Jf;function Ax(){if(Jf)return Jo;Jf=1;var t=typeof as=="object"&&as&&as.Object===Object&&as;return Jo=t,Jo}var eu,eh;function bo(){if(eh)return eu;eh=1;var t=Ax(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return eu=r,eu}var tu,th;function Cx(){if(th)return tu;th=1;var t=bo(),e=function(){return t.Date.now()};return tu=e,tu}var ru,rh;function _x(){if(rh)return ru;rh=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ru=e,ru}var nu,nh;function Sx(){if(nh)return nu;nh=1;var t=_x(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return nu=r,nu}var au,ah;function Dc(){if(ah)return au;ah=1;var t=bo(),e=t.Symbol;return au=e,au}var iu,ih;function Tx(){if(ih)return iu;ih=1;var t=Dc(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),u=s[a];try{s[a]=void 0;var l=!0}catch{}var c=n.call(s);return l&&(o?s[a]=u:delete s[a]),c}return iu=i,iu}var su,sh;function kx(){if(sh)return su;sh=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return su=r,su}var ou,oh;function ym(){if(oh)return ou;oh=1;var t=Dc(),e=Tx(),r=kx(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return ou=s,ou}var uu,uh;function Px(){if(uh)return uu;uh=1;function t(e){return e!=null&&typeof e=="object"}return uu=t,uu}var lu,lh;function Gi(){if(lh)return lu;lh=1;var t=ym(),e=Px(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return lu=n,lu}var cu,ch;function Bx(){if(ch)return cu;ch=1;var t=Sx(),e=Vi(),r=Gi(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var f=i.test(l);return f||s.test(l)?o(l.slice(2),f?2:8):a.test(l)?n:+l}return cu=u,cu}var fu,fh;function Dx(){if(fh)return fu;fh=1;var t=Vi(),e=Cx(),r=Bx(),n="Expected a function",a=Math.max,i=Math.min;function s(o,u,l){var c,f,h,d,v,g,p=0,m=!1,y=!1,b=!0;if(typeof o!="function")throw new TypeError(n);u=r(u)||0,t(l)&&(m=!!l.leading,y="maxWait"in l,h=y?a(r(l.maxWait)||0,u):h,b="trailing"in l?!!l.trailing:b);function w(x){var C=c,I=f;return c=f=void 0,p=x,d=o.apply(I,C),d}function B(x){return p=x,v=setTimeout(A,u),m?w(x):d}function T(x){var C=x-g,I=x-p,R=u-C;return y?i(R,h-I):R}function k(x){var C=x-g,I=x-p;return g===void 0||C>=u||C<0||y&&I>=h}function A(){var x=e();if(k(x))return E(x);v=setTimeout(A,T(x))}function E(x){return v=void 0,b&&c?w(x):(c=f=void 0,d)}function P(){v!==void 0&&clearTimeout(v),p=0,c=g=f=v=void 0}function S(){return v===void 0?d:E(e())}function _(){var x=e(),C=k(x);if(c=arguments,f=this,g=x,C){if(v===void 0)return B(g);if(y)return clearTimeout(v),v=setTimeout(A,u),w(g)}return v===void 0&&(v=setTimeout(A,u)),d}return _.cancel=P,_.flush=S,_}return fu=s,fu}var Rx=Dx(),Hi=qi(Rx),hu=vt?vt.performance:null,bm=hu&&hu.now?function(){return hu.now()}:function(){return Date.now()},Ix=function(){if(vt){if(vt.requestAnimationFrame)return function(t){vt.requestAnimationFrame(t)};if(vt.mozRequestAnimationFrame)return function(t){vt.mozRequestAnimationFrame(t)};if(vt.webkitRequestAnimationFrame)return function(t){vt.webkitRequestAnimationFrame(t)};if(vt.msRequestAnimationFrame)return function(t){vt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(bm())},1e3/60)}}(),Us=function(e){return Ix(e)},qr=bm,zn=9261,wm=65599,pa=5381,xm=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zn,n=r,a;a=e.next(),!a.done;)n=n*wm+a.value|0;return n},Si=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zn;return r*wm+e|0},Ti=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pa;return(r<<5)+r+e|0},Mx=function(e,r){return e*2097152+r},$r=function(e){return e[0]*2097152+e[1]},is=function(e,r){return[Si(e[0],r[0]),Ti(e[1],r[1])]},hh=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return xm(s,r)},Qn=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return xm(s,r)},Em=function(){return Lx(arguments)},Lx=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=Qn(a):r=Qn(a,r)}return r},dh=!0,Ox=console.warn!=null,Nx=console.trace!=null,Rc=Number.MAX_SAFE_INTEGER||9007199254740991,Am=function(){return!0},Qs=function(){return!1},vh=function(){return 0},Ic=function(){},it=function(e){throw new Error(e)},Cm=function(e){if(e!==void 0)dh=!!e;else return dh},Ue=function(e){Cm()&&(Ox?console.warn(e):(console.log(e),Nx&&console.trace()))},Fx=function(e){return Ce({},e)},Ar=function(e){return e==null?e:Xe(e)?e.slice():qe(e)?Fx(e):e},zx=function(e){return e.slice()},_m=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},qx={},Sm=function(){return qx},kt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},fn=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},Mc=function(e){e.splice(0,e.length)},Vx=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Qt=function(e,r,n){return n&&(r=dm(n,r)),e[r]},Lr=function(e,r,n,a){n&&(r=dm(n,r)),e[r]=a},Gx=function(){function t(){xn(this,t),this._obj={}}return En(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),Fr=typeof Map<"u"?Map:Gx,Hx="undefined",jx=function(){function t(e){if(xn(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return En(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),Oa=(typeof Set>"u"?"undefined":mt(Set))!==Hx?Set:jx,wo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Pc(e)){it("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){it("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Oa,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),u=e.zoom();i.position={x:(s.x-o.x)/u,y:(s.y-o.y)/u}}var l=[];Xe(r.classes)?l=r.classes:Ae(r.classes)&&(l=r.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var h=l[c];!h||h===""||i.classes.add(h)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(Ue("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},gh=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;qe(n)&&!er(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!st(a)?a:i,a=st(a)?a:function(){};for(var o=this._private.cy,u=n=Ae(n)?this.filter(n):n,l=[],c=[],f={},h={},d={},v=0,g,p=this.byGroup(),m=p.nodes,y=p.edges,b=0;b<u.length;b++){var w=u[b],B=w.id();w.isNode()&&(l.unshift(w),e.bfs&&(d[B]=!0,c.push(w)),h[B]=0)}for(var T=function(){var x=e.bfs?l.shift():l.pop(),C=x.id();if(e.dfs){if(d[C])return 0;d[C]=!0,c.push(x)}var I=h[C],R=f[C],M=R!=null?R.source():null,N=R!=null?R.target():null,F=R==null?void 0:x.same(M)?N[0]:M[0],q;if(q=a(x,R,F,v++,I),q===!0)return g=x,1;if(q===!1)return 1;for(var j=x.connectedEdges().filter(function(K){return(!i||K.source().same(x))&&y.has(K)}),U=0;U<j.length;U++){var X=j[U],Y=X.connectedNodes().filter(function(K){return!K.same(x)&&m.has(K)}),Z=Y.id();Y.length!==0&&!d[Z]&&(Y=Y[0],l.push(Y),e.bfs&&(d[Z]=!0,c.push(Y)),f[Z]=X,h[Z]=h[C]+1)}},k;l.length!==0&&(k=T(),!(k!==0&&k===1)););for(var A=o.collection(),E=0;E<c.length;E++){var P=c[E],S=f[P.id()];S!=null&&A.push(S),A.push(P)}return{path:o.collection(A),found:o.collection(g)}}},ki={breadthFirstSearch:gh({bfs:!0}),depthFirstSearch:gh({dfs:!0})};ki.bfs=ki.breadthFirstSearch;ki.dfs=ki.depthFirstSearch;var Cs={exports:{}},Wx=Cs.exports,ph;function Ux(){return ph||(ph=1,function(t,e){(function(){var r,n,a,i,s,o,u,l,c,f,h,d,v,g,p;a=Math.floor,f=Math.min,n=function(m,y){return m<y?-1:m>y?1:0},c=function(m,y,b,w,B){var T;if(b==null&&(b=0),B==null&&(B=n),b<0)throw new Error("lo must be non-negative");for(w==null&&(w=m.length);b<w;)T=a((b+w)/2),B(y,m[T])<0?w=T:b=T+1;return[].splice.apply(m,[b,b-b].concat(y)),y},o=function(m,y,b){return b==null&&(b=n),m.push(y),g(m,0,m.length-1,b)},s=function(m,y){var b,w;return y==null&&(y=n),b=m.pop(),m.length?(w=m[0],m[0]=b,p(m,0,y)):w=b,w},l=function(m,y,b){var w;return b==null&&(b=n),w=m[0],m[0]=y,p(m,0,b),w},u=function(m,y,b){var w;return b==null&&(b=n),m.length&&b(m[0],y)<0&&(w=[m[0],y],y=w[0],m[0]=w[1],p(m,0,b)),y},i=function(m,y){var b,w,B,T,k,A;for(y==null&&(y=n),T=(function(){A=[];for(var E=0,P=a(m.length/2);0<=P?E<P:E>P;0<=P?E++:E--)A.push(E);return A}).apply(this).reverse(),k=[],w=0,B=T.length;w<B;w++)b=T[w],k.push(p(m,b,y));return k},v=function(m,y,b){var w;if(b==null&&(b=n),w=m.indexOf(y),w!==-1)return g(m,0,w,b),p(m,w,b)},h=function(m,y,b){var w,B,T,k,A;if(b==null&&(b=n),B=m.slice(0,y),!B.length)return B;for(i(B,b),A=m.slice(y),T=0,k=A.length;T<k;T++)w=A[T],u(B,w,b);return B.sort(b).reverse()},d=function(m,y,b){var w,B,T,k,A,E,P,S,_;if(b==null&&(b=n),y*10<=m.length){if(T=m.slice(0,y).sort(b),!T.length)return T;for(B=T[T.length-1],P=m.slice(y),k=0,E=P.length;k<E;k++)w=P[k],b(w,B)<0&&(c(T,w,0,null,b),T.pop(),B=T[T.length-1]);return T}for(i(m,b),_=[],A=0,S=f(y,m.length);0<=S?A<S:A>S;0<=S?++A:--A)_.push(s(m,b));return _},g=function(m,y,b,w){var B,T,k;for(w==null&&(w=n),B=m[b];b>y;){if(k=b-1>>1,T=m[k],w(B,T)<0){m[b]=T,b=k;continue}break}return m[b]=B},p=function(m,y,b){var w,B,T,k,A;for(b==null&&(b=n),B=m.length,A=y,T=m[y],w=2*y+1;w<B;)k=w+1,k<B&&!(b(m[w],m[k])<0)&&(w=k),m[y]=m[w],y=w,w=2*y+1;return m[y]=T,g(m,A,y,b)},r=function(){m.push=o,m.pop=s,m.replace=l,m.pushpop=u,m.heapify=i,m.updateItem=v,m.nlargest=h,m.nsmallest=d;function m(y){this.cmp=y??n,this.nodes=[]}return m.prototype.push=function(y){return o(this.nodes,y,this.cmp)},m.prototype.pop=function(){return s(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},m.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},m.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},m.prototype.heapify=function(){return i(this.nodes,this.cmp)},m.prototype.updateItem=function(y){return v(this.nodes,y,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var y;return y=new m,y.nodes=this.nodes.slice(0),y},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),function(m,y){return t.exports=y()}(this,function(){return r})}).call(Wx)}(Cs)),Cs.exports}var du,mh;function Qx(){return mh||(mh=1,du=Ux()),du}var $x=Qx(),ji=qi($x),Kx=kt({root:null,weight:function(e){return 1},directed:!1}),Yx={dijkstra:function(e){if(!qe(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Kx(e),a=n.root,i=n.weight,s=n.directed,o=this,u=i,l=Ae(a)?this.filter(a)[0]:a[0],c={},f={},h={},d=this.byGroup(),v=d.nodes,g=d.edges;g.unmergeBy(function(I){return I.isLoop()});for(var p=function(R){return c[R.id()]},m=function(R,M){c[R.id()]=M,y.updateItem(R)},y=new ji(function(I,R){return p(I)-p(R)}),b=0;b<v.length;b++){var w=v[b];c[w.id()]=w.same(l)?0:1/0,y.push(w)}for(var B=function(R,M){for(var N=(s?R.edgesTo(M):R.edgesWith(M)).intersect(g),F=1/0,q,j=0;j<N.length;j++){var U=N[j],X=u(U);(X<F||!q)&&(F=X,q=U)}return{edge:q,dist:F}};y.size()>0;){var T=y.pop(),k=p(T),A=T.id();if(h[A]=k,k!==1/0)for(var E=T.neighborhood().intersect(v),P=0;P<E.length;P++){var S=E[P],_=S.id(),x=B(T,S),C=k+x.dist;C<p(S)&&(m(S,C),f[_]={node:T,edge:x.edge})}}return{distanceTo:function(R){var M=Ae(R)?v.filter(R)[0]:R[0];return h[M.id()]},pathTo:function(R){var M=Ae(R)?v.filter(R)[0]:R[0],N=[],F=M,q=F.id();if(M.length>0)for(N.unshift(M);f[q];){var j=f[q];N.unshift(j.edge),N.unshift(j.node),F=j.node,q=F.id()}return o.spawn(N)}}}},Xx={kruskal:function(e){e=e||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,u=function(w){for(var B=0;B<s.length;B++){var T=s[B];if(T.has(w))return B}},l=0;l<i;l++)s[l]=this.spawn(n[l]);for(var c=a.sort(function(b,w){return e(b)-e(w)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],v=h.target()[0],g=u(d),p=u(v),m=s[g],y=s[p];g!==p&&(o.merge(h),m.merge(y),s.splice(p,1))}return o}},Zx=kt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Jx={aStar:function(e){var r=this.cy(),n=Zx(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),c=i.id(),f={},h={},d={},v=new ji(function(q,j){return h[q.id()]-h[j.id()]}),g=new Oa,p={},m={},y=function(j,U){v.push(j),g.add(U)},b,w,B=function(){b=v.pop(),w=b.id(),g.delete(w)},T=function(j){return g.has(j)};y(a,l),f[l]=0,h[l]=s(a);for(var k=0;v.size()>0;){if(B(),k++,w===c){for(var A=[],E=i,P=c,S=m[P];A.unshift(E),S!=null&&A.unshift(S),E=p[P],E!=null;)P=E.id(),S=m[P];return{found:!0,distance:f[w],path:this.spawn(A),steps:k}}d[w]=!0;for(var _=b._private.edges,x=0;x<_.length;x++){var C=_[x];if(this.hasElementWithId(C.id())&&!(o&&C.data("source")!==w)){var I=C.source(),R=C.target(),M=I.id()!==w?I:R,N=M.id();if(this.hasElementWithId(N)&&!d[N]){var F=f[w]+u(C);if(!T(N)){f[N]=F,h[N]=F+s(M),y(M,N),p[N]=b,m[N]=C;continue}F<f[N]&&(f[N]=F,h[N]=F+s(M),p[N]=b,m[N]=C)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},eE=kt({weight:function(e){return 1},directed:!1}),tE={floydWarshall:function(e){for(var r=this.cy(),n=eE(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),u=o.nodes,l=o.edges,c=u.length,f=c*c,h=function(X){return u.indexOf(X)},d=function(X){return u[X]},v=new Array(f),g=0;g<f;g++){var p=g%c,m=(g-p)/c;m===p?v[g]=0:v[g]=1/0}for(var y=new Array(f),b=new Array(f),w=0;w<l.length;w++){var B=l[w],T=B.source()[0],k=B.target()[0];if(T!==k){var A=h(T),E=h(k),P=A*c+E,S=s(B);if(v[P]>S&&(v[P]=S,y[P]=E,b[P]=B),!i){var _=E*c+A;!i&&v[_]>S&&(v[_]=S,y[_]=A,b[_]=B)}}}for(var x=0;x<c;x++)for(var C=0;C<c;C++)for(var I=C*c+x,R=0;R<c;R++){var M=C*c+R,N=x*c+R;v[I]+v[N]<v[M]&&(v[M]=v[I]+v[N],y[M]=y[I])}var F=function(X){return(Ae(X)?r.filter(X):X)[0]},q=function(X){return h(F(X))},j={distance:function(X,Y){var Z=q(X),K=q(Y);return v[Z*c+K]},path:function(X,Y){var Z=q(X),K=q(Y),G=d(Z);if(Z===K)return G.collection();if(y[Z*c+K]==null)return r.collection();var $=r.collection(),W=Z,V;for($.merge(G);Z!==K;)W=Z,Z=y[Z*c+K],V=b[W*c+Z],$.merge(V),$.merge(d(Z));return $}};return j}},rE=kt({weight:function(e){return 1},directed:!1,root:null}),nE={bellmanFord:function(e){var r=this,n=rE(e),a=n.weight,i=n.directed,s=n.root,o=a,u=this,l=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,v=new Fr,g=!1,p=[];s=l.collection(s)[0],f.unmergeBy(function(J){return J.isLoop()});for(var m=f.length,y=function(ae){var te=v.get(ae.id());return te||(te={},v.set(ae.id(),te)),te},b=function(ae){return(Ae(ae)?l.$(ae):ae)[0]},w=function(ae){return y(b(ae)).dist},B=function(ae){for(var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,oe=b(ae),se=[],he=oe;;){if(he==null)return r.spawn();var ce=y(he),de=ce.edge,ge=ce.pred;if(se.unshift(he[0]),he.same(te)&&se.length>0)break;de!=null&&se.unshift(de),he=ge}return u.spawn(se)},T=0;T<d;T++){var k=h[T],A=y(k);k.same(s)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var E=!1,P=function(ae,te,oe,se,he,ce){var de=se.dist+ce;de<he.dist&&!oe.same(se.edge)&&(he.dist=de,he.pred=ae,he.edge=oe,E=!0)},S=1;S<d;S++){E=!1;for(var _=0;_<m;_++){var x=f[_],C=x.source(),I=x.target(),R=o(x),M=y(C),N=y(I);P(C,I,x,M,N,R),i||P(I,C,x,N,M,R)}if(!E)break}if(E)for(var F=[],q=0;q<m;q++){var j=f[q],U=j.source(),X=j.target(),Y=o(j),Z=y(U).dist,K=y(X).dist;if(Z+Y<K||!i&&K+Y<Z)if(g||(Ue("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var G=[];Z+Y<K&&G.push(U),!i&&K+Y<Z&&G.push(X);for(var $=G.length,W=0;W<$;W++){var V=G[W],H=[V];H.push(y(V).edge);for(var D=y(V).pred;H.indexOf(D)===-1;)H.push(D),H.push(y(D).edge),D=y(D).pred;H=H.slice(H.indexOf(D));for(var L=H[0].id(),z=0,Q=2;Q<H.length;Q+=2)H[Q].id()<L&&(L=H[Q].id(),z=Q);H=H.slice(z).concat(H.slice(0,z)),H.push(H[0]);var ne=H.map(function(J){return J.id()}).join(",");F.indexOf(ne)===-1&&(p.push(u.spawn(H)),F.push(ne))}}else break}return{distanceTo:w,pathTo:B,hasNegativeWeightCycle:g,negativeWeightCycles:p}}},aE=Math.sqrt(2),iE=function(e,r,n){n.length===0&&it("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],u=r[s],l=n,c=l.length-1;c>=0;c--){var f=l[c],h=f[1],d=f[2];(r[h]===o&&r[d]===u||r[h]===u&&r[d]===o)&&l.splice(c,1)}for(var v=0;v<l.length;v++){var g=l[v];g[1]===u?(l[v]=g.slice(),l[v][1]=o):g[2]===u&&(l[v]=g.slice(),l[v][2]=o)}for(var p=0;p<r.length;p++)r[p]===u&&(r[p]=o);return l},vu=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=iE(i,e,r),n--}return r},sE={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(N){return N.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/aE);if(i<2){it("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<s;c++){var f=a[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,d=[],v=new Array(i),g=new Array(i),p=new Array(i),m=function(F,q){for(var j=0;j<i;j++)q[j]=F[j]},y=0;y<=o;y++){for(var b=0;b<i;b++)g[b]=b;var w=vu(g,l.slice(),i,u),B=w.slice();m(g,p);var T=vu(g,w,u,2),k=vu(p,B,u,2);T.length<=k.length&&T.length<h?(h=T.length,d=T,m(g,v)):k.length<=T.length&&k.length<h&&(h=k.length,d=k,m(p,v))}for(var A=this.spawn(d.map(function(N){return a[N[0]]})),E=this.spawn(),P=this.spawn(),S=v[0],_=0;_<v.length;_++){var x=v[_],C=n[_];x===S?E.merge(C):P.merge(C)}var I=function(F){var q=e.spawn();return F.forEach(function(j){q.merge(j),j.connectedEdges().forEach(function(U){e.contains(U)&&!A.contains(U)&&q.merge(U)})}),q},R=[I(E),I(P)],M={cut:A,components:R,partition1:E,partition2:P};return M}},oE=function(e){return{x:e.x,y:e.y}},xo=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Tm=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},ma=function(e){return{x:e[0],y:e[1]}},uE=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},lE=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},cE=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},fE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,u=e.length-1;u>=0;u--){var l=e[u];s?isFinite(l)||(e[u]=-1/0,o++):e.splice(u,1)}i&&e.sort(function(h,d){return h-d});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},hE=function(e){return Math.PI*e/180},ss=function(e,r){return Math.atan2(r,e)-Math.PI/2},Lc=Math.log2||function(t){return Math.log(t)/Math.log(2)},Oc=function(e){return e>0?1:e<0?-1:0},$n=function(e,r){return Math.sqrt(On(e,r))},On=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},dE=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},wt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},_a=function(e,r,n,a){return{x:wt(e.x,r.x,n.x,a),y:wt(e.y,r.y,n.y,a)}},vE=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=$n(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},Pi=function(e,r,n){return Math.max(e,Math.min(n,r))},Yt=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},gE=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},pE=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},mE=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},km=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},yE=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},_s=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Ss=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=gt(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},yh=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Nc=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Ia=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},bE=function(e,r){return Ia(e,r.x,r.y)},wE=function(e,r){return Ia(e,r.x1,r.y1)&&Ia(e,r.x2,r.y2)},Pm=function(e,r,n,a,i,s,o){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?hn(i,s):u,c=i/2,f=s/2;l=Math.min(l,c,f);var h=l!==c,d=l!==f,v;if(h){var g=n-c+l-o,p=a-f-o,m=n+c-l+o,y=p;if(v=nn(e,r,n,a,g,p,m,y,!1),v.length>0)return v}if(d){var b=n+c+o,w=a-f+l-o,B=b,T=a+f-l+o;if(v=nn(e,r,n,a,b,w,B,T,!1),v.length>0)return v}if(h){var k=n-c+l-o,A=a+f+o,E=n+c-l+o,P=A;if(v=nn(e,r,n,a,k,A,E,P,!1),v.length>0)return v}if(d){var S=n-c-o,_=a-f+l-o,x=S,C=a+f-l+o;if(v=nn(e,r,n,a,S,_,x,C,!1),v.length>0)return v}var I;{var R=n-c+l,M=a-f+l;if(I=ii(e,r,n,a,R,M,l+o),I.length>0&&I[0]<=R&&I[1]<=M)return[I[0],I[1]]}{var N=n+c-l,F=a-f+l;if(I=ii(e,r,n,a,N,F,l+o),I.length>0&&I[0]>=N&&I[1]<=F)return[I[0],I[1]]}{var q=n+c-l,j=a+f-l;if(I=ii(e,r,n,a,q,j,l+o),I.length>0&&I[0]>=q&&I[1]>=j)return[I[0],I[1]]}{var U=n-c+l,X=a+f-l;if(I=ii(e,r,n,a,U,X,l+o),I.length>0&&I[0]<=U&&I[1]>=X)return[I[0],I[1]]}return[]},xE=function(e,r,n,a,i,s,o){var u=o,l=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,s),h=Math.max(a,s);return l-u<=e&&e<=c+u&&f-u<=r&&r<=h+u},EE=function(e,r,n,a,i,s,o,u,l){var c={x1:Math.min(n,o,i)-l,x2:Math.max(n,o,i)+l,y1:Math.min(a,u,s)-l,y2:Math.max(a,u,s)+l};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},AE=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,u=(-r+s)/o,l=(-r-s)/o;return[u,l]},CE=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,u,l,c,f,h,d,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,o=u*u*u+l*l,i[1]=0,d=r/3,o>0){f=l+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=l-Math.sqrt(o),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),i[0]=-d+f+h,d+=(f+h)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-h+f)/2,i[3]=d,i[5]=-d;return}if(i[5]=i[3]=0,o===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-d+2*v,i[4]=i[2]=-(v+d);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),v=2*Math.sqrt(u),i[0]=-d+v*Math.cos(c/3),i[2]=-d+v*Math.cos((c+2*Math.PI)/3),i[4]=-d+v*Math.cos((c+4*Math.PI)/3)},_E=function(e,r,n,a,i,s,o,u){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*u-6*s*s+3*s*u,f=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*u-a*r+2*s*s+2*s*r-u*r,h=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,d=[];CE(l,c,f,h,d);for(var v=1e-7,g=[],p=0;p<6;p+=2)Math.abs(d[p+1])<v&&d[p]>=0&&d[p]<=1&&g.push(d[p]);g.push(1),g.push(0);for(var m=-1,y,b,w,B=0;B<g.length;B++)y=Math.pow(1-g[B],2)*n+2*(1-g[B])*g[B]*i+g[B]*g[B]*o,b=Math.pow(1-g[B],2)*a+2*(1-g[B])*g[B]*s+g[B]*g[B]*u,w=Math.pow(y-e,2)+Math.pow(b-r,2),m>=0?w<m&&(m=w):m=w;return m},SE=function(e,r,n,a,i,s){var o=[e-n,r-a],u=[i-n,s-a],l=u[0]*u[0]+u[1]*u[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*u[0]+o[1]*u[1],h=f*f/l;return f<0?c:h>l?(e-i)*(e-i)+(r-s)*(r-s):c-h},$t=function(e,r,n){for(var a,i,s,o,u,l=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)u=(e-a)/(s-a)*(o-i)+i,u>r&&l++;else continue;return l%2!==0},Vr=function(e,r,n,a,i,s,o,u,l){var c=new Array(n.length),f;u[0]!=null?(f=Math.atan(u[1]/u[0]),u[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=u;for(var h=Math.cos(-f),d=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=s/2*(n[v*2]*h-n[v*2+1]*d),c[v*2+1]=o/2*(n[v*2+1]*h+n[v*2]*d),c[v*2]+=a,c[v*2+1]+=i;var g;if(l>0){var p=Ks(c,-l);g=$s(p)}else g=c;return $t(e,r,g)},TE=function(e,r,n,a,i,s,o,u){for(var l=new Array(n.length*2),c=0;c<u.length;c++){var f=u[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var h=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(h<=Math.pow(f.radius,2))return!0}return $t(e,r,l)},$s=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,u,l,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],u=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],u=e[1],l=e[2],c=e[3]);var h=nn(n,a,i,s,o,u,l,c,!0);r[f*2]=h[0],r[f*2+1]=h[1]}return r},Ks=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(s=e[(u+1)*2],o=e[(u+1)*2+1]):(s=e[0],o=e[1]);var l=o-i,c=-(s-a),f=Math.sqrt(l*l+c*c),h=l/f,d=c/f;n[u*4]=a+h*r,n[u*4+1]=i+d*r,n[u*4+2]=s+h*r,n[u*4+3]=o+d*r}return n},kE=function(e,r,n,a,i,s){var o=n-e,u=a-r;o/=i,u/=s;var l=Math.sqrt(o*o+u*u),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(a-r)*f+r]},Gn=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},ii=function(e,r,n,a,i,s,o){var u=[n-e,a-r],l=[e-i,r-s],c=u[0]*u[0]+u[1]*u[1],f=2*(l[0]*u[0]+l[1]*u[1]),h=l[0]*l[0]+l[1]*l[1]-o*o,d=f*f-4*c*h;if(d<0)return[];var v=(-f+Math.sqrt(d))/(2*c),g=(-f-Math.sqrt(d))/(2*c),p=Math.min(v,g),m=Math.max(v,g),y=[];if(p>=0&&p<=1&&y.push(p),m>=0&&m<=1&&y.push(m),y.length===0)return[];var b=y[0]*u[0]+e,w=y[0]*u[1]+r;if(y.length>1){if(y[0]==y[1])return[b,w];var B=y[1]*u[0]+e,T=y[1]*u[1]+r;return[b,w,B,T]}else return[b,w]},gu=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},nn=function(e,r,n,a,i,s,o,u,l){var c=e-i,f=n-e,h=o-i,d=r-s,v=a-r,g=u-s,p=h*d-g*c,m=f*d-v*c,y=g*f-h*v;if(y!==0){var b=p/y,w=m/y,B=.001,T=0-B,k=1+B;return T<=b&&b<=k&&T<=w&&w<=k?[e+b*f,r+b*v]:l?[e+b*f,r+b*v]:[]}else return p===0||m===0?gu(e,n,o)===o?[o,u]:gu(e,n,i)===i?[i,s]:gu(i,o,n)===n?[n,a]:[]:[]},Bi=function(e,r,n,a,i,s,o,u){var l=[],c,f=new Array(n.length),h=!0;s==null&&(h=!1);var d;if(h){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*s+a,f[v*2+1]=n[v*2+1]*o+i;if(u>0){var g=Ks(f,-u);d=$s(g)}else d=f}else d=n;for(var p,m,y,b,w=0;w<d.length/2;w++)p=d[w*2],m=d[w*2+1],w<d.length/2-1?(y=d[(w+1)*2],b=d[(w+1)*2+1]):(y=d[0],b=d[1]),c=nn(e,r,a,i,p,m,y,b),c.length!==0&&l.push(c[0],c[1]);return l},PE=function(e,r,n,a,i,s,o,u,l){var c=[],f,h=new Array(n.length*2);l.forEach(function(y,b){b===0?(h[h.length-2]=y.startX,h[h.length-1]=y.startY):(h[b*4-2]=y.startX,h[b*4-1]=y.startY),h[b*4]=y.stopX,h[b*4+1]=y.stopY,f=ii(e,r,a,i,y.cx,y.cy,y.radius),f.length!==0&&c.push(f[0],f[1])});for(var d=0;d<h.length/4;d++)f=nn(e,r,a,i,h[d*4],h[d*4+1],h[d*4+2],h[d*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],g=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),p=1;p<c.length/2;p++){var m=Math.pow(c[p*2]-e,2)+Math.pow(c[p*2+1]-r,2);m<=g&&(v[0]=c[p*2],v[1]=c[p*2+1],g=m)}return v}return c},os=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},qt=function(e,r){var n=jl(e,r);return n=Bm(n),n},Bm=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);for(var c=2/(o-i),f=2/(u-s),h=0;h<a;h++)r=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);if(s<-1)for(var d=0;d<a;d++)n=e[2*d+1]=e[2*d+1]+(-1-s);return e},jl=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},hn=function(e,r){return Math.min(e/4,r/4,8)},Dm=function(e,r){return Math.min(e/10,r/10,8)},Fc=function(){return 8},BE=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Wl=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function DE(t,e){function r(f){for(var h=[],d=0;d<f.length;d++){var v=f[d],g=f[(d+1)%f.length],p={x:g.x-v.x,y:g.y-v.y},m={x:-p.y,y:p.x},y=Math.sqrt(m.x*m.x+m.y*m.y);h.push({x:m.x/y,y:m.y/y})}return h}function n(f,h){var d=1/0,v=-1/0,g=Kt(f),p;try{for(g.s();!(p=g.n()).done;){var m=p.value,y=m.x*h.x+m.y*h.y;d=Math.min(d,y),v=Math.max(v,y)}}catch(b){g.e(b)}finally{g.f()}return{min:d,max:v}}function a(f,h){return!(f.max<h.min||h.max<f.min)}var i=[].concat(js(r(t)),js(r(e))),s=Kt(i),o;try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n(t,u),c=n(e,u);if(!a(l,c))return!1}}catch(f){s.e(f)}finally{s.f()}return!0}var RE=kt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),IE={pageRank:function(e){for(var r=RE(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,f=l.length,h=f*f,d=c.length,v=new Array(h),g=new Array(f),p=(1-n)/f,m=0;m<f;m++){for(var y=0;y<f;y++){var b=m*f+y;v[b]=0}g[m]=0}for(var w=0;w<d;w++){var B=c[w],T=B.data("source"),k=B.data("target");if(T!==k){var A=l.indexOfId(T),E=l.indexOfId(k),P=s(B),S=E*f+A;v[S]+=P,g[A]+=P}}for(var _=1/f+p,x=0;x<f;x++)if(g[x]===0)for(var C=0;C<f;C++){var I=C*f+x;v[I]=_}else for(var R=0;R<f;R++){var M=R*f+x;v[M]=v[M]/g[x]+p}for(var N=new Array(f),F=new Array(f),q,j=0;j<f;j++)N[j]=1;for(var U=0;U<i;U++){for(var X=0;X<f;X++)F[X]=0;for(var Y=0;Y<f;Y++)for(var Z=0;Z<f;Z++){var K=Y*f+Z;F[Y]+=v[K]*N[Z]}dE(F),q=N,N=F,F=q;for(var G=0,$=0;$<f;$++){var W=q[$]-N[$];G+=W*W}if(G<a)break}var V={rank:function(D){return D=o.collection(D)[0],N[l.indexOf(D)]}};return V}},bh=kt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Sa={degreeCentralityNormalized:function(e){e=bh(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},h=0,d=0,v=0;v<a;v++){var g=n[v],p=g.id();e.root=g;var m=this.degreeCentrality(e);h<m.indegree&&(h=m.indegree),d<m.outdegree&&(d=m.outdegree),c[p]=m.indegree,f[p]=m.outdegree}return{indegree:function(b){return h==0?0:(Ae(b)&&(b=r.filter(b)),c[b.id()]/h)},outdegree:function(b){return d===0?0:(Ae(b)&&(b=r.filter(b)),f[b.id()]/d)}}}else{for(var i={},s=0,o=0;o<a;o++){var u=n[o];e.root=u;var l=this.degreeCentrality(e);s<l.degree&&(s=l.degree),i[u.id()]=l.degree}return{degree:function(b){return s===0?0:(Ae(b)&&(b=r.filter(b)),i[b.id()]/s)}}}},degreeCentrality:function(e){e=bh(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,u=a.alpha;if(i=r.collection(i)[0],o){for(var d=i.connectedEdges(),v=d.filter(function(T){return T.target().same(i)&&n.has(T)}),g=d.filter(function(T){return T.source().same(i)&&n.has(T)}),p=v.length,m=g.length,y=0,b=0,w=0;w<v.length;w++)y+=s(v[w]);for(var B=0;B<g.length;B++)b+=s(g[B]);return{indegree:Math.pow(p,1-u)*Math.pow(y,u),outdegree:Math.pow(m,1-u)*Math.pow(b,u)}}else{for(var l=i.connectedEdges().intersection(n),c=l.length,f=0,h=0;h<l.length;h++)f+=s(l[h]);return{degree:Math.pow(c,1-u)*Math.pow(f,u)}}}};Sa.dc=Sa.degreeCentrality;Sa.dcn=Sa.degreeCentralityNormalised=Sa.degreeCentralityNormalized;var wh=kt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ta={closenessCentralityNormalized:function(e){for(var r=wh(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},u=0,l=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<l.length;f++){for(var h=0,d=l[f],v=0;v<l.length;v++)if(f!==v){var g=c.distance(d,l[v]);n?h+=1/g:h+=g}n||(h=1/h),u<h&&(u=h),o[d.id()]=h}return{closeness:function(m){return u==0?0:(Ae(m)?m=s.filter(m)[0].id():m=m.id(),o[m]/u)}}},closenessCentrality:function(e){var r=wh(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var h=o.distanceTo(f);s?u+=1/h:u+=h}}return s?u:1/u}};Ta.cc=Ta.closenessCentrality;Ta.ccn=Ta.closenessCentralityNormalised=Ta.closenessCentralityNormalized;var ME=kt({weight:null,directed:!1}),Ul={betweennessCentrality:function(e){for(var r=ME(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),u={},l={},c=0,f={set:function(b,w){l[b]=w,w>c&&(c=w)},get:function(b){return l[b]}},h=0;h<o.length;h++){var d=o[h],v=d.id();n?u[v]=d.outgoers().nodes():u[v]=d.openNeighborhood().nodes(),f.set(v,0)}for(var g=function(){for(var b=o[p].id(),w=[],B={},T={},k={},A=new ji(function(Y,Z){return k[Y]-k[Z]}),E=0;E<o.length;E++){var P=o[E].id();B[P]=[],T[P]=0,k[P]=1/0}for(T[b]=1,k[b]=0,A.push(b);!A.empty();){var S=A.pop();if(w.push(S),i)for(var _=0;_<u[S].length;_++){var x=u[S][_],C=s.getElementById(S),I=void 0;C.edgesTo(x).length>0?I=C.edgesTo(x)[0]:I=x.edgesTo(C)[0];var R=a(I);x=x.id(),k[x]>k[S]+R&&(k[x]=k[S]+R,A.nodes.indexOf(x)<0?A.push(x):A.updateItem(x),T[x]=0,B[x]=[]),k[x]==k[S]+R&&(T[x]=T[x]+T[S],B[x].push(S))}else for(var M=0;M<u[S].length;M++){var N=u[S][M].id();k[N]==1/0&&(A.push(N),k[N]=k[S]+1),k[N]==k[S]+1&&(T[N]=T[N]+T[S],B[N].push(S))}}for(var F={},q=0;q<o.length;q++)F[o[q].id()]=0;for(;w.length>0;){for(var j=w.pop(),U=0;U<B[j].length;U++){var X=B[j][U];F[X]=F[X]+T[X]/T[j]*(1+F[j])}j!=o[p].id()&&f.set(j,f.get(j)+F[j])}},p=0;p<o.length;p++)g();var m={betweenness:function(b){var w=s.collection(b).id();return f.get(w)},betweennessNormalized:function(b){if(c==0)return 0;var w=s.collection(b).id();return f.get(w)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};Ul.bc=Ul.betweennessCentrality;var LE=kt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),OE=function(e){return LE(e)},NE=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},FE=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},Rm=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},zE=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+o]*r[o*n+u]}return a},qE=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=zE(e,a,r);return e},VE=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return Rm(a,r),a},GE=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},HE=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],u=0;u<r;u++)Math.round(e[s*r+u]*1e3)/1e3>0&&o.push(n[u]);o.length!==0&&i.push(a.collection(o))}return i},jE=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},WE=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&jE(e[r],e[n])&&e.splice(n,1);return e},xh=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=OE(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var u=r.length,l=u*u,c=new Array(l),f,h=0;h<l;h++)c[h]=0;for(var d=0;d<n.length;d++){var v=n[d],g=s[v.source().id()],p=s[v.target().id()],m=NE(v,i.attributes);c[g*u+p]+=m,c[p*u+g]+=m}FE(c,u,i.multFactor),Rm(c,u);for(var y=!0,b=0;y&&b<i.maxIterations;)y=!1,f=qE(c,u,i.expandFactor),c=VE(f,u,i.inflateFactor),GE(c,f,l,4)||(y=!0),b++;var w=HE(c,u,r,a);return w=WE(w),w},UE={markovClustering:xh,mcl:xh},QE=function(e){return e},Im=function(e,r){return Math.abs(r-e)},Eh=function(e,r,n){return e+Im(r,n)},Ah=function(e,r,n){return e+Math.pow(n-r,2)},$E=function(e){return Math.sqrt(e)},KE=function(e,r,n){return Math.max(e,Im(r,n))},$a=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:QE,o=a,u,l,c=0;c<e;c++)u=r(c),l=n(c),o=i(o,u,l);return s(o)},Ma={euclidean:function(e,r,n){return e>=2?$a(e,r,n,0,Ah,$E):$a(e,r,n,0,Eh)},squaredEuclidean:function(e,r,n){return $a(e,r,n,0,Ah)},manhattan:function(e,r,n){return $a(e,r,n,0,Eh)},max:function(e,r,n){return $a(e,r,n,-1/0,KE)}};Ma["squared-euclidean"]=Ma.squaredEuclidean;Ma.squaredeuclidean=Ma.squaredEuclidean;function Eo(t,e,r,n,a,i){var s;return st(t)?s=t:s=Ma[t]||Ma.euclidean,e===0&&st(t)?s(a,i):s(e,r,n,a,i)}var YE=kt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),zc=function(e){return YE(e)},Ys=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(f){return n[f]}:function(f){return a[f](n)},u=function(h){return a[h](r)},l=n,c=r;return Eo(e,a.length,o,u,l,c)},pu=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<r;c++){u=[];for(var f=0;f<a;f++)u[f]=Math.random()*(s[f]-i[f])+i[f];o[c]=u}return o},Mm=function(e,r,n,a,i){for(var s=1/0,o=0,u=0;u<r.length;u++){var l=Ys(n,e,r[u],a,i);l<s&&(s=l,o=u)}return o},Lm=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},XE=function(e,r,n){return Math.abs(r-e)<=n},ZE=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},JE=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},Ch=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];JE(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},_h=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=Ys("manhattan",r[i],e,n,"kMedoids");return a},eA=function(e){var r=this.cy(),n=this.nodes(),a=null,i=zc(e),s=new Array(i.k),o={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=pu(n,i.k,i.attributes)):mt(i.testCentroids)==="object"?u=i.testCentroids:u=pu(n,i.k,i.attributes):u=pu(n,i.k,i.attributes);for(var l=!0,c=0;l&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],o[a.id()]=Mm(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var h=0;h<i.k;h++){var d=Lm(h,n,o);if(d.length!==0){for(var v=i.attributes.length,g=u[h],p=new Array(v),m=new Array(v),y=0;y<v;y++){m[y]=0;for(var b=0;b<d.length;b++)a=d[b],m[y]+=i.attributes[y](a);p[y]=m[y]/d.length,XE(p[y],g[y],i.sensitivityThreshold)||(l=!0)}u[h]=p,s[h]=r.collection(d)}}c++}return s},tA=function(e){var r=this.cy(),n=this.nodes(),a=null,i=zc(e),s=new Array(i.k),o,u={},l,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(mt(i.testCentroids)==="object"?o=i.testCentroids:o=Ch(n,i.k)):o=Ch(n,i.k);for(var f=!0,h=0;f&&h<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],u[a.id()]=Mm(a,o,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<o.length;v++){var g=Lm(v,n,u);if(g.length!==0){c[v]=_h(o[v],g,i.attributes);for(var p=0;p<g.length;p++)l=_h(g[p],g,i.attributes),l<c[v]&&(c[v]=l,o[v]=g[p],f=!0);s[v]=r.collection(g)}}h++}return s},rA=function(e,r,n,a,i){for(var s,o,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){s=0,o=0;for(var h=0;h<r.length;h++)s+=a[h][c]*i.attributes[f](r[h]),o+=a[h][c];e[c][f]=s/o}},nA=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,u,l,c=2/(i.m-1),f=0;f<n.length;f++)for(var h=0;h<a.length;h++){o=0;for(var d=0;d<n.length;d++)u=Ys(i.distance,a[h],n[f],i.attributes,"cmeans"),l=Ys(i.distance,a[h],n[d],i.attributes,"cmeans"),o+=Math.pow(u/l,c);e[h][f]=1/o}},aA=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,u,l=0;l<r.length;l++){o=-1/0,u=-1;for(var c=0;c<r[0].length;c++)r[l][c]>o&&(o=r[l][c],u=c);i[u].push(e[l])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},Sh=function(e){var r=this.cy(),n=this.nodes(),a=zc(e),i,s,o,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(a.k);for(var h=0;h<n.length;h++){for(var d=0,v=0;v<a.k;v++)o[h][v]=Math.random(),d+=o[h][v];for(var g=0;g<a.k;g++)o[h][g]=o[h][g]/d}s=new Array(a.k);for(var p=0;p<a.k;p++)s[p]=new Array(a.attributes.length);l=new Array(n.length);for(var m=0;m<n.length;m++)l[m]=new Array(a.k);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,rA(s,n,o,l,a),nA(o,u,s,n,a),ZE(o,u,a.sensitivityThreshold)||(y=!0),b++;return i=aA(n,o,a,r),{clusters:i,degreeOfMembership:o}},iA={kMeans:eA,kMedoids:tA,fuzzyCMeans:Sh,fcm:Sh},sA=kt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),oA={single:"min",complete:"max"},uA=function(e){var r=sA(e),n=oA[r.linkage];return n!=null&&(r.linkage=n),r},Th=function(e,r,n,a,i){for(var s=0,o=1/0,u,l=i.attributes,c=function(E,P){return Eo(i.distance,l.length,function(S){return l[S](E)},function(S){return l[S](P)},E,P)},f=0;f<e.length;f++){var h=e[f].key,d=n[h][a[h]];d<o&&(s=h,o=d)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[s],g=r[a[s]],p;i.mode==="dendrogram"?p={left:v,right:g,key:v.key}:p={value:v.value.concat(g.value),key:v.key},e[v.index]=p,e.splice(g.index,1),r[v.key]=p;for(var m=0;m<e.length;m++){var y=e[m];v.key===y.key?u=1/0:i.linkage==="min"?(u=n[v.key][y.key],n[v.key][y.key]>n[g.key][y.key]&&(u=n[g.key][y.key])):i.linkage==="max"?(u=n[v.key][y.key],n[v.key][y.key]<n[g.key][y.key]&&(u=n[g.key][y.key])):i.linkage==="mean"?u=(n[v.key][y.key]*v.size+n[g.key][y.key]*g.size)/(v.size+g.size):i.mode==="dendrogram"?u=c(y.value,v.value):u=c(y.value[0],v.value[0]),n[v.key][y.key]=n[y.key][v.key]=u}for(var b=0;b<e.length;b++){var w=e[b].key;if(a[w]===v.key||a[w]===g.key){for(var B=w,T=0;T<e.length;T++){var k=e[T].key;n[w][k]<n[w][B]&&(B=k)}a[w]=B}e[b].index=b}return v.key=g.key=v.index=g.index=null,!0},ya=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&ya(e.left,r),e.right&&ya(e.right,r)))},Ql=function(e,r){if(!e)return"";if(e.left&&e.right){var n=Ql(e.left,r),a=Ql(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},$l=function(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&ya(e.left,a),e.right&&ya(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&ya(e.left,a),e.right&&ya(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=$l(e.left,r-1,n)),e.right&&(i=$l(e.right,r-1,n)),a.concat(i))},kh=function(e){for(var r=this.cy(),n=this.nodes(),a=uA(e),i=a.attributes,s=function(b,w){return Eo(a.distance,i.length,function(B){return i[B](b)},function(B){return i[B](w)},b,w)},o=[],u=[],l=[],c=[],f=0;f<n.length;f++){var h={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=h,c[f]=h,u[f]=[],l[f]=0}for(var d=0;d<o.length;d++)for(var v=0;v<=d;v++){var g=void 0;a.mode==="dendrogram"?g=d===v?1/0:s(o[d].value,o[v].value):g=d===v?1/0:s(o[d].value[0],o[v].value[0]),u[d][v]=g,u[v][d]=g,g<u[d][l[d]]&&(l[d]=v)}for(var p=Th(o,c,u,l,a);p;)p=Th(o,c,u,l,a);var m;return a.mode==="dendrogram"?(m=$l(o[0],a.dendrogramDepth,r),a.addDendrogram&&Ql(o[0],r)):(m=new Array(o.length),o.forEach(function(y,b){y.key=y.index=null,m[b]=r.collection(y.value)})),m},lA={hierarchicalClustering:kh,hca:kh},cA=kt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),fA=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||it("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||pe(n)||it("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),cA(e)},hA=function(e,r,n,a){var i=function(o,u){return a[u](o)};return-Eo(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},dA=function(e,r){var n=null;return r==="median"?n=fE(e):r==="mean"?n=cE(e):r==="min"?n=uE(e):r==="max"?n=lE(e):n=r,n},vA=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},Ph=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>o&&(s=l,o=r[i*e+l])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},gA=function(e,r,n){for(var a=Ph(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var u=-1,l=-1/0,c=0;c<s.length;c++){for(var f=0,h=0;h<s.length;h++)f+=r[s[h]*e+s[c]];f>l&&(u=c,l=f)}n[i]=s[u]}return a=Ph(e,r,n),a},Bh=function(e){for(var r=this.cy(),n=this.nodes(),a=fA(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,u,l,c,f,h;o=n.length,u=o*o,l=new Array(u);for(var d=0;d<u;d++)l[d]=-1/0;for(var v=0;v<o;v++)for(var g=0;g<o;g++)v!==g&&(l[v*o+g]=hA(a.distance,n[v],n[g],a.attributes));c=dA(l,a.preference);for(var p=0;p<o;p++)l[p*o+p]=c;f=new Array(u);for(var m=0;m<u;m++)f[m]=0;h=new Array(u);for(var y=0;y<u;y++)h[y]=0;for(var b=new Array(o),w=new Array(o),B=new Array(o),T=0;T<o;T++)b[T]=0,w[T]=0,B[T]=0;for(var k=new Array(o*a.minIterations),A=0;A<k.length;A++)k[A]=0;var E;for(E=0;E<a.maxIterations;E++){for(var P=0;P<o;P++){for(var S=-1/0,_=-1/0,x=-1,C=0,I=0;I<o;I++)b[I]=f[P*o+I],C=h[P*o+I]+l[P*o+I],C>=S?(_=S,S=C,x=I):C>_&&(_=C);for(var R=0;R<o;R++)f[P*o+R]=(1-a.damping)*(l[P*o+R]-S)+a.damping*b[R];f[P*o+x]=(1-a.damping)*(l[P*o+x]-_)+a.damping*b[x]}for(var M=0;M<o;M++){for(var N=0,F=0;F<o;F++)b[F]=h[F*o+M],w[F]=Math.max(0,f[F*o+M]),N+=w[F];N-=w[M],w[M]=f[M*o+M],N+=w[M];for(var q=0;q<o;q++)h[q*o+M]=(1-a.damping)*Math.min(0,N-w[q])+a.damping*b[q];h[M*o+M]=(1-a.damping)*(N-w[M])+a.damping*b[M]}for(var j=0,U=0;U<o;U++){var X=h[U*o+U]+f[U*o+U]>0?1:0;k[E%a.minIterations*o+U]=X,j+=X}if(j>0&&(E>=a.minIterations-1||E==a.maxIterations-1)){for(var Y=0,Z=0;Z<o;Z++){B[Z]=0;for(var K=0;K<a.minIterations;K++)B[Z]+=k[K*o+Z];(B[Z]===0||B[Z]===a.minIterations)&&Y++}if(Y===o)break}}for(var G=vA(o,f,h),$=gA(o,l,G),W={},V=0;V<G.length;V++)W[G[V]]=[];for(var H=0;H<n.length;H++){var D=i[n[H].id()],L=$[D];L!=null&&W[L].push(n[H])}for(var z=new Array(G.length),Q=0;Q<G.length;Q++)z[Q]=r.collection(W[G[Q]]);return z},pA={affinityPropagation:Bh,ap:Bh},mA=kt({root:void 0,directed:!1}),yA={hierholzer:function(e){if(!qe(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=mA(e),a=n.root,i=n.directed,s=this,o=!1,u,l,c;a&&(c=Ae(a)?this.filter(a)[0].id():a[0].id());var f={},h={};i?s.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.indegree(!0),B=y.outdegree(!0),T=w-B,k=B-w;T==1?u?o=!0:u=b:k==1?l?o=!0:l=b:(k>1||T>1)&&(o=!0),f[b]=[],y.outgoers().forEach(function(A){A.isEdge()&&f[b].push(A.id())})}else h[b]=[void 0,y.target().id()]}):s.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.degree(!0);w%2&&(u?l?o=!0:l=b:u=b),f[b]=[],y.connectedEdges().forEach(function(B){return f[b].push(B.id())})}else h[b]=[y.source().id(),y.target().id()]});var d={found:!1,trail:void 0};if(o)return d;if(l&&u)if(i){if(c&&l!=c)return d;c=l}else{if(c&&l!=c&&u!=c)return d;c||(c=l)}else c||(c=s[0].id());var v=function(b){for(var w=b,B=[b],T,k,A;f[w].length;)T=f[w].shift(),k=h[T][0],A=h[T][1],w!=A?(f[A]=f[A].filter(function(E){return E!=T}),w=A):!i&&w!=k&&(f[k]=f[k].filter(function(E){return E!=T}),w=k),B.unshift(T),B.unshift(w);return B},g=[],p=[];for(p=v(c);p.length!=1;)f[p[0]].length==0?(g.unshift(s.getElementById(p.shift())),g.unshift(s.getElementById(p.shift()))):p=v(p.shift()).concat(p);g.unshift(s.getElementById(p.shift()));for(var m in f)if(f[m].length)return d;return d.found=!0,d.trail=this.spawn(g,!0),d}},us=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},u=function(h,d){for(var v=s.length-1,g=[],p=e.spawn();s[v].x!=h||s[v].y!=d;)g.push(s.pop().edge),v--;g.push(s.pop().edge),g.forEach(function(m){var y=m.connectedNodes().intersection(e);p.merge(m),y.forEach(function(b){var w=b.id(),B=b.connectedEdges().intersection(e);p.merge(b),r[w].cutVertex?p.merge(B.filter(function(T){return T.isLoop()})):p.merge(B)})}),i.push(p)},l=function(h,d,v){h===v&&(a+=1),r[d]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(d).connectedEdges().intersection(e);if(g.size()===0)i.push(e.spawn(e.getElementById(d)));else{var p,m,y,b;g.forEach(function(w){p=w.source().id(),m=w.target().id(),y=p===d?m:p,y!==v&&(b=w.id(),o[b]||(o[b]=!0,s.push({x:d,y,edge:w})),y in r?r[d].low=Math.min(r[d].low,r[y].id):(l(h,y,d),r[d].low=Math.min(r[d].low,r[y].low),r[d].id<=r[y].low&&(r[d].cutVertex=!0,u(d,y))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in r||(a=0,l(h,h),r[h].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},bA={hopcroftTarjanBiconnected:us,htbc:us,htb:us,hopcroftTarjanBiconnectedComponents:us},ls=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(g){var p=g.target().id();p!==l&&(p in r||o(p),r[p].explored||(r[l].low=Math.min(r[l].low,r[p].low)))}),r[l].index===r[l].low){for(var f=e.spawn();;){var h=i.pop();if(f.merge(e.getElementById(h)),r[h].low=r[l].index,r[h].explored=!0,h===l)break}var d=f.edgesWith(f),v=f.merge(d);a.push(v),s=s.difference(v)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||o(l)}}),{cut:s,components:a}},wA={tarjanStronglyConnected:ls,tsc:ls,tscc:ls,tarjanStronglyConnectedComponents:ls},Om={};[ki,Yx,Xx,Jx,tE,nE,sE,IE,Sa,Ta,Ul,UE,iA,lA,pA,yA,bA,wA].forEach(function(t){Ce(Om,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Nm=0,Fm=1,zm=2,dr=function(e){if(!(this instanceof dr))return new dr(e);this.id="Thenable/1.0.7",this.state=Nm,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};dr.prototype={fulfill:function(e){return Dh(this,Fm,"fulfillValue",e)},reject:function(e){return Dh(this,zm,"rejectReason",e)},then:function(e,r){var n=this,a=new dr;return n.onFulfilled.push(Ih(e,a,"fulfill")),n.onRejected.push(Ih(r,a,"reject")),qm(n),a.proxy}};var Dh=function(e,r,n,a){return e.state===Nm&&(e.state=r,e[n]=a,qm(e)),e},qm=function(e){e.state===Fm?Rh(e,"onFulfilled",e.fulfillValue):e.state===zm&&Rh(e,"onRejected",e.rejectReason)},Rh=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Ih=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}Vm(r,i)}}},Vm=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(mt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):Vm(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};dr.all=function(t){return new dr(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var u=t[o],l=u!=null&&u.then!=null;if(l)u.then(function(f){i(o,f)},function(f){r(f)});else{var c=u;i(o,c)}})(s)})};dr.resolve=function(t){return new dr(function(e,r){e(t)})};dr.reject=function(t){return new dr(function(e,r){r(t)})};var Na=typeof Promise<"u"?Promise:dr,Kl=function(e,r,n){var a=Pc(e),i=!a,s=this._private=Ce({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&st(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var u=e.pan();s.startPan={x:u.x,y:u.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Kn=Kl.prototype;Ce(Kn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),er(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Na(function(a,i){n.push(function(){a()})})}});Kn.complete=Kn.completed;Kn.run=Kn.play;Kn.running=Kn.playing;var xA={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,u=!i,l=!u;if(!o.styleEnabled())return this;var c=o.style();r=Ce({},r,n);var f=Object.keys(r).length===0;if(f)return new Kl(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var h=r.renderedPosition,d=o.pan(),v=o.zoom();r.position=Tm(h,v,d)}if(u&&r.panBy!=null){var g=r.panBy,p=o.pan();r.pan={x:p.x+g.x,y:p.y+g.y}}var m=r.center||r.centre;if(u&&m!=null){var y=o.getCenterPan(m.eles,r.zoom);y!=null&&(r.pan=y)}if(u&&r.fit!=null){var b=r.fit,w=o.getFitViewport(b.eles||b.boundingBox,b.padding);w!=null&&(r.pan=w.pan,r.zoom=w.zoom)}if(u&&qe(r.zoom)){var B=o.getZoomedViewport(r.zoom);B!=null?(B.zoomed&&(r.zoom=B.zoom),B.panned&&(r.pan=B.pan)):r.zoom=null}return new Kl(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=Ce({},r,n));for(var u=0;u<s.length;u++){var l=s[u],c=l.animated()&&(r.queue===void 0||r.queue),f=l.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var u=0;u<s.length;u++){for(var l=s[u],c=l._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},mu,Mh;function Ao(){if(Mh)return mu;Mh=1;var t=Array.isArray;return mu=t,mu}var yu,Lh;function EA(){if(Lh)return yu;Lh=1;var t=Ao(),e=Gi(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return yu=a,yu}var bu,Oh;function AA(){if(Oh)return bu;Oh=1;var t=ym(),e=Vi(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==a||u==r||u==i}return bu=s,bu}var wu,Nh;function CA(){if(Nh)return wu;Nh=1;var t=bo(),e=t["__core-js_shared__"];return wu=e,wu}var xu,Fh;function _A(){if(Fh)return xu;Fh=1;var t=CA(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return xu=r,xu}var Eu,zh;function SA(){if(zh)return Eu;zh=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Eu=r,Eu}var Au,qh;function TA(){if(qh)return Au;qh=1;var t=AA(),e=_A(),r=Vi(),n=SA(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,l=o.hasOwnProperty,c=RegExp("^"+u.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var d=t(h)?c:i;return d.test(n(h))}return Au=f,Au}var Cu,Vh;function kA(){if(Vh)return Cu;Vh=1;function t(e,r){return e==null?void 0:e[r]}return Cu=t,Cu}var _u,Gh;function qc(){if(Gh)return _u;Gh=1;var t=TA(),e=kA();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return _u=r,_u}var Su,Hh;function Co(){if(Hh)return Su;Hh=1;var t=qc(),e=t(Object,"create");return Su=e,Su}var Tu,jh;function PA(){if(jh)return Tu;jh=1;var t=Co();function e(){this.__data__=t?t(null):{},this.size=0}return Tu=e,Tu}var ku,Wh;function BA(){if(Wh)return ku;Wh=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ku=t,ku}var Pu,Uh;function DA(){if(Uh)return Pu;Uh=1;var t=Co(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return Pu=a,Pu}var Bu,Qh;function RA(){if(Qh)return Bu;Qh=1;var t=Co(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Bu=n,Bu}var Du,$h;function IA(){if($h)return Du;$h=1;var t=Co(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Du=r,Du}var Ru,Kh;function MA(){if(Kh)return Ru;Kh=1;var t=PA(),e=BA(),r=DA(),n=RA(),a=IA();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ru=i,Ru}var Iu,Yh;function LA(){if(Yh)return Iu;Yh=1;function t(){this.__data__=[],this.size=0}return Iu=t,Iu}var Mu,Xh;function Gm(){if(Xh)return Mu;Xh=1;function t(e,r){return e===r||e!==e&&r!==r}return Mu=t,Mu}var Lu,Zh;function _o(){if(Zh)return Lu;Zh=1;var t=Gm();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Lu=e,Lu}var Ou,Jh;function OA(){if(Jh)return Ou;Jh=1;var t=_o(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return Ou=n,Ou}var Nu,ed;function NA(){if(ed)return Nu;ed=1;var t=_o();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Nu=e,Nu}var Fu,td;function FA(){if(td)return Fu;td=1;var t=_o();function e(r){return t(this.__data__,r)>-1}return Fu=e,Fu}var zu,rd;function zA(){if(rd)return zu;rd=1;var t=_o();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return zu=e,zu}var qu,nd;function qA(){if(nd)return qu;nd=1;var t=LA(),e=OA(),r=NA(),n=FA(),a=zA();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,qu=i,qu}var Vu,ad;function VA(){if(ad)return Vu;ad=1;var t=qc(),e=bo(),r=t(e,"Map");return Vu=r,Vu}var Gu,id;function GA(){if(id)return Gu;id=1;var t=MA(),e=qA(),r=VA();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Gu=n,Gu}var Hu,sd;function HA(){if(sd)return Hu;sd=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Hu=t,Hu}var ju,od;function So(){if(od)return ju;od=1;var t=HA();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return ju=e,ju}var Wu,ud;function jA(){if(ud)return Wu;ud=1;var t=So();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Wu=e,Wu}var Uu,ld;function WA(){if(ld)return Uu;ld=1;var t=So();function e(r){return t(this,r).get(r)}return Uu=e,Uu}var Qu,cd;function UA(){if(cd)return Qu;cd=1;var t=So();function e(r){return t(this,r).has(r)}return Qu=e,Qu}var $u,fd;function QA(){if(fd)return $u;fd=1;var t=So();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return $u=e,$u}var Ku,hd;function $A(){if(hd)return Ku;hd=1;var t=GA(),e=jA(),r=WA(),n=UA(),a=QA();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ku=i,Ku}var Yu,dd;function KA(){if(dd)return Yu;dd=1;var t=$A(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],u=i.cache;if(u.has(o))return u.get(o);var l=n.apply(this,s);return i.cache=u.set(o,l)||u,l};return i.cache=new(r.Cache||t),i}return r.Cache=t,Yu=r,Yu}var Xu,vd;function YA(){if(vd)return Xu;vd=1;var t=KA(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Xu=r,Xu}var Zu,gd;function Hm(){if(gd)return Zu;gd=1;var t=YA(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,u,l){i.push(u?l.replace(r,"$1"):o||s)}),i});return Zu=n,Zu}var Ju,pd;function jm(){if(pd)return Ju;pd=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Ju=t,Ju}var el,md;function XA(){if(md)return el;md=1;var t=Dc(),e=jm(),r=Ao(),n=Gi(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return el=s,el}var tl,yd;function Wm(){if(yd)return tl;yd=1;var t=XA();function e(r){return r==null?"":t(r)}return tl=e,tl}var rl,bd;function Um(){if(bd)return rl;bd=1;var t=Ao(),e=EA(),r=Hm(),n=Wm();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return rl=a,rl}var nl,wd;function Vc(){if(wd)return nl;wd=1;var t=Gi();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return nl=e,nl}var al,xd;function ZA(){if(xd)return al;xd=1;var t=Um(),e=Vc();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return al=r,al}var il,Ed;function JA(){if(Ed)return il;Ed=1;var t=ZA();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return il=e,il}var eC=JA(),tC=qi(eC),sl,Ad;function rC(){if(Ad)return sl;Ad=1;var t=qc(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return sl=e,sl}var ol,Cd;function nC(){if(Cd)return ol;Cd=1;var t=rC();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return ol=e,ol}var ul,_d;function aC(){if(_d)return ul;_d=1;var t=nC(),e=Gm(),r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o){var u=i[s];(!(n.call(i,s)&&e(u,o))||o===void 0&&!(s in i))&&t(i,s,o)}return ul=a,ul}var ll,Sd;function iC(){if(Sd)return ll;Sd=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return ll=r,ll}var cl,Td;function sC(){if(Td)return cl;Td=1;var t=aC(),e=Um(),r=iC(),n=Vi(),a=Vc();function i(s,o,u,l){if(!n(s))return s;o=e(o,s);for(var c=-1,f=o.length,h=f-1,d=s;d!=null&&++c<f;){var v=a(o[c]),g=u;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(c!=h){var p=d[v];g=l?l(p,v,d):void 0,g===void 0&&(g=n(p)?p:r(o[c+1])?[]:{})}t(d,v,g),d=d[v]}return s}return cl=i,cl}var fl,kd;function oC(){if(kd)return fl;kd=1;var t=sC();function e(r,n,a){return r==null?r:t(r,n,a)}return fl=e,fl}var uC=oC(),lC=qi(uC),hl,Pd;function cC(){if(Pd)return hl;Pd=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return hl=t,hl}var dl,Bd;function fC(){if(Bd)return dl;Bd=1;var t=jm(),e=cC(),r=Ao(),n=Gi(),a=Hm(),i=Vc(),s=Wm();function o(u){return r(u)?t(u,i):n(u)?[u]:e(a(s(u)))}return dl=o,dl}var hC=fC(),dC=qi(hC),vC={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Ce({},r,e),function(a,i){var s=e,o=this,u=o.length!==void 0,l=u?o:[o],c=u?o[0]:o;if(Ae(a)){var f=a.indexOf(".")!==-1,h=f&&dC(a);if(s.allowGetting&&i===void 0){var d;return c&&(s.beforeGet(c),h&&c._private[s.field][a]===void 0?d=tC(c._private[s.field],h):d=c._private[s.field][a]),d}else if(s.allowSetting&&i!==void 0){var v=!s.immutableKeys[a];if(v){var g=um({},a,i);s.beforeSet(o,g);for(var p=0,m=l.length;p<m;p++){var y=l[p];s.canSet(y)&&(h&&c._private[s.field][a]===void 0?lC(y._private[s.field],h,i):y._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&qe(a)){var b=a,w,B,T=Object.keys(b);s.beforeSet(o,b);for(var k=0;k<T.length;k++){w=T[k],B=b[w];var A=!s.immutableKeys[w];if(A)for(var E=0;E<l.length;E++){var P=l[E];s.canSet(P)&&(P._private[s.field][w]=B)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&st(a)){var S=a;o.on(s.bindingEvent,S)}else if(s.allowGetting&&a===void 0){var _;return c&&(s.beforeGet(c),_=c._private[s.field]),_}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ce({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,u=o?s:[s];if(Ae(a)){for(var l=a.split(/\s+/),c=l.length,f=0;f<c;f++){var h=l[f];if(!cn(h)){var d=!i.immutableKeys[h];if(d)for(var v=0,g=u.length;v<g;v++)u[v]._private[i.field][h]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var p=0,m=u.length;p<m;p++)for(var y=u[p]._private[i.field],b=Object.keys(y),w=0;w<b.length;w++){var B=b[w],T=!i.immutableKeys[B];T&&(y[B]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},gC={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new Na(function(o,u){var l=function(d){i.off.apply(i,f),o(d)},c=s.concat([l]),f=c.concat([]);i.on.apply(i,c)})}}},We={};[xA,vC,gC].forEach(function(t){Ce(We,t)});var pC={animate:We.animate(),animation:We.animation(),animated:We.animated(),clearQueue:We.clearQueue(),delay:We.delay(),delayAnimation:We.delayAnimation(),stop:We.stop()},Ts={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Xe(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new Oa(e),s=0;s<r.length;s++){for(var o=r[s],u=o._private,l=u.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h);if(!d){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Xe(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var u=n[s],l=u._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h),v=!1;r||a&&!d?(l.add(h),v=!0):(!r||a&&d)&&(l.delete(h),v=!0),!c&&v&&(i.push(u),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Ts.className=Ts.classNames=Ts.classes;var Fe={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:pt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Fe.variable="(?:[\\w-.]|(?:\\\\"+Fe.metaChar+"))+";Fe.className="(?:[\\w-]|(?:\\\\"+Fe.metaChar+"))+";Fe.value=Fe.string+"|"+Fe.number;Fe.id=Fe.variable;(function(){var t,e,r;for(t=Fe.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Fe.comparatorOp+="|@"+e;for(t=Fe.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Fe.comparatorOp+="|\\!"+e)})();var Ke=function(){return{checks:[]}},ye={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Yl=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return mx(t.selector,e.selector)}),mC=function(){for(var t={},e,r=0;r<Yl.length;r++)e=Yl[r],t[e.selector]=e.matches;return t}(),yC=function(e,r){return mC[e](r)},bC="("+Yl.map(function(t){return t.selector}).join("|")+")",na=function(e){return e.replace(new RegExp("\\\\("+Fe.metaChar+")","g"),function(r,n){return n})},Kr=function(e,r,n){e[e.length-1]=n},Xl=[{name:"group",query:!0,regex:"("+Fe.group+")",populate:function(e,r,n){var a=gt(n,1),i=a[0];r.checks.push({type:ye.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:bC,populate:function(e,r,n){var a=gt(n,1),i=a[0];r.checks.push({type:ye.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Fe.id+")",populate:function(e,r,n){var a=gt(n,1),i=a[0];r.checks.push({type:ye.ID,value:na(i)})}},{name:"className",query:!0,regex:"\\.("+Fe.className+")",populate:function(e,r,n){var a=gt(n,1),i=a[0];r.checks.push({type:ye.CLASS,value:na(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*\\]",populate:function(e,r,n){var a=gt(n,1),i=a[0];r.checks.push({type:ye.DATA_EXIST,field:na(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Fe.variable+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.value+")\\s*\\]",populate:function(e,r,n){var a=gt(n,3),i=a[0],s=a[1],o=a[2],u=new RegExp("^"+Fe.string+"$").exec(o)!=null;u?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:ye.DATA_COMPARE,field:na(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Fe.boolOp+")\\s*("+Fe.variable+")\\s*\\]",populate:function(e,r,n){var a=gt(n,2),i=a[0],s=a[1];r.checks.push({type:ye.DATA_BOOL,field:na(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Fe.meta+")\\s*("+Fe.comparatorOp+")\\s*("+Fe.number+")\\s*\\]\\]",populate:function(e,r,n){var a=gt(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:ye.META_COMPARE,field:na(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Fe.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=Ke();return o}},{name:"directedEdge",separator:!0,regex:Fe.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=r,i=Ke();return n.checks.push({type:ye.DIRECTED_EDGE,source:a,target:i}),Kr(e,r,n),e.edgeCount++,i}else{var s=Ke(),o=r,u=Ke();return s.checks.push({type:ye.NODE_SOURCE,source:o,target:u}),Kr(e,r,s),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Fe.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=r,i=Ke();return n.checks.push({type:ye.UNDIRECTED_EDGE,nodes:[a,i]}),Kr(e,r,n),e.edgeCount++,i}else{var s=Ke(),o=r,u=Ke();return s.checks.push({type:ye.NODE_NEIGHBOR,node:o,neighbor:u}),Kr(e,r,s),u}}},{name:"child",separator:!0,regex:Fe.child,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=Ke(),i=e[e.length-1];return n.checks.push({type:ye.CHILD,parent:i,child:a}),Kr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=Ke(),o=e[e.length-1],u=Ke(),l=Ke(),c=Ke(),f=Ke();return s.checks.push({type:ye.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ye.TRUE}],f.checks.push({type:ye.TRUE}),u.checks.push({type:ye.PARENT,parent:f,child:c}),Kr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var h=Ke(),d=Ke(),v=[{type:ye.PARENT,parent:h,child:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:Fe.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Ke(),a=Ke(),i=e[e.length-1];return n.checks.push({type:ye.DESCENDANT,ancestor:i,descendant:a}),Kr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=Ke(),o=e[e.length-1],u=Ke(),l=Ke(),c=Ke(),f=Ke();return s.checks.push({type:ye.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ye.TRUE}],f.checks.push({type:ye.TRUE}),u.checks.push({type:ye.ANCESTOR,ancestor:f,descendant:c}),Kr(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var h=Ke(),d=Ke(),v=[{type:ye.ANCESTOR,ancestor:h,descendant:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:Fe.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Ue("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===ye.DIRECTED_EDGE?a.type=ye.NODE_TARGET:i===ye.UNDIRECTED_EDGE&&(a.type=ye.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Xl.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var wC=function(e){for(var r,n,a,i=0;i<Xl.length;i++){var s=Xl[i],o=s.name,u=e.match(s.regexObj);if(u!=null){n=u,r=s,a=o;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},xC=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},EC=function(e){var r=this,n=r.inputText=e,a=r[0]=Ke();for(r.length=1,n=xC(n);;){var i=wC(n);if(i.expr==null)return Ue("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var c=r[l];if(c.compoundCount>0&&c.edgeCount>0)return Ue("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Ue("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Ue("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},AC=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Ae(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var h=c.type,d=c.value;switch(h){case ye.GROUP:{var v=e(d);return v.substring(0,v.length-1)}case ye.DATA_COMPARE:{var g=c.field,p=c.operator;return"["+g+n(e(p))+r(d)+"]"}case ye.DATA_BOOL:{var m=c.operator,y=c.field;return"["+e(m)+y+"]"}case ye.DATA_EXIST:{var b=c.field;return"["+b+"]"}case ye.META_COMPARE:{var w=c.operator,B=c.field;return"[["+B+n(e(w))+r(d)+"]]"}case ye.STATE:return d;case ye.ID:return"#"+d;case ye.CLASS:return"."+d;case ye.PARENT:case ye.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case ye.ANCESTOR:case ye.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case ye.COMPOUND_SPLIT:{var T=i(c.left,f),k=i(c.subject,f),A=i(c.right,f);return T+(T.length>0?" ":"")+k+A}case ye.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(h,d,v){return h+(f===c&&v===0?"$":"")+a(d,f)},"")},s="",o=0;o<this.length;o++){var u=this[o];s+=i(u,u.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},CC={parse:EC,toString:AC},Qm=function(e,r,n){var a,i=Ae(e),s=pe(e),o=Ae(n),u,l,c=!1,f=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(u=!i&&!s?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":h=!0,a=e>n;break;case">=":h=!0,a=e>=n;break;case"<":h=!0,a=e<n;break;case"<=":h=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!h)&&(a=!a),a},_C=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},SC=function(e){return e!==void 0},Gc=function(e,r){return e.data(r)},TC=function(e,r){return e[r]()},ot=[],tt=function(e,r){return e.checks.every(function(n){return ot[n.type](n,r)})};ot[ye.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};ot[ye.STATE]=function(t,e){var r=t.value;return yC(r,e)};ot[ye.ID]=function(t,e){var r=t.value;return e.id()===r};ot[ye.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};ot[ye.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Qm(TC(e,r),n,a)};ot[ye.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Qm(Gc(e,r),n,a)};ot[ye.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return _C(Gc(e,r),n)};ot[ye.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,SC(Gc(e,r))};ot[ye.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return tt(r,a)&&tt(n,i)||tt(n,a)&&tt(r,i)};ot[ye.NODE_NEIGHBOR]=function(t,e){return tt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&tt(t.neighbor,r)})};ot[ye.DIRECTED_EDGE]=function(t,e){return tt(t.source,e.source())&&tt(t.target,e.target())};ot[ye.NODE_SOURCE]=function(t,e){return tt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&tt(t.target,r)})};ot[ye.NODE_TARGET]=function(t,e){return tt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&tt(t.source,r)})};ot[ye.CHILD]=function(t,e){return tt(t.child,e)&&tt(t.parent,e.parent())};ot[ye.PARENT]=function(t,e){return tt(t.parent,e)&&e.children().some(function(r){return tt(t.child,r)})};ot[ye.DESCENDANT]=function(t,e){return tt(t.descendant,e)&&e.ancestors().some(function(r){return tt(t.ancestor,r)})};ot[ye.ANCESTOR]=function(t,e){return tt(t.ancestor,e)&&e.descendants().some(function(r){return tt(t.descendant,r)})};ot[ye.COMPOUND_SPLIT]=function(t,e){return tt(t.subject,e)&&tt(t.left,e)&&tt(t.right,e)};ot[ye.TRUE]=function(){return!0};ot[ye.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};ot[ye.FILTER]=function(t,e){var r=t.value;return r(e)};var kC=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ye.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(tt(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},PC=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(tt(a,e))return!0}return!1},BC={matches:PC,filter:kC},dn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ae(e)&&e.match(/^\s*$/)||(er(e)?this.addQuery({checks:[{type:ye.COLLECTION,value:e.collection()}]}):st(e)?this.addQuery({checks:[{type:ye.FILTER,value:e}]}):Ae(e)?this.parse(e)||(this.invalid=!0):it("A selector must be created from a string; found "))},vn=dn.prototype;[CC,BC].forEach(function(t){return Ce(vn,t)});vn.text=function(){return this.inputText};vn.size=function(){return this.length};vn.eq=function(t){return this[t]};vn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};vn.addQuery=function(t){this[this.length++]=t};vn.selector=vn.toString;var on={allAre:function(e){var r=new dn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new dn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};on.allAreNeighbours=on.allAreNeighbors;on.has=on.contains;on.equal=on.equals=on.same;var ar=function(e,r){return function(a,i,s,o){var u=a,l=this,c;if(u==null?c="":er(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var f=l[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[r]=h[r]||[],v=Qn(c),g=d[v];return g||(d[v]=e.call(l,a,i,s,o))}else return e.call(l,a,i,s,o)}},La={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:ar(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Hc(t,e,r,n){for(var a=[],i=new Oa,s=t.cy(),o=s.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):o&&n(a,i,l)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function $m(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}La.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Hc(this,t,e,$m)};function Km(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}La.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Hc(this,t,e,Km)};function DC(t,e,r){Km(t,e,r),$m(t,e,r)}La.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Hc(this,t,e,DC)};La.ancestors=La.parents;var Di,Ym;Di=Ym={data:We.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:We.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:We.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:We.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:We.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:We.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Di.attr=Di.data;Di.removeAttr=Di.removeData;var RC=Ym,To={};function vl(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}Ce(To,{degree:vl(function(t,e){return e.source().same(e.target())?2:1}),indegree:vl(function(t,e){return e.target().same(t)?1:0}),outdegree:vl(function(t,e){return e.source().same(t)?1:0})});function aa(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}Ce(To,{minDegree:aa("degree",function(t,e){return t<e}),maxDegree:aa("degree",function(t,e){return t>e}),minIndegree:aa("indegree",function(t,e){return t<e}),maxIndegree:aa("indegree",function(t,e){return t>e}),minOutdegree:aa("outdegree",function(t,e){return t<e}),maxOutdegree:aa("outdegree",function(t,e){return t>e})});Ce(To,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var fr,Xm,Zm=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},Dd={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Zm(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};fr=Xm={position:We.data(Dd),silentPosition:We.data(Ce({},Dd,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Zm(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(qe(e))r?this.silentPosition(e):this.position(e);else if(st(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(qe(e)?(a={x:pe(e.x)?e.x:0,y:pe(e.y)?e.y:0},n=r):Ae(e)&&pe(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var u=o.position(),l={x:u.x+a.x,y:u.y+a.y};n?o.silentPosition(l):o.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return qe(e)?this.shift(e,!0):Ae(e)&&pe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=qe(e)?e:void 0,u=o!==void 0||r!==void 0&&Ae(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(Tm(o,i,s))}else{var f=n.position();return o=xo(f,i,s),e===void 0?o:o[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=qe(e)?e:void 0,s=i!==void 0||r!==void 0&&Ae(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var u=0;u<this.length;u++){var l=this[u],c=o?l.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};r!==void 0?l.position(e,r+d[e]):i!==void 0&&l.position({x:i.x+d.x,y:i.y+d.y})}else{var v=n.position(),g=o?n.parent():null,p=g&&g.length>0,m=p;p&&(g=g[0]);var y=m?g.position():{x:0,y:0};return i={x:v.x-y.x,y:v.y-y.y},e===void 0?i:i[e]}else if(!s)return;return this}};fr.modelPosition=fr.point=fr.position;fr.modelPositions=fr.points=fr.positions;fr.renderedPoint=fr.renderedPosition;fr.relativePoint=fr.relativePosition;var IC=Xm,ka,An;ka=An={};An.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:u,w:s-i,h:u-o}};An.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};An.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),l=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),h=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(E,P,S){var _=0,x=0,C=P+S;return E>0&&C>0&&(_=P/C*E,x=S/C*E),{biasDiff:_,biasComplementDiff:x}}function v(E,P,S,_){if(S.units==="%")switch(_){case"width":return E>0?S.pfValue*E:0;case"height":return P>0?S.pfValue*P:0;case"average":return E>0&&P>0?S.pfValue*(E+P)/2:0;case"min":return E>0&&P>0?E>P?S.pfValue*P:S.pfValue*E:0;case"max":return E>0&&P>0?E>P?S.pfValue*E:S.pfValue*P:0;default:return 0}else return S.units==="px"?S.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var b=d(c.width.val-f.w,g,p),w=b.biasDiff,B=b.biasComplementDiff,T=d(c.height.val-f.h,m,y),k=T.biasDiff,A=T.biasComplementDiff;o.autoPadding=v(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),h.x=(-w+f.x1+f.x2+B)/2,o.autoHeight=Math.max(f.h,c.height.val),h.y=(-k+f.y1+f.y2+A)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var rr=function(e){return e===1/0||e===-1/0?0:e},ur=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Nn=function(e,r){return r==null?e:ur(e,r.x1,r.y1,r.x2,r.y2)},Ka=function(e,r,n){return Qt(e,r,n)},cs=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,u,l;if(o!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=u-s,f.y1=l-s,f.x2=u+s,f.y2=l+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,_s(f,1),ur(e,f.x1,f.y1,f.x2,f.y2)}}},gl=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),c=Ka(s,"labelWidth",n),f=Ka(s,"labelHeight",n),h=Ka(s,"labelX",n),d=Ka(s,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,g=r.pstyle(a+"text-margin-y").pfValue,p=r.isEdge(),m=r.pstyle(a+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,w=b/2,B=r.pstyle("text-background-padding").pfValue,T=2,k=f,A=c,E=A/2,P=k/2,S,_,x,C;if(p)S=h-E,_=h+E,x=d-P,C=d+P;else{switch(u.value){case"left":S=h-A,_=h;break;case"center":S=h-E,_=h+E;break;case"right":S=h,_=h+A;break}switch(l.value){case"top":x=d-k,C=d;break;case"center":x=d-P,C=d+P;break;case"bottom":x=d,C=d+k;break}}var I=v-Math.max(y,w)-B-T,R=v+Math.max(y,w)+B+T,M=g-Math.max(y,w)-B-T,N=g+Math.max(y,w)+B+T;S+=I,_+=R,x+=M,C+=N;var F=n||"main",q=i.labelBounds,j=q[F]=q[F]||{};j.x1=S,j.y1=x,j.x2=_,j.y2=C,j.w=_-S,j.h=C-x,j.leftPad=I,j.rightPad=R,j.topPad=M,j.botPad=N;var U=p&&m.strValue==="autorotate",X=m.pfValue!=null&&m.pfValue!==0;if(U||X){var Y=U?Ka(i.rstyle,"labelAngle",n):m.pfValue,Z=Math.cos(Y),K=Math.sin(Y),G=(S+_)/2,$=(x+C)/2;if(!p){switch(u.value){case"left":G=_;break;case"right":G=S;break}switch(l.value){case"top":$=C;break;case"bottom":$=x;break}}var W=function(J,ae){return J=J-G,ae=ae-$,{x:J*Z-ae*K+G,y:J*K+ae*Z+$}},V=W(S,x),H=W(S,C),D=W(_,x),L=W(_,C);S=Math.min(V.x,H.x,D.x,L.x),_=Math.max(V.x,H.x,D.x,L.x),x=Math.min(V.y,H.y,D.y,L.y),C=Math.max(V.y,H.y,D.y,L.y)}var z=F+"Rot",Q=q[z]=q[z]||{};Q.x1=S,Q.y1=x,Q.x2=_,Q.y2=C,Q.w=_-S,Q.h=C-x,ur(e,S,x,_,C),ur(i.labelBounds.all,S,x,_,C)}return e}},MC=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=a+i,u=(e.w+o*2)/e.w,l=(e.h+o*2)/e.h,c=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(u=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?u=(e.w+o*2.4)/e.w:s==="star"?(u=(e.w+o*2.8)/e.w,l=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(u=(e.w+o*2.8)/e.w,l=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(u=(e.w+o*4.4)/e.w,l=(e.h+o*3.8)/e.h,f=-o*.5);var h=e.h*l-e.h,d=e.w*u-e.w;if(Ss(e,[Math.ceil(h/2),Math.ceil(d/2)]),c!=0||f!==0){var v=mE(e,c,f);km(e,v)}}}},LC=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=Yt(),o=e._private,u=e.isNode(),l=e.isEdge(),c,f,h,d,v,g,p=o.rstyle,m=u&&a?e.pstyle("bounds-expansion").pfValue:[0],y=function(ne){return ne.pstyle("display").value!=="none"},b=!a||y(e)&&(!l||y(e.source())&&y(e.target()));if(b){var w=0,B=0;a&&r.includeOverlays&&(w=e.pstyle("overlay-opacity").value,w!==0&&(B=e.pstyle("overlay-padding").value));var T=0,k=0;a&&r.includeUnderlays&&(T=e.pstyle("underlay-opacity").value,T!==0&&(k=e.pstyle("underlay-padding").value));var A=Math.max(B,k),E=0,P=0;if(a&&(E=e.pstyle("width").pfValue,P=E/2),u&&r.includeNodes){var S=e.position();v=S.x,g=S.y;var _=e.outerWidth(),x=_/2,C=e.outerHeight(),I=C/2;c=v-x,f=v+x,h=g-I,d=g+I,ur(s,c,h,f,d),a&&r.includeOutlines&&MC(s,e)}else if(l&&r.includeEdges)if(a&&!i){var R=e.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),f=Math.max(p.srcX,p.midX,p.tgtX),h=Math.min(p.srcY,p.midY,p.tgtY),d=Math.max(p.srcY,p.midY,p.tgtY),c-=P,f+=P,h-=P,d+=P,ur(s,c,h,f,d),R==="haystack"){var M=p.haystackPts;if(M&&M.length===2){if(c=M[0].x,h=M[0].y,f=M[1].x,d=M[1].y,c>f){var N=c;c=f,f=N}if(h>d){var F=h;h=d,d=F}ur(s,c-P,h-P,f+P,d+P)}}else if(R==="bezier"||R==="unbundled-bezier"||R.endsWith("segments")||R.endsWith("taxi")){var q;switch(R){case"bezier":case"unbundled-bezier":q=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":q=p.linePts;break}if(q!=null)for(var j=0;j<q.length;j++){var U=q[j];c=U.x-P,f=U.x+P,h=U.y-P,d=U.y+P,ur(s,c,h,f,d)}}}else{var X=e.source(),Y=X.position(),Z=e.target(),K=Z.position();if(c=Y.x,f=K.x,h=Y.y,d=K.y,c>f){var G=c;c=f,f=G}if(h>d){var $=h;h=d,d=$}c-=P,f+=P,h-=P,d+=P,ur(s,c,h,f,d)}if(a&&r.includeEdges&&l&&(cs(s,e,"mid-source"),cs(s,e,"mid-target"),cs(s,e,"source"),cs(s,e,"target")),a){var W=e.pstyle("ghost").value==="yes";if(W){var V=e.pstyle("ghost-offset-x").pfValue,H=e.pstyle("ghost-offset-y").pfValue;ur(s,s.x1+V,s.y1+H,s.x2+V,s.y2+H)}}var D=o.bodyBounds=o.bodyBounds||{};yh(D,s),Ss(D,m),_s(D,1),a&&(c=s.x1,f=s.x2,h=s.y1,d=s.y2,ur(s,c-A,h-A,f+A,d+A));var L=o.overlayBounds=o.overlayBounds||{};yh(L,s),Ss(L,m),_s(L,1);var z=o.labelBounds=o.labelBounds||{};z.all!=null?pE(z.all):z.all=Yt(),a&&r.includeLabels&&(r.includeMainLabels&&gl(s,e,null),l&&(r.includeSourceLabels&&gl(s,e,"source"),r.includeTargetLabels&&gl(s,e,"target")))}return s.x1=rr(s.x1),s.y1=rr(s.y1),s.x2=rr(s.x2),s.y2=rr(s.y2),s.w=rr(s.x2-s.x1),s.h=rr(s.y2-s.y1),s.w>0&&s.h>0&&b&&(Ss(s,m),_s(s,1)),s},Jm=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},ey=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return hh([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return hh([r(i.x),r(i.y)])}},Rd=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?Id:Jm(r),o=s===Id;if(n.bbCache==null?(a=LC(e,Ri),n.bbCache=a,n.bbCachePosKey=ey(e)):a=n.bbCache,!o){var u=e.isNode();a=Yt(),(r.includeNodes&&u||r.includeEdges&&!u)&&(r.includeOverlays?Nn(a,n.overlayBounds):Nn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Nn(a,n.labelBounds.all):(r.includeMainLabels&&Nn(a,n.labelBounds.mainRot),r.includeSourceLabels&&Nn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Nn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Ri={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Id=Jm(Ri),Md=kt(Ri);An.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Ra(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==ey(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Ri:t=Md(t),e=Rd(this[0],t);else{e=Yt(),t=t||Ri;var a=Md(t),i=this,s=i.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<i.length;u++){var l=i[u];n(l)&&l.dirtyBoundingBoxCache(),Nn(e,Rd(l,a))}}return e.x1=rr(e.x1),e.y1=rr(e.y1),e.x2=rr(e.x2),e.y2=rr(e.y2),e.w=rr(e.x2-e.x1),e.h=rr(e.y2-e.y1),e};An.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};An.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),qe(t)){var i=t;t=function(){return i}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=gE(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};ka.boundingbox=ka.bb=ka.boundingBox;ka.renderedBoundingbox=ka.renderedBoundingBox;var OC=An,si,Wi;si=Wi={};var ty=function(e){e.uppercaseName=Xf(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Xf(e.outerName),si[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},si["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),u=n.pstyle("border-position").value,l;u==="center"?l=n.pstyle("border-width").pfValue:u==="outside"?l=2*n.pstyle("border-width").pfValue:l=0;var c=2*n.padding();return o+l+c}else return 1},si["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},si["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};ty({name:"width"});ty({name:"height"});Wi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Wi.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Wi.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var NC=Wi,FC=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},zC=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return xo(r(e),n.zoom(),n.pan())}},qC=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return xo(s,i,a)})}},VC=function(e){return e.renderer().getControlPoints(e)},GC=function(e){return e.renderer().getSegmentPoints(e)},HC=function(e){return e.renderer().getSourceEndpoint(e)},jC=function(e){return e.renderer().getTargetEndpoint(e)},WC=function(e){return e.renderer().getEdgeMidpoint(e)},Ld={controlPoints:{get:VC,mult:!0},segmentPoints:{get:GC,mult:!0},sourceEndpoint:{get:HC},targetEndpoint:{get:jC},midpoint:{get:WC}},UC=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},QC=Object.keys(Ld).reduce(function(t,e){var r=Ld[e],n=UC(e);return t[e]=function(){return FC(this,r.get)},r.mult?t[n]=function(){return qC(this,r.get)}:t[n]=function(){return zC(this,r.get)},t},{}),$C=Ce({},IC,OC,NC,QC);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var ry=function(e,r){this.recycle(e,r)};function Ya(){return!1}function fs(){return!0}ry.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ya,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?fs:Ya):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=fs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=fs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=fs,this.stopPropagation()},isDefaultPrevented:Ya,isPropagationStopped:Ya,isImmediatePropagationStopped:Ya};var ny=/^([^.]+)(\.(?:[^.]+))?$/,KC=".*",ay={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Od=Object.keys(ay),YC={};function ko(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YC,e=arguments.length>1?arguments[1]:void 0,r=0;r<Od.length;r++){var n=Od[r];this[n]=t[n]||ay[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var gn=ko.prototype,iy=function(e,r,n,a,i,s,o){st(a)&&(i=a,a=null),o&&(s==null?s=o:s=Ce({},s,o));for(var u=Xe(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!cn(c)){var f=c.match(ny);if(f){var h=f[1],d=f[2]?f[2]:null,v=r(e,c,h,d,a,i,s);if(v===!1)break}}}},Nd=function(e,r){return e.addEventFields(e.context,r),new ry(r.type,r)},XC=function(e,r,n){if(sx(n)){r(e,n);return}else if(qe(n)){r(e,Nd(e,n));return}for(var a=Xe(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!cn(s)){var o=s.match(ny);if(o){var u=o[1],l=o[2]?o[2]:null,c=Nd(e,{type:u,namespace:l,target:e.context});r(e,c)}}}};gn.on=gn.addListener=function(t,e,r,n,a){return iy(this,function(i,s,o,u,l,c,f){st(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:u,qualifier:l,conf:f})},t,e,r,n,a),this};gn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};gn.removeListener=gn.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=zx(this.listeners));for(var i=this.listeners,s=function(l){var c=i[l];iy(a,function(f,h,d,v,g,p){if((c.type===d||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!g||f.qualifierCompare(c.qualifier,g))&&(!p||c.callback===p))return i.splice(l,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};gn.removeAllListeners=function(){return this.removeListener("*")};gn.emit=gn.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Xe(e)||(e=[e]),XC(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(){var c=n[u];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===KC)&&i.eventMatches(i.context,c,s)){var f=[s];e!=null&&Vx(f,e),i.beforeEmit(i.context,c,s),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(v){return v!==c}));var h=i.callbackContext(i.context,c,s),d=c.callback.apply(h,f);i.afterEmit(i.context,c,s),d===!1&&(s.stopPropagation(),s.preventDefault())}},u=0;u<a;u++)o();i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var ZC={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&zi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},hs=function(e){return Ae(e)?new dn(e):e},sy={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new ko(ZC,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=hs(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=hs(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=hs(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=hs(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};We.eventAliasesOn(sy);var oy={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ae(e)||er(e))return new dn(e).filter(this);if(st(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Ae(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ae(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,u=s?i:a,l=0;l<o.length;l++){var c=o[l];u.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Ae(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(u,l){for(var c=0;c<u.length;c++){var f=u[c],h=f._private.data.id,d=l.hasElementWithId(h);d||n.push(f)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;Ae(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,u=function(c,f,h){for(var d=0;d<c.length;d++){var v=c[d],g=v._private.data.id,p=f.hasElementWithId(g);p?i.merge(v):h.push(v)}};return u(s,o,n),u(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ae(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ae(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],u=o._private.data.id,l=!i.has(u);if(l){var c=this.length++;this[c]=o,i.set(u,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,u=this[o],l=u._private.data.id;this[o]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ae(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u>n&&(n=u,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u<n&&(n=u,a=o)}return{value:n,ele:a}}},Ve=oy;Ve.u=Ve["|"]=Ve["+"]=Ve.union=Ve.or=Ve.add;Ve["\\"]=Ve["!"]=Ve["-"]=Ve.difference=Ve.relativeComplement=Ve.subtract=Ve.not;Ve.n=Ve["&"]=Ve["."]=Ve.and=Ve.intersection=Ve.intersect;Ve["^"]=Ve["(+)"]=Ve["(-)"]=Ve.symmetricDifference=Ve.symdiff=Ve.xor;Ve.fnFilter=Ve.filterFn=Ve.stdFilter=Ve.filter;Ve.complement=Ve.abscomp=Ve.absoluteComplement;var JC={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},uy=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?Rc:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var u=o(e)-o(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},Xs={forEach:function(e,r){if(st(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!st(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(uy)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Rc-1}else{var i=r.source,s=r.target,o=i.zDepth(),u=s.zDepth();return Math.max(o,u,0)}}}};Xs.each=Xs.forEach;var e2=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":mt(Symbol))!=e&&mt(Symbol.iterator)!=e;r&&(Xs[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return um({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};e2();var t2=kt({nodeDimensionsIncludeLabels:!1}),ks={layoutDimensions:function(e){e=t2(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(B){return!B.isParent()}),i=this.cy(),s=r.eles,o=function(T){return T.id()},u=Ra(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(T,k,A){var E={x:k.x1+k.w/2,y:k.y1+k.h/2},P={x:(A.x-E.x)*T,y:(A.y-E.y)*T};return{x:E.x+P.x,y:E.y+P.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var T=Yt(),k=0;k<a.length;k++){var A=a[k],E=u(A,k);yE(T,E.x,E.y)}return T},h=f(),d=Ra(function(B,T){var k=u(B,T);if(c){var A=Math.abs(r.spacingFactor);k=l(A,h,k)}return r.transform!=null&&(k=r.transform(B,k)),k},o);if(r.animate){for(var v=0;v<a.length;v++){var g=a[v],p=d(g,v),m=r.animateFilter==null||r.animateFilter(g,v);if(m){var y=g.animation({position:p,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else g.position(p)}if(r.fit){var b=i.animation({fit:{boundingBox:s.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var w=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}e.animations.forEach(function(B){return B.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Na.all(e.animations.map(function(B){return B.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(d),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ce({},e,{eles:this}))}};ks.createLayout=ks.makeLayout=ks.layout;function ly(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Po(t,e){return t=Qn(t),function(n){return ly(t,e,n)}}function Bo(t,e){t=Qn(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return ly(t,r,a)}}var St={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(qe(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(Ae(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var u=s[o],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function pl(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function jc(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||pl(i,n);var u=o.source,l=o.target;return r(u)&&(!s||pl(u,r))&&(u===l||r(l)&&(!s||pl(l,r)))}}}var Fa=Po("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});St.takesUpSpace=Bo("takesUpSpace",jc({ok:Fa}));var r2=Po("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Fa(t)}),n2=Po("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Fa(t)});St.interactive=Bo("interactive",jc({ok:r2,parentOk:n2,edgeOkViaNode:Fa}));St.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var a2=Po("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Fa(t)}),i2=Fa;St.visible=Bo("visible",jc({ok:a2,edgeOkViaNode:i2}));St.hidden=function(){var t=this[0];if(t)return!t.visible()};St.isBundledBezier=Bo("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});St.bypass=St.css=St.style;St.renderedCss=St.renderedStyle;St.removeBypass=St.removeCss=St.removeStyle;St.pstyle=St.parsedStyle;var un={};function Fd(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&st(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&Xe(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var u=this[o],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(u);if(f!==void 0&&(l=f,!f))return this}l&&(u._private[t.field]=t.value,c&&r.push(u))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),s&&h.emit(s)}return this}}function za(t){un[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},un[t.on]=Fd({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),un[t.off]=Fd({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}za({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});za({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});za({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});za({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});un.deselect=un.unselect;un.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};za({field:"active",on:"activate",off:"unactivate"});za({field:"pannable",on:"panify",off:"unpanify"});un.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ot={},zd=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var u=!1,l=o.connectedEdges(),c=0;c<l.length;c++){var f=l[c],h=f.source(),d=f.target();if(e.noIncomingEdges&&d===o&&h!==o||e.noOutgoingEdges&&h===o&&d!==o){u=!0;break}}u||i.push(o)}}return this.spawn(i,!0).filter(n)}},qd=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),u=0;u<o.length;u++){var l=o[u],c=l.source(),f=l.target();e.outgoing&&c===s?(a.push(l),a.push(f)):e.incoming&&f===s&&(a.push(l),a.push(c))}}return this.spawn(a,!0).filter(r)}},Vd=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,u=0;u<s.length;u++){var l=s[u],c=l.id();i[c]||(i[c]=!0,a.push(l),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};Ot.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ce(Ot,{roots:zd({noIncomingEdges:!0}),leaves:zd({noOutgoingEdges:!0}),outgoers:ar(qd({outgoing:!0}),"outgoers"),successors:Vd({outgoing:!0}),incomers:ar(qd({incoming:!0}),"incomers"),predecessors:Vd({})});Ce(Ot,{neighborhood:ar(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],u=o.source(),l=o.target(),c=a===u?l:u;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Ot.neighbourhood=Ot.neighborhood;Ot.closedNeighbourhood=Ot.closedNeighborhood;Ot.openNeighbourhood=Ot.openNeighborhood;Ce(Ot,{source:ar(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:ar(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Gd({attr:"source"}),targets:Gd({attr:"target"})});function Gd(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}Ce(Ot,{edgesWith:ar(Hd(),"edgesWith"),edgesTo:ar(Hd({thisIsSrc:!0}),"edgesTo")});function Hd(t){return function(r){var n=[],a=this._private.cy,i=t||{};Ae(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,u=0;u<o.length;u++){var l=o[u],c=l._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),h=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!h)||n.push(l))}return this.spawn(n,!0)}}Ce(Ot,{connectedEdges:ar(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:ar(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:ar(jd(),"parallelEdges"),codirectedEdges:ar(jd({codirected:!0}),"codirectedEdges")});function jd(t){var e={codirected:!1};return t=Ce({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var u=i[o],l=u._private,c=l.source,f=c._private.data.id,h=l.data.target,d=c._private.edges,v=0;v<d.length;v++){var g=d[v],p=g._private.data,m=p.target,y=p.source,b=m===h&&y===f,w=f===m&&h===y;(s.codirected&&b||!s.codirected&&(b||w))&&a.push(g)}return this.spawn(a,!0).filter(n)}}Ce(Ot,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var u=function(){var c=n.collection();s.push(c);var f=i[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(d){return o(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do u();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Ot.componentsOf=Ot.components;var Tt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){it("A collection must have a reference to the core");return}var i=new Fr,s=!1;if(!r)r=[];else if(r.length>0&&qe(r[0])&&!zi(r[0])){s=!0;for(var o=[],u=new Oa,l=0,c=r.length;l<c;l++){var f=r[l];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=_m();else if(e.hasElementWithId(h.id)||u.has(h.id))continue;var d=new wo(e,f,!1);o.push(d),u.add(h.id)}r=o}this.length=0;for(var v=0,g=r.length;v<g;v++){var p=r[v][0];if(p!=null){var m=p._private.data.id;(!n||!i.has(m))&&(n&&i.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new Fr,w=this.eles,B=0;B<w.length;B++){var T=w[B];b.set(T.id(),{index:B,ele:T})}}},n&&(this._private.map=i),s&&!a&&this.restore()},et=wo.prototype=Tt.prototype=Object.create(Array.prototype);et.instanceString=function(){return"collection"};et.spawn=function(t,e){return new Tt(this.cy(),t,e)};et.spawnSelf=function(){return this.spawn(this)};et.cy=function(){return this._private.cy};et.renderer=function(){return this._private.cy.renderer()};et.element=function(){return this[0]};et.collection=function(){return fm(this)?this:new Tt(this._private.cy,[this])};et.unique=function(){return new Tt(this._private.cy,this,!0)};et.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};et.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Tt(e)};et.$id=et.getElementById;et.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};et.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};et.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};et.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(qe(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,u=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),u!=null&&u!=a.target&&(s.target=""+u,i=!0),i&&(e=e.move(s))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(g,p,m){var y=t[g];y!=null&&y!==n[g]&&(y?e[p]():e[m]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:Ar(n.data),position:Ar(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(v){return h.classes+=d++===0?v:" "+v}),h}}};et.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};et.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new wo(t,a,!1);e.push(i)}return new Tt(t,e)};et.copy=et.clone;et.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,u=0,l=r.length;u<l;u++){var c=r[u];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var f,h=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var d=o[f],v=d._private,g=v.data;if(d.clearTraversalCache(),!(!e&&!v.removed)){if(g.id===void 0)g.id=_m();else if(pe(g.id))g.id=""+g.id;else if(cn(g.id)||!Ae(g.id)){it("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(n.hasElementWithId(g.id)){it("Can not create second element with ID `"+g.id+"`"),h();continue}}var p=g.id;if(d.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(d.isEdge()){for(var y=d,b=["source","target"],w=b.length,B=!1,T=0;T<w;T++){var k=b[T],A=g[k];pe(A)&&(A=g[k]=""+g[k]),A==null||A===""?(it("Can not create edge `"+p+"` with unspecified "+k),B=!0):n.hasElementWithId(A)||(it("Can not create edge `"+p+"` with nonexistant "+k+" `"+A+"`"),B=!0)}if(B){h();continue}var E=n.getElementById(g.source),P=n.getElementById(g.target);E.same(P)?E._private.edges.push(y):(E._private.edges.push(y),P._private.edges.push(y)),y._private.source=E,y._private.target=P}v.map=new Fr,v.map.set(p,{ele:d,index:0}),v.removed=!1,e&&n.addToPool(d)}for(var S=0;S<i.length;S++){var _=i[S],x=_._private.data;pe(x.parent)&&(x.parent=""+x.parent);var C=x.parent,I=C!=null;if(I||_._private.parent){var R=_._private.parent?n.collection().merge(_._private.parent):n.getElementById(C);if(R.empty())x.parent=void 0;else if(R[0].removed())Ue("Node added with missing parent, reference to parent removed"),x.parent=void 0,_._private.parent=null;else{for(var M=!1,N=R;!N.empty();){if(_.same(N)){M=!0,x.parent=void 0;break}N=N.parent()}M||(R[0]._private.children.push(_),_._private.parent=R[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var F=o.length===r.length?r:new Tt(n,o),q=0;q<F.length;q++){var j=F[q];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}var U;a.hasCompoundNodes?U=n.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):U=F,U.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?F.emitAndNotify("add"):e&&F.emit("add")}return r};et.removed=function(){var t=this[0];return t&&t._private.removed};et.inside=function(){var t=this[0];return t&&!t._private.removed};et.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(C){for(var I=C._private.edges,R=0;R<I.length;R++)u(I[R])}function o(C){for(var I=C._private.children,R=0;R<I.length;R++)u(I[R])}function u(C){var I=a[C.id()];e&&C.removed()||I||(a[C.id()]=!0,C.isNode()?(n.push(C),s(C),o(C)):n.unshift(C))}for(var l=0,c=r.length;l<c;l++){var f=r[l];u(f)}function h(C,I){var R=C._private.edges;fn(R,I),C.clearTraversalCache()}function d(C){C.clearTraversalCache()}var v=[];v.ids={};function g(C,I){I=I[0],C=C[0];var R=C._private.children,M=C.id();fn(R,I),I._private.parent=null,v.ids[M]||(v.ids[M]=!0,v.push(C))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var p=0;p<n.length;p++){var m=n[p];if(m.isEdge()){var y=m.source()[0],b=m.target()[0];h(y,m),h(b,m);for(var w=m.parallelEdges(),B=0;B<w.length;B++){var T=w[B];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var k=m.parent();k.length!==0&&g(k,m)}e&&(m._private.removed=!0)}var A=i._private.elements;i._private.hasCompoundNodes=!1;for(var E=0;E<A.length;E++){var P=A[E];if(P.isParent()){i._private.hasCompoundNodes=!0;break}}var S=new Tt(this.cy(),n);S.size()>0&&(t?S.emitAndNotify("remove"):e&&S.emit("remove"));for(var _=0;_<v.length;_++){var x=v[_];(!e||!x.removed())&&x.updateStyle()}return S};et.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),u=s!=null&&e.hasElementWithId(s),l=o!=null&&e.hasElementWithId(o);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],g=v._private.data;v.isEdge()&&(u&&(g.source=s),l&&(g.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var d=r.remove(n,a);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],p=g._private.data;g.isNode()&&(p.parent=h)}d.restore(n,a)}),r.emitAndNotify("move")}}return this};[Om,pC,Ts,on,La,RC,To,$C,sy,oy,JC,Xs,ks,St,un,Ot].forEach(function(t){Ce(et,t)});var s2={add:function(e){var r,n=this;if(er(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new Tt(n,i)}}else if(Xe(e)){var u=e;r=new Tt(n,u)}else if(qe(e)&&(Xe(e.nodes)||Xe(e.edges))){for(var l=e,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var v=f[h],g=l[v];if(Xe(g))for(var p=0,m=g.length;p<m;p++){var y=Ce({group:v},g[p]);c.push(y)}}r=new Tt(n,c)}else{var b=e;r=new wo(n,b).collection()}return r},remove:function(e){if(!er(e)){if(Ae(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function o2(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=c?new Float32Array(u):new Array(u);function d(P,S){return 1-3*S+3*P}function v(P,S){return 3*S-6*P}function g(P){return 3*P}function p(P,S,_){return((d(S,_)*P+v(S,_))*P+g(S))*P}function m(P,S,_){return 3*d(S,_)*P*P+2*v(S,_)*P+g(S)}function y(P,S){for(var _=0;_<a;++_){var x=m(S,t,r);if(x===0)return S;var C=p(S,t,r)-P;S-=C/x}return S}function b(){for(var P=0;P<u;++P)h[P]=p(P*l,t,r)}function w(P,S,_){var x,C,I=0;do C=S+(_-S)/2,x=p(C,t,r)-P,x>0?_=C:S=C;while(Math.abs(x)>s&&++I<o);return C}function B(P){for(var S=0,_=1,x=u-1;_!==x&&h[_]<=P;++_)S+=l;--_;var C=(P-h[_])/(h[_+1]-h[_]),I=S+C*l,R=m(I,t,r);return R>=i?y(P,I):R===0?I:w(P,S,S+l)}var T=!1;function k(){T=!0,(t!==e||r!==n)&&b()}var A=function(S){return T||k(),t===e&&r===n?S:S===0?0:S===1?1:p(B(S),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var E="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return E},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var u2=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),u=e(n,a,o),l=1/6*(i.dx+2*(s.dx+o.dx)+u.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,f=16/1e3,h,d,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,h=s!==null,h?(l=n(a,i),d=l/s*f):d=f;v=r(v||o,d),u.push(1+v.x),l+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return h?function(g){return u[g*(u.length-1)|0]}:l}}(),Ze=function(e,r,n,a){var i=o2(e,r,n,a);return function(s,o,u){return s+(o-s)*i(u)}},Ps={linear:function(e,r,n){return e+(r-e)*n},ease:Ze(.25,.1,.25,1),"ease-in":Ze(.42,0,1,1),"ease-out":Ze(0,0,.58,1),"ease-in-out":Ze(.42,0,.58,1),"ease-in-sine":Ze(.47,0,.745,.715),"ease-out-sine":Ze(.39,.575,.565,1),"ease-in-out-sine":Ze(.445,.05,.55,.95),"ease-in-quad":Ze(.55,.085,.68,.53),"ease-out-quad":Ze(.25,.46,.45,.94),"ease-in-out-quad":Ze(.455,.03,.515,.955),"ease-in-cubic":Ze(.55,.055,.675,.19),"ease-out-cubic":Ze(.215,.61,.355,1),"ease-in-out-cubic":Ze(.645,.045,.355,1),"ease-in-quart":Ze(.895,.03,.685,.22),"ease-out-quart":Ze(.165,.84,.44,1),"ease-in-out-quart":Ze(.77,0,.175,1),"ease-in-quint":Ze(.755,.05,.855,.06),"ease-out-quint":Ze(.23,1,.32,1),"ease-in-out-quint":Ze(.86,0,.07,1),"ease-in-expo":Ze(.95,.05,.795,.035),"ease-out-expo":Ze(.19,1,.22,1),"ease-in-out-expo":Ze(1,0,0,1),"ease-in-circ":Ze(.6,.04,.98,.335),"ease-out-circ":Ze(.075,.82,.165,1),"ease-in-out-circ":Ze(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Ps.linear;var a=u2(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":Ze};function Wd(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Ud(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ia(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=Ud(t,a),o=Ud(e,a);if(pe(s)&&pe(o))return Wd(i,s,o,r,n);if(Xe(s)&&Xe(o)){for(var u=[],l=0;l<o.length;l++){var c=s[l],f=o[l];if(c!=null&&f!=null){var h=Wd(i,c,f,r,n);u.push(h)}else u.push(f)}return u}}function l2(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,u=s.startTime,l=n?t:t.cy(),c=l.style();if(!s.easingImpl)if(o==null)s.easingImpl=Ps.linear;else{var f;if(Ae(o)){var h=c.parse("transition-timing-function",o);f=h.value}else f=o;var d,v;Ae(f)?(d=f,v=[]):(d=f[1],v=f.slice(2).map(function(F){return+F})),v.length>0?(d==="spring"&&v.push(s.duration),s.easingImpl=Ps[d].apply(null,v)):s.easingImpl=Ps[d]}var g=s.easingImpl,p;if(s.duration===0?p=1:p=(r-u)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),s.delay==null){var m=s.startPosition,y=s.position;if(y&&a&&!t.locked()){var b={};Xa(m.x,y.x)&&(b.x=ia(m.x,y.x,p,g)),Xa(m.y,y.y)&&(b.y=ia(m.y,y.y,p,g)),t.position(b)}var w=s.startPan,B=s.pan,T=i.pan,k=B!=null&&n;k&&(Xa(w.x,B.x)&&(T.x=ia(w.x,B.x,p,g)),Xa(w.y,B.y)&&(T.y=ia(w.y,B.y,p,g)),t.emit("pan"));var A=s.startZoom,E=s.zoom,P=E!=null&&n;P&&(Xa(A,E)&&(i.zoom=Pi(i.minZoom,ia(A,E,p,g),i.maxZoom)),t.emit("zoom")),(k||P)&&t.emit("viewport");var S=s.style;if(S&&S.length>0&&a){for(var _=0;_<S.length;_++){var x=S[_],C=x.name,I=x,R=s.startStyle[C],M=c.properties[R.name],N=ia(R,I,p,g,M);c.overrideBypass(t,C,N)}t.emit("style")}}return s.progress=p,p}function Xa(t,e){return t==null||e==null?!1:pe(t)&&pe(e)?!0:!!(t&&e)}function c2(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Qd(t,e){var r=e._private.aniEles,n=[];function a(c,f){var h=c._private,d=h.animation.current,v=h.animation.queue,g=!1;if(d.length===0){var p=v.shift();p&&d.push(p)}for(var m=function(T){for(var k=T.length-1;k>=0;k--){var A=T[k];A()}T.splice(0,T.length)},y=d.length-1;y>=0;y--){var b=d[y],w=b._private;if(w.stopped){d.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||c2(c,b,t),l2(c,b,t,f),w.applying&&(w.applying=!1),m(w.frames),w.step!=null&&w.step(t),b.completed()&&(d.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.completes)),g=!0)}return!f&&d.length===0&&v.length===0&&n.push(c),g}for(var i=!1,s=0;s<r.length;s++){var o=r[s],u=a(o);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var f2={animate:We.animate(),animation:We.animation(),animated:We.animated(),clearQueue:We.clearQueue(),delay:We.delay(),delayAnimation:We.delayAnimation(),stop:We.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Us(function(i){Qd(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){Qd(s,e)},n.beforeRenderPriorities.animations):r()}},h2={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&zi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},ds=function(e){return Ae(e)?new dn(e):e},cy={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ko(h2,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,ds(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,ds(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,ds(r),n),this},once:function(e,r,n){return this.emitter().one(e,ds(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};We.eventAliasesOn(cy);var Zl={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Zl.jpeg=Zl.jpg;var Bs={layout:function(e){var r=this;if(e==null){it("Layout options must be specified to make a layout");return}if(e.name==null){it("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){it("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ae(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(Ce({},e,{cy:r,eles:i}));return s}};Bs.createLayout=Bs.makeLayout=Bs.layout;var d2={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},v2=kt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Jl={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){it("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Ue("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=v2(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Jl.invalidateDimensions=Jl.resize;var Ds={collection:function(e,r){return Ae(e)?this.$(e):er(e)?e.collection():Xe(e)?(r||(r={}),new Tt(this,e,r.unique,r.removed)):new Tt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Ds.elements=Ds.filter=Ds.$;var Et={},pi="t",g2="f";Et.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var u=e.getContextStyle(o),l=e.applyContextStyle(o,u,s);s._private.appliedInitStyle?e.updateTransitions(s,l.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};Et.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},u=0;u<r.length;u++){var l=r[u],c=t[u]===pi,f=e[u]===pi,h=c!==f,d=l.mappedProperties.length>0;if(h||f&&d){var v=void 0;h&&d||h?v=l.properties:d&&(v=l.mappedProperties);for(var g=0;g<v.length;g++){for(var p=v[g],m=p.name,y=!1,b=u+1;b<r.length;b++){var w=r[b],B=e[b]===pi;if(B&&(y=w.properties[p.name]!=null,y))break}!o[m]&&!y&&(o[m]=!0,s.push(m))}}}return n[a]=s,s};Et.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=pi:r+=g2}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Et.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===pi;if(o)for(var u=0;u<s.properties.length;u++){var l=s.properties[u];a[l.name]=l}}return n[e]=a,a};Et.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var u=a[o],l=e[u],c=r.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,h=f.fnValue=l.value(r);if(h===f.prevFnValue)continue}var d=i[u]={prev:c};n.applyParsedProperty(r,l),d.next=r.pstyle(u),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}};Et.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(D,L,z){return r.getPropertiesHash(D,L,z)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var c=a[l];e.styleKeys[c]=[zn,pa]}for(var f=function(D,L){return e.styleKeys[L][0]=Si(D,e.styleKeys[L][0])},h=function(D,L){return e.styleKeys[L][1]=Ti(D,e.styleKeys[L][1])},d=function(D,L){f(D,L),h(D,L)},v=function(D,L){for(var z=0;z<D.length;z++){var Q=D.charCodeAt(z);f(Q,L),h(Q,L)}},g=2e9,p=function(D){return-128<D&&D<128&&Math.floor(D)!==D?g-(D*1024|0):D},m=0;m<n.length;m++){var y=n[m],b=u[y];if(b!=null){var w=this.properties[y],B=w.type,T=w.groupKey,k=void 0;w.hashOverride!=null?k=w.hashOverride(t,b):b.pfValue!=null&&(k=b.pfValue);var A=w.enums==null?b.value:null,E=k!=null,P=A!=null,S=E||P,_=b.units;if(B.number&&S&&!B.multiple){var x=E?k:A;d(p(x),T),!E&&_!=null&&v(_,T)}else v(b.strValue,T)}}for(var C=[zn,pa],I=0;I<a.length;I++){var R=a[I],M=e.styleKeys[R];C[0]=Si(M[0],C[0]),C[1]=Ti(M[1],C[1])}e.styleKey=Mx(C[0],C[1]);var N=e.styleKeys;e.labelDimsKey=$r(N.labelDimensions);var F=i(t,["label"],N.labelDimensions);if(e.labelKey=$r(F),e.labelStyleKey=$r(is(N.commonLabel,F)),!o){var q=i(t,["source-label"],N.labelDimensions);e.sourceLabelKey=$r(q),e.sourceLabelStyleKey=$r(is(N.commonLabel,q));var j=i(t,["target-label"],N.labelDimensions);e.targetLabelKey=$r(j),e.targetLabelStyleKey=$r(is(N.commonLabel,j))}if(o){var U=e.styleKeys,X=U.nodeBody,Y=U.nodeBorder,Z=U.nodeOutline,K=U.backgroundImage,G=U.compound,$=U.pie,W=U.stripe,V=[X,Y,Z,K,G,$,W].filter(function(H){return H!=null}).reduce(is,[zn,pa]);e.nodeKey=$r(V),e.hasPie=$!=null&&$[0]!==zn&&$[1]!==pa,e.hasStripe=W!=null&&W[0]!==zn&&W[1]!==pa}return s!==e.styleKey};Et.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Et.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,u=n.bypass,l=a[n.name],c=l&&l.bypass,f=t._private,h="mapping",d=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},v=function(){var X=d(l),Y=d(n);r.checkTriggers(t,n.name,X,Y)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var g=function(){Ue("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var p=n.field.split("."),m=f.data,y=0;y<p.length&&m;y++){var b=p[y];m=m[b]}if(m==null)return g(),!1;var w;if(pe(m)){var B=n.fieldMax-n.fieldMin;B===0?w=0:w=(m-n.fieldMin)/B}else return Ue("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+t.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),o.color){var T=n.valueMin[0],k=n.valueMax[0],A=n.valueMin[1],E=n.valueMax[1],P=n.valueMin[2],S=n.valueMax[2],_=n.valueMin[3]==null?1:n.valueMin[3],x=n.valueMax[3]==null?1:n.valueMax[3],C=[Math.round(T+(k-T)*w),Math.round(A+(E-A)*w),Math.round(P+(S-P)*w),Math.round(_+(x-_)*w)];i={bypass:n.bypass,name:n.name,value:C,strValue:"rgb("+C[0]+", "+C[1]+", "+C[2]+")"}}else if(o.number){var I=n.valueMin+(n.valueMax-n.valueMin)*w;i=this.parse(n.name,I,n.bypass,h)}else return!1;if(!i)return g(),!1;i.mapping=n,n=i;break}case s.data:{for(var R=n.field.split("."),M=f.data,N=0;N<R.length&&M;N++){var F=R[N];M=M[F]}if(M!=null&&(i=this.parse(n.name,M,n.bypass,h)),!i)return g(),!1;i.mapping=n,n=i;break}case s.fn:{var q=n.value,j=n.fnValue!=null?n.fnValue:q(t);if(n.prevFnValue=j,j==null)return Ue("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,j,n.bypass,h),!i)return Ue("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Ar(n),n=i;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):c?l.bypassed=n:a[n.name]=n,v(),!0};Et.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],u=a[o];u!=null&&(u.bypass?u.bypassed=null:a[o]=null)}}};Et.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Et.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},u=!1,l=0;l<a.length;l++){var c=a[l],f=t.pstyle(c),h=e[c];if(h){var d=h.prev,v=d,g=h.next!=null?h.next:f,p=!1,m=void 0,y=1e-6;v&&(pe(v.pfValue)&&pe(g.pfValue)?(p=g.pfValue-v.pfValue,m=v.pfValue+y*p):pe(v.value)&&pe(g.value)?(p=g.value-v.value,m=v.value+y*p):Xe(v.value)&&Xe(g.value)&&(p=v.value[0]!==g.value[0]||v.value[1]!==g.value[1]||v.value[2]!==g.value[2],m=v.strValue),p&&(o[c]=g.strValue,this.applyBypass(t,c,m),u=!0))}}if(!u)return;n.transitioning=!0,new Na(function(b){s>0?t.delayAnimation(s).play().promise().then(b):b()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Et.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);t.removed()||o!=null&&o(r,n,t)&&i(s)};Et.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Et.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Et.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Et.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Et.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var Ui={};Ui.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var u=a.properties[o],l=u.name,c=this.parse(l,r,!0);c&&i.push(c)}}else if(Ae(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(qe(e)){var h=e;n=r;for(var d=Object.keys(h),v=0;v<d.length;v++){var g=d[v],p=h[g];if(p===void 0&&(p=h[yo(g)]),p!==void 0){var m=this.parse(g,p,!0);m&&i.push(m)}}}else return!1;if(i.length===0)return!1;for(var y=!1,b=0;b<t.length;b++){for(var w=t[b],B={},T=void 0,k=0;k<i.length;k++){var A=i[k];if(n){var E=w.pstyle(A.name);T=B[A.name]={prev:E}}y=this.applyParsedProperty(w,Ar(A))||y,n&&(T.next=w.pstyle(A.name))}y&&this.updateStyleHints(w),n&&this.updateTransitions(w,B,s)}return y};Ui.overrideBypass=function(t,e,r){e=Bc(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,u=s.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};Ui.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ui.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var u=e[o],l=this.properties[u],c=i.pstyle(l.name);if(!(!c||!c.bypass)){var f="",h=this.parse(u,f,!0),d=s[l.name]={prev:c};this.applyParsedProperty(i,h),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var Wc={};Wc.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Wc.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Sr={};Sr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Sr.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[yo(i.name)]=s)}return n}};Sr.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Sr.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,u=s.units,l=s.strValue;if(r&&i.number&&o!=null&&pe(o)){var c=t.cy().zoom(),f=function(p){return p*c},h=function(p,m){return f(p)+m},d=Xe(o),v=d?u.every(function(g){return g!=null}):u!=null;return v?d?o.map(function(g,p){return h(g,u[p])}).join(" "):h(o,u):d?o.map(function(g){return Ae(g)?g:""+f(g)}).join(" "):""+f(o)}else if(l!=null)return l}return null}};Sr.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(qe(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};Sr.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],u=n[o],l=a[o]||a[Bc(o)],c=this.parse(l.name,u);c&&r.push(c)}return r};Sr.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Si(o,n[0]),n[1]=Ti(o,n[1]);else for(s=i.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),n[0]=Si(o,n[0]),n[1]=Ti(o,n[1]);return n};Sr.getPropertiesHash=Sr.getNonDefaultPropertiesHash;var Do={};Do.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var u=s[o],l=i[u];e.css(u,l)}}return e};Do.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Do.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var Uc={};Uc.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Ue("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var h=new dn(f);if(h.invalid){Ue("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var d=c[2],v=!1;i=d;for(var g=[];;){var p=i.match(/^\s*$/);if(p)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){Ue("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}s=m[0];var y=m[1],b=m[2],w=e.properties[y];if(!w){Ue("Skipping property: Invalid property name in: "+s),u();continue}var B=r.parse(y,b);if(!B){Ue("Skipping property: Invalid property definition in: "+s),u();continue}g.push({name:y,val:b}),u()}if(v){o();break}r.selector(f);for(var T=0;T<g.length;T++){var k=g[T];r.css(k.name,k.val)}o()}return r};Uc.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var ft={};(function(){var t=pt,e=hx,r=vx,n=gx,a=px,i=function(H){return"^"+H+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(H){var D=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+H+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+D+")\\s*\\,\\s*("+D+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ft.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(H,D){switch(H.length){case 2:return D[0]!=="deg"&&D[0]!=="rad"&&D[1]!=="deg"&&D[1]!=="rad";case 1:return Ae(H[0])||D[0]==="deg"||D[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(H){var D=H.length;return D===1||D===2||D===4}}};var u={zeroNonZero:function(H,D){return(H==null||D==null)&&H!==D||H==0&&D!=0?!0:H!=0&&D==0},any:function(H,D){return H!=D},emptyNonEmpty:function(H,D){var L=cn(H),z=cn(D);return L&&!z||!L&&z}},l=ft.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],f=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:u.any}],g=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],p=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(H,D,L){return H===D?!1:L.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],m=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],b=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],w=function(H,D){return D.value==="label"?-H.poolIndex():D.pfValue},B=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],T=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],k=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],A=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],E=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],P=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(H,D){return H===D?!1:H==="bezier"||D==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],S=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],_=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],x=[];ft.pieBackgroundN=16,x.push({name:"pie-size",type:l.sizeMaybePercent}),x.push({name:"pie-hole",type:l.sizeMaybePercent}),x.push({name:"pie-start-angle",type:l.angle});for(var C=1;C<=ft.pieBackgroundN;C++)x.push({name:"pie-"+C+"-background-color",type:l.color}),x.push({name:"pie-"+C+"-background-size",type:l.percent}),x.push({name:"pie-"+C+"-background-opacity",type:l.zeroOneNumber});var I=[];ft.stripeBackgroundN=16,I.push({name:"stripe-size",type:l.sizeMaybePercent}),I.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var R=1;R<=ft.stripeBackgroundN;R++)I.push({name:"stripe-"+R+"-background-color",type:l.color}),I.push({name:"stripe-"+R+"-background-size",type:l.percent}),I.push({name:"stripe-"+R+"-background-opacity",type:l.zeroOneNumber});var M=[],N=ft.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(V){N.forEach(function(H){var D=H+"-"+V.name,L=V.type,z=V.triggersBounds;M.push({name:D,type:L,triggersBounds:z})})},{});var F=ft.properties=[].concat(g,b,p,m,y,S,v,d,c,f,h,B,T,k,A,x,I,E,P,M,_),q=ft.propertyGroups={behavior:g,transition:b,visibility:p,overlay:m,underlay:y,ghost:S,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:B,nodeBorder:T,nodeOutline:k,backgroundImage:A,pie:x,stripe:I,compound:E,edgeLine:P,edgeArrow:M,core:_},j=ft.propertyGroupNames={},U=ft.propertyGroupKeys=Object.keys(q);U.forEach(function(V){j[V]=q[V].map(function(H){return H.name}),q[V].forEach(function(H){return H.groupKey=V})});var X=ft.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ft.propertyNames=F.map(function(V){return V.name});for(var Y=0;Y<F.length;Y++){var Z=F[Y];F[Z.name]=Z}for(var K=0;K<X.length;K++){var G=X[K],$=F[G.pointsTo],W={name:G.name,alias:!0,pointsTo:$};F.push(W),F[G.name]=W}})();ft.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};ft.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ce({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=ft.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;u[f]=h}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=ft.stripeBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;u[f]=h}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return ft.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,h=l.value;u[f]=h}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};ft.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ro={};Ro.parse=function(t,e,r,n){var a=this;if(st(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,u=Em(t,o,s,i),l=a.propCache=a.propCache||[],c;return(c=l[u])||(c=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=Ar(c),c&&(c.value=Ar(c.value))),c};Ro.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&Ue("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&Ue("The style value of `label` is deprecated for `"+a.name+"`"),a};Ro.parseImpl=function(t,e,r,n){var a=this;t=Bc(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=Ae(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(st(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var h=o.data;return{name:t,value:c,strValue:""+e,mapped:h,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||l.multiple)return!1;var d=o.mapData;if(!(l.color||l.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var g=this.parse(t,f[5]);if(!g||g.mapped)return!1;if(v.pfValue===g.pfValue||v.strValue===g.strValue)return Ue("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(l.color){var p=v.value,m=g.value,y=p[0]===m[0]&&p[1]===m[1]&&p[2]===m[2]&&(p[3]===m[3]||(p[3]==null||p[3]===1)&&(m[3]==null||m[3]===1));if(y)return!1}return{name:t,value:f,strValue:""+e,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:g.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var b;if(u?b=e.split(/\s+/):Xe(e)?b=e:b=[e],l.evenMultiple&&b.length%2!==0)return null;for(var w=[],B=[],T=[],k="",A=!1,E=0;E<b.length;E++){var P=a.parse(t,b[E],r,"multiple");A=A||Ae(P.value),w.push(P.value),T.push(P.pfValue!=null?P.pfValue:P.value),B.push(P.units),k+=(E>0?" ":"")+P.strValue}return l.validate&&!l.validate(w,B)?null:l.singleEnum&&A?w.length===1&&Ae(w[0])?{name:t,value:w[0],strValue:w[0],bypass:r}:null:{name:t,value:w,pfValue:T,strValue:k,bypass:r,units:B}}var S=function(){for(var W=0;W<l.enums.length;W++){var V=l.enums[W];if(V===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var _,x="px";if(l.units&&(_=l.units),l.implicitUnits&&(x=l.implicitUnits),!l.unitless)if(u){var C="px|em"+(l.allowPercent?"|\\%":"");_&&(C=_);var I=e.match("^("+pt+")("+C+")?$");I&&(e=I[1],_=I[2]||x)}else(!_||l.implicitUnits)&&(_=x);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=s,S();if(l.integer&&!ix(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var R={name:t,value:e,strValue:""+e+(_||""),units:_,bypass:r};return l.unitless||_!=="px"&&_!=="em"?R.pfValue=e:R.pfValue=_==="px"||!_?e:this.getEmSizeInPixels()*e,(_==="ms"||_==="s")&&(R.pfValue=_==="ms"?e:1e3*e),(_==="deg"||_==="rad")&&(R.pfValue=_==="rad"?e:hE(e)),_==="%"&&(R.pfValue=e/100),R}else if(l.propList){var M=[],N=""+e;if(N!=="none"){for(var F=N.split(/\s*,\s*|\s+/),q=0;q<F.length;q++){var j=F[q].trim();a.properties[j]?M.push(j):Ue("`"+j+"` is not a valid property name")}if(M.length===0)return null}return{name:t,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(l.color){var U=gm(e);return U?{name:t,value:U,pfValue:U,strValue:"rgb("+U[0]+","+U[1]+","+U[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var X=S();if(X)return X}for(var Y=l.regexes?l.regexes:[l.regex],Z=0;Z<Y.length;Z++){var K=new RegExp(Y[Z]),G=K.exec(e);if(G)return{name:t,value:l.singleRegexMatchValue?G[1]:G,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?S():null};var xt=function(e){if(!(this instanceof xt))return new xt(e);if(!Pc(e)){it("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Nt=xt.prototype;Nt.instanceString=function(){return"style"};Nt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Nt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Nt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Nt.selector=function(t){var e=t==="core"?null:new dn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Nt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[yo(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Nt.style=Nt.css;Nt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Nt.append=function(t){return hm(t)?t.appendToStyle(this):Xe(t)?this.appendFromJson(t):Ae(t)&&this.appendFromString(t),this};xt.fromJson=function(t,e){var r=new xt(t);return r.fromJson(e),r};xt.fromString=function(t,e){return new xt(t).fromString(e)};[Et,Ui,Wc,Sr,Do,Uc,ft,Ro].forEach(function(t){Ce(Nt,t)});xt.types=Nt.types;xt.properties=Nt.properties;xt.propertyGroups=Nt.propertyGroups;xt.propertyGroupNames=Nt.propertyGroupNames;xt.propertyGroupKeys=Nt.propertyGroupKeys;var p2={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return hm(e)?r.style=e.generateStyle(this):Xe(e)?r.style=xt.fromJson(this,e):Ae(e)?r.style=xt.fromString(this,e):r.style=xt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},m2="single",Yn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=m2),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(Ae(e[0]))return n=e[0],r[n];if(qe(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,pe(s)&&(r.x=s),pe(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&pe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:qe(e)&&(o=n[0],u=o.x,l=o.y,pe(u)&&(a.x+=u),pe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&pe(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(pe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ae(e)){var a=e;e=this.$(a)}else if(ux(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else er(e)||(e=this.mutableElements());if(!(er(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),u;if(r=pe(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((s-2*r)/n.w,(o-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(s-u*(n.x1+n.x2))/2,y:(o-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return pe(e)&&pe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):pe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:pe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),pe(e)?s=e:qe(e)&&(s=e.level,e.position!=null?i=xo(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!pe(s)||s===a||i!=null&&(!pe(i.x)||!pe(i.y)))return null;if(i!=null){var u=n,l=a,c=s,f={x:-c/l*(i.x-u.x)+i.x,y:-c/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(pe(e.zoom)||(n=!1),qe(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;pe(l.x)&&(r.pan.x=l.x,o=!1),pe(l.y)&&(r.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ae(e)){var n=e;e=this.mutableElements().filter(n)}else er(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Yn.centre=Yn.center;Yn.autolockNodes=Yn.autolock;Yn.autoungrabifyNodes=Yn.autoungrabify;var Ii={data:We.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:We.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:We.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:We.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ii.attr=Ii.data;Ii.removeAttr=Ii.removeData;var Mi=function(e){var r=this;e=Ce({},e);var n=e.container;n&&!Ws(n)&&Ws(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=vt!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=Ce({name:s?"grid":"null"},o.layout),o.renderer=Ce({name:s?"canvas":"null"},o.renderer);var u=function(v,g,p){return g!==void 0?g:p!==void 0?p:v},l=this._private={container:n,ready:!1,options:o,elements:new Tt(this),listeners:[],aniEles:new Tt(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,o.zoomingEnabled),userZoomingEnabled:u(!0,o.userZoomingEnabled),panningEnabled:u(!0,o.panningEnabled),userPanningEnabled:u(!0,o.userPanningEnabled),boxSelectionEnabled:u(!0,o.boxSelectionEnabled),autolock:u(!1,o.autolock,o.autolockNodes),autoungrabify:u(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:u(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:pe(o.zoom)?o.zoom:1,pan:{x:qe(o.pan)&&pe(o.pan.x)?o.pan.x:0,y:qe(o.pan)&&pe(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(v,g){var p=v.some(lx);if(p)return Na.all(v).then(g);g(v)};l.styleEnabled&&r.setStyle([]);var f=Ce({},o,o.renderer);r.initRenderer(f);var h=function(v,g,p){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(qe(v)||Xe(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",p),r.emit("done")});var y=Ce({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};c([o.style,o.elements],function(d){var v=d[0],g=d[1];l.styleEnabled&&r.style().append(v),h(g,function(){r.startAnimationLoop(),l.ready=!0,st(o.ready)&&r.on("ready",o.ready);for(var p=0;p<i.length;p++){var m=i[p];r.on("ready",m)}a&&(a.readies=[]),r.emit("ready")},o.done)})},Zs=Mi.prototype;Ce(Zs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return vt;var r=this._private.container.ownerDocument;return r===void 0||r==null?vt:r.defaultView||vt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Ws(e)&&Ws(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ce({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ar(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(w){return r.getElementById(w.id())};if(qe(e)){if(r.startBatch(),e.elements){var s={},o=function(w,B){for(var T=[],k=[],A=0;A<w.length;A++){var E=w[A];if(!E.data.id){Ue("cy.json() cannot handle elements without an ID attribute");continue}var P=""+E.data.id,S=r.getElementById(P);s[P]=!0,S.length!==0?k.push({ele:S,json:E}):(B&&(E.group=B),T.push(E))}r.add(T);for(var _=0;_<k.length;_++){var x=k[_],C=x.ele,I=x.json;C.json(I)}};if(Xe(e.elements))o(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],f=e.elements[c];Xe(f)&&o(f,c)}var h=r.collection();a.filter(function(b){return!s[b.id()]}).forEach(function(b){b.isParent()?h.merge(b):b.remove()}),h.forEach(function(b){return b.children().move({parent:null})}),h.forEach(function(b){return i(b).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var g=d[v];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var p=!!e,m={};p?m.elements=this.elements().map(function(b){return b.json()}):(m.elements={},a.forEach(function(b){var w=b.group();m.elements[w]||(m.elements[w]=[]),m.elements[w].push(b.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=Ar(r.data());var y=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=Ar(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=Ar(y.renderer),m.hideEdgesOnViewport=y.hideEdgesOnViewport,m.textureOnViewport=y.textureOnViewport,m.wheelSensitivity=y.wheelSensitivity,m.motionBlur=y.motionBlur,m.multiClickDebounceTime=y.multiClickDebounceTime,m}}});Zs.$id=Zs.getElementById;[s2,f2,cy,Zl,Bs,d2,Jl,Ds,p2,Yn,Ii].forEach(function(t){Ce(Zs,t)});var y2={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},b2={maximal:!1,acyclic:!1},sa=function(e){return e.scratch("breadthfirst")},$d=function(e,r){return e.scratch("breadthfirst",r)};function fy(t){this.options=Ce({},y2,b2,t)}fy.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ae){return ae.isChildless()}),a=r,i=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,u=e.extent(),l=Yt(o?t.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h}),c;if(er(t.roots))c=t.roots;else if(Xe(t.roots)){for(var f=[],h=0;h<t.roots.length;h++){var d=t.roots[h],v=e.getElementById(d);f.push(v)}c=e.collection(f)}else if(Ae(t.roots))c=e.$(t.roots);else if(i)c=n.roots();else{var g=r.components();c=e.collection();for(var p=function(){var te=g[m],oe=te.maxDegree(!1),se=te.filter(function(he){return he.degree(!1)===oe});c=c.add(se)},m=0;m<g.length;m++)p()}var y=[],b={},w=function(te,oe){y[oe]==null&&(y[oe]=[]);var se=y[oe].length;y[oe].push(te),$d(te,{index:se,depth:oe})},B=function(te,oe){var se=sa(te),he=se.depth,ce=se.index;y[he][ce]=null,te.isChildless()&&w(te,oe)};a.bfs({roots:c,directed:t.directed,visit:function(te,oe,se,he,ce){var de=te[0],ge=de.id();de.isChildless()&&w(de,ce),b[ge]=!0}});for(var T=[],k=0;k<n.length;k++){var A=n[k];b[A.id()]||T.push(A)}var E=function(te){for(var oe=y[te],se=0;se<oe.length;se++){var he=oe[se];if(he==null){oe.splice(se,1),se--;continue}$d(he,{depth:te,index:se})}},P=function(te,oe){for(var se=sa(te),he=te.incomers().filter(function(Ne){return Ne.isNode()&&r.has(Ne)}),ce=-1,de=te.id(),ge=0;ge<he.length;ge++){var be=he[ge],_e=sa(be);ce=Math.max(ce,_e.depth)}if(se.depth<=ce){if(!t.acyclic&&oe[de])return null;var we=ce+1;return B(te,we),oe[de]=we,!0}return!1};if(i&&s){var S=[],_={},x=function(te){return S.push(te)},C=function(){return S.shift()};for(n.forEach(function(ae){return S.push(ae)});S.length>0;){var I=C(),R=P(I,_);if(R)I.outgoers().filter(function(ae){return ae.isNode()&&r.has(ae)}).forEach(x);else if(R===null){Ue("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var M=0;if(t.avoidOverlap)for(var N=0;N<n.length;N++){var F=n[N],q=F.layoutDimensions(t),j=q.w,U=q.h;M=Math.max(M,j,U)}var X={},Y=function(te){if(X[te.id()])return X[te.id()];for(var oe=sa(te).depth,se=te.neighborhood(),he=0,ce=0,de=0;de<se.length;de++){var ge=se[de];if(!(ge.isEdge()||ge.isParent()||!n.has(ge))){var be=sa(ge);if(be!=null){var _e=be.index,we=be.depth;if(!(_e==null||we==null)){var Ne=y[we].length;we<oe&&(he+=_e/Ne,ce++)}}}}return ce=Math.max(1,ce),he=he/ce,ce===0&&(he=0),X[te.id()]=he,he},Z=function(te,oe){var se=Y(te),he=Y(oe),ce=se-he;return ce===0?vm(te.id(),oe.id()):ce};t.depthSort!==void 0&&(Z=t.depthSort);for(var K=y.length,G=0;G<K;G++)y[G].sort(Z),E(G);for(var $=[],W=0;W<T.length;W++)$.push(T[W]);var V=function(){for(var te=0;te<K;te++)E(te)};$.length&&(y.unshift($),K=y.length,V());for(var H=0,D=0;D<K;D++)H=Math.max(y[D].length,H);var L={x:l.x1+l.w/2,y:l.y1+l.h/2},z=n.reduce(function(ae,te){return function(oe){return{w:ae.w===-1?oe.w:(ae.w+oe.w)/2,h:ae.h===-1?oe.h:(ae.h+oe.h)/2}}(te.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Q=Math.max(K===1?0:o?(l.h-t.padding*2-z.h)/(K-1):(l.h-t.padding*2-z.h)/(K+1),M),ne=y.reduce(function(ae,te){return Math.max(ae,te.length)},0),J=function(te){var oe=sa(te),se=oe.depth,he=oe.index;if(t.circle){var ce=Math.min(l.w/2/K,l.h/2/K);ce=Math.max(ce,M);var de=ce*se+ce-(K>0&&y[0].length<=3?ce/2:0),ge=2*Math.PI/y[se].length*he;return se===0&&y[0].length===1&&(de=1),{x:L.x+de*Math.cos(ge),y:L.y+de*Math.sin(ge)}}else{var be=y[se].length,_e=Math.max(be===1?0:o?(l.w-t.padding*2-z.w)/((t.grid?ne:be)-1):(l.w-t.padding*2-z.w)/((t.grid?ne:be)+1),M),we={x:L.x+(he+1-(be+1)/2)*_e,y:L.y+(se+1-(K+1)/2)*Q};return we}};return r.nodes().layoutPositions(this,t,J),this};var w2={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hy(t){this.options=Ce({},w2,t)}hy.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=Yt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),c,f=0,h=0;h<i.length;h++){var d=i[h],v=d.layoutDimensions(e),g=v.w,p=v.h;f=Math.max(f,g,p)}if(pe(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var m=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),b=Math.sqrt(f*f/(m*m+y*y));c=Math.max(b,c)}var w=function(T,k){var A=e.startAngle+k*l*(a?1:-1),E=c*Math.cos(A),P=c*Math.sin(A),S={x:o.x+E,y:o.y+P};return S};return n.nodes().layoutPositions(this,e,w),this};var x2={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function dy(t){this.options=Ce({},x2,t)}dy.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=Yt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],l=0,c=0;c<i.length;c++){var f=i[c],h=void 0;h=e.concentric(f),u.push({value:h,node:f}),f._private.scratch.concentric=h}i.updateStyle();for(var d=0;d<i.length;d++){var v=i[d],g=v.layoutDimensions(e);l=Math.max(l,g.w,g.h)}u.sort(function(z,Q){return Q.value-z.value});for(var p=e.levelWidth(i),m=[[]],y=m[0],b=0;b<u.length;b++){var w=u[b];if(y.length>0){var B=Math.abs(y[0].value-w.value);B>=p&&(y=[],m.push(y))}y.push(w)}var T=l+e.minNodeSpacing;if(!e.avoidOverlap){var k=m.length>0&&m[0].length>1,A=Math.min(s.w,s.h)/2-T,E=A/(m.length+k?1:0);T=Math.min(T,E)}for(var P=0,S=0;S<m.length;S++){var _=m[S],x=e.sweep===void 0?2*Math.PI-2*Math.PI/_.length:e.sweep,C=_.dTheta=x/Math.max(1,_.length-1);if(_.length>1&&e.avoidOverlap){var I=Math.cos(C)-Math.cos(0),R=Math.sin(C)-Math.sin(0),M=Math.sqrt(T*T/(I*I+R*R));P=Math.max(M,P)}_.r=P,P+=T}if(e.equidistant){for(var N=0,F=0,q=0;q<m.length;q++){var j=m[q],U=j.r-F;N=Math.max(N,U)}F=0;for(var X=0;X<m.length;X++){var Y=m[X];X===0&&(F=Y.r),Y.r=F,F+=N}}for(var Z={},K=0;K<m.length;K++)for(var G=m[K],$=G.dTheta,W=G.r,V=0;V<G.length;V++){var H=G[V],D=e.startAngle+(r?1:-1)*$*V,L={x:o.x+W*Math.cos(D),y:o.y+W*Math.sin(D)};Z[H.node.id()]=L}return a.nodes().layoutPositions(this,e,function(z){var Q=z.id();return Z[Q]}),this};var ml,E2={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Io(t){this.options=Ce({},E2,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),o=e.some(function(l){return l.data("id")===i}),u=e.some(function(l){return l.data("id")===s});return!o||!u});this.options.eles=this.options.eles.not(n)}Io.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?ml=!0:ml=!1;var n=A2(e,r,t);ml&&_2(n),t.randomize&&S2(n);var a=qr(),i=function(){T2(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(h){return!(r.stopped||h>=t.numIter||(k2(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),d=gy(n,t,h);h.layoutPositions(r,t,d)}},u=0,l=!0;if(t.animate===!0){var c=function(){for(var h=0;l&&h<t.refresh;)l=s(u),u++,h++;if(!l)Yd(n,t),o();else{var d=qr();d-a>=t.animationThreshold&&i(),Us(c)}};c()}else{for(;l;)l=s(u),u++;Yd(n,t),o()}return this};Io.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Io.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var A2=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=Yt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var f=u[c],h=0;h<f.length;h++){var d=f[h];l[d.id()]=c}for(var c=0;c<o.nodeSize;c++){var v=i[c],g=v.layoutDimensions(n),p={};p.isLocked=v.locked(),p.id=v.data("id"),p.parentId=v.data("parent"),p.cmptId=l[v.id()],p.children=[],p.positionX=v.position("x"),p.positionY=v.position("y"),p.offsetX=0,p.offsetY=0,p.height=g.w,p.width=g.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(v.style("padding")),p.padRight=parseFloat(v.style("padding")),p.padTop=parseFloat(v.style("padding")),p.padBottom=parseFloat(v.style("padding")),p.nodeRepulsion=st(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(p),o.idToIndex[p.id]=c}for(var m=[],y=0,b=-1,w=[],c=0;c<o.nodeSize;c++){var v=o.layoutNodes[c],B=v.parentId;B!=null?o.layoutNodes[o.idToIndex[B]].children.push(v.id):(m[++b]=v.id,w.push(v.id))}for(o.graphSet.push(w);y<=b;){var T=m[y++],k=o.idToIndex[T],d=o.layoutNodes[k],A=d.children;if(A.length>0){o.graphSet.push(A);for(var c=0;c<A.length;c++)m[++b]=A[c]}}for(var c=0;c<o.graphSet.length;c++)for(var E=o.graphSet[c],h=0;h<E.length;h++){var P=o.idToIndex[E[h]];o.indexToGraph[P]=c}for(var c=0;c<o.edgeSize;c++){var S=a[c],_={};_.id=S.data("id"),_.sourceId=S.data("source"),_.targetId=S.data("target");var x=st(n.idealEdgeLength)?n.idealEdgeLength(S):n.idealEdgeLength,C=st(n.edgeElasticity)?n.edgeElasticity(S):n.edgeElasticity,I=o.idToIndex[_.sourceId],R=o.idToIndex[_.targetId],M=o.indexToGraph[I],N=o.indexToGraph[R];if(M!=N){for(var F=C2(_.sourceId,_.targetId,o),q=o.graphSet[F],j=0,p=o.layoutNodes[I];q.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],j++;for(p=o.layoutNodes[R];q.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],j++;x*=j*n.nestingFactor}_.idealLength=x,_.elasticity=C,o.layoutEdges.push(_)}return o},C2=function(e,r,n){var a=vy(e,r,0,n);return 2>a.count?0:a.graph},vy=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var u=i[o],l=a.idToIndex[u],c=a.layoutNodes[l].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],h=vy(e,r,f,a);if(h.count!==0)if(h.count===1){if(s++,s===2)break}else return h}}return{count:s,graph:n}},_2,S2=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},gy=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var u=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,c=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+c*a.h}}else return{x:u.positionX,y:u.positionY}}},T2=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=gy(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},k2=function(e,r,n){P2(e,r),R2(e),I2(e,r),M2(e),L2(e)},P2=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];B2(o,l,e,r)}},Kd=function(e){return-1+2*e*Math.random()},B2=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;o===0&&u===0&&(o=Kd(l),u=Kd(l));var c=D2(e,r,o,u);if(c>0)var f=a.nodeOverlap*c,h=Math.sqrt(o*o+u*u),d=f*o/h,v=f*u/h;else var g=Js(e,o,u),p=Js(r,-1*o,-1*u),m=p.x-g.x,y=p.y-g.y,b=m*m+y*y,h=Math.sqrt(b),f=(e.nodeRepulsion+r.nodeRepulsion)/b,d=f*m/h,v=f*y/h;e.isLocked||(e.offsetX-=d,e.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},D2=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},Js=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,u=n/r,l=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*l<=u&&u<=l?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*l<=u&&u<=l?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(u<=-1*l||u>=l)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},R2=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],u=e.layoutNodes[o],l=u.positionX-s.positionX,c=u.positionY-s.positionY;if(!(l===0&&c===0)){var f=Js(s,l,c),h=Js(u,-1*l,-1*c),d=h.x-f.x,v=h.y-f.y,g=Math.sqrt(d*d+v*v),p=Math.pow(a.idealLength-g,2)/a.elasticity;if(g!==0)var m=p*d/g,y=p*v/g;else var m=0,y=0;s.isLocked||(s.offsetX+=m,s.offsetY+=y),u.isLocked||(u.offsetX-=m,u.offsetY-=y)}}},I2=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],o=c.positionX,u=c.positionY;for(var f=0;f<s;f++){var h=e.layoutNodes[e.idToIndex[i[f]]];if(!h.isLocked){var d=o-h.positionX,v=u-h.positionY,g=Math.sqrt(d*d+v*v);if(g>n){var p=r.gravity*d/g,m=r.gravity*v/g;h.offsetX+=p,h.offsetY+=m}}}}},M2=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],u=e.layoutNodes[o],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,f=u.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=f,n[++i]=l[h]}u.offsetX=0,u.offsetY=0}}},L2=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=O2(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,py(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},O2=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},py=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return py(a,r)}},Yd=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,u=a[o]=a[o]||[];u.push(s)}for(var l=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}a.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var d=0,v=0,g=0,p=0,m=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,g+=c.w+r.componentSpacing,p=Math.max(p,c.h),g>m&&(v+=p+r.componentSpacing,d=0,g=0,p=0)}}},N2={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function my(t){this.options=Ce({},N2,t)}my.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Yt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(X){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),u=Math.round(o),l=Math.round(i.w/i.h*o),c=function(Y){if(Y==null)return Math.min(u,l);var Z=Math.min(u,l);Z==u?u=Y:l=Y},f=function(Y){if(Y==null)return Math.max(u,l);var Z=Math.max(u,l);Z==u?u=Y:l=Y},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)u=h,l=d;else if(h!=null&&d==null)u=h,l=Math.ceil(s/u);else if(h==null&&d!=null)l=d,u=Math.ceil(s/l);else if(l*u>s){var v=c(),g=f();(v-1)*g>=s?c(v-1):(g-1)*v>=s&&f(g-1)}else for(;l*u<s;){var p=c(),m=f();(m+1)*p>=s?f(m+1):c(p+1)}var y=i.w/l,b=i.h/u;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var w=0;w<a.length;w++){var B=a[w],T=B._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var k=B.layoutDimensions(e),A=e.avoidOverlapPadding,E=k.w+A,P=k.h+A;y=Math.max(y,E),b=Math.max(b,P)}for(var S={},_=function(Y,Z){return!!S["c-"+Y+"-"+Z]},x=function(Y,Z){S["c-"+Y+"-"+Z]=!0},C=0,I=0,R=function(){I++,I>=l&&(I=0,C++)},M={},N=0;N<a.length;N++){var F=a[N],q=e.position(F);if(q&&(q.row!==void 0||q.col!==void 0)){var j={row:q.row,col:q.col};if(j.col===void 0)for(j.col=0;_(j.row,j.col);)j.col++;else if(j.row===void 0)for(j.row=0;_(j.row,j.col);)j.row++;M[F.id()]=j,x(j.row,j.col)}}var U=function(Y,Z){var K,G;if(Y.locked()||Y.isParent())return!1;var $=M[Y.id()];if($)K=$.col*y+y/2+i.x1,G=$.row*b+b/2+i.y1;else{for(;_(C,I);)R();K=I*y+y/2+i.x1,G=C*b+b/2+i.y1,x(C,I),R()}return{x:K,y:G}};a.layoutPositions(this,e,U)}return this};var F2={ready:function(){},stop:function(){}};function Qc(t){this.options=Ce({},F2,t)}Qc.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Qc.prototype.stop=function(){return this};var z2={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function yy(t){this.options=Ce({},z2,t)}yy.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=st(t.positions);function a(i){if(t.positions==null)return oE(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var q2={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function by(t){this.options=Ce({},q2,t)}by.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Yt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var V2=[{name:"breadthfirst",impl:fy},{name:"circle",impl:hy},{name:"concentric",impl:dy},{name:"cose",impl:Io},{name:"grid",impl:my},{name:"null",impl:Qc},{name:"preset",impl:yy},{name:"random",impl:by}];function wy(t){this.options=t,this.notifications=0}var Xd=function(){},Zd=function(){throw new Error("A headless instance can not render images")};wy.prototype={recalculateRenderedStyle:Xd,notify:function(){this.notifications++},init:Xd,isHeadless:function(){return!0},png:Zd,jpg:Zd};var $c={};$c.arrowShapeWidth=.3;$c.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,c,f,h,d,v,g){var p=d.x-f/2-g,m=d.x+f/2+g,y=d.y-f/2-g,b=d.y+f/2+g,w=p<=l&&l<=m&&y<=c&&c<=b;return w},n=function(l,c,f,h,d){var v=l*Math.cos(h)-c*Math.sin(h),g=l*Math.sin(h)+c*Math.cos(h),p=v*f,m=g*f,y=p+d.x,b=m+d.y;return{x:y,y:b}},a=function(l,c,f,h){for(var d=[],v=0;v<l.length;v+=2){var g=l[v],p=l[v+1];d.push(n(g,p,c,f,h))}return d},i=function(l){for(var c=[],f=0;f<l.length;f++){var h=l[f];c.push(h.x,h.y)}return c},s=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},o=function(l,c){Ae(c)&&(c=t[c]),t[l]=Ce({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,v,g,p,m){var y=i(a(this.points,v+2*m,g,p)),b=$t(h,d,y);return b},roughCollide:r,draw:function(h,d,v,g){var p=a(this.points,d,v,g);e.arrowShapeImpl("polygon")(h,p)},spacing:function(h){return 0},gap:s},c)};o("none",{collide:Qs,roughCollide:Qs,draw:Ic,spacing:vh,gap:vh}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,c,f,h,d){var v=a(this.points,c,f,h),g=this.controlPoint,p=n(g[0],g[1],c,f,h);e.arrowShapeImpl(this.name)(l,v,p)},gap:function(l){return s(l)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,h,d,v,g){var p=i(a(this.points,f+2*g,h,d)),m=i(a(this.pointsTee,f+2*g,h,d)),y=$t(l,c,p)||$t(l,c,m);return y},draw:function(l,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(l,v,g)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,h,d,v,g){var p=d,m=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*g)*this.radius,2),y=i(a(this.points,f+2*g,h,d));return $t(l,c,y)||m},draw:function(l,c,f,h,d){var v=a(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(l,v,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),h=c/l,d=3,v=5;return f[d]=f[d]-h,f[v]=f[v]-h,f},collide:function(l,c,f,h,d,v,g){var p=i(a(this.points,f+2*g,h,d)),m=i(a(this.crossLinePts(f,v),f+2*g,h,d)),y=$t(l,c,p)||$t(l,c,m);return y},draw:function(l,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.crossLinePts(c,d),c,f,h);e.arrowShapeImpl(this.name)(l,v,g)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return s(l)*.525}}),o("circle",{radius:.15,collide:function(l,c,f,h,d,v,g){var p=d,m=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*g)*this.radius,2);return m},draw:function(l,c,f,h,d){e.arrowShapeImpl(this.name)(l,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Jn={};Jn.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),u=r.zoom(),l=((t-a)/s-o.x)/u,c=((e-i)/s-o.y)/u;return[l,c]};Jn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(m){return parseFloat(r.getPropertyValue(m))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,c=i.left+i.right,f=e.width/(s+c),h=s-u,d=o-l,v=e.left+a.left+i.left,g=e.top+a.top+i.top;return this.containerBB=[v,g,h,d,f]};Jn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Jn.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Jn.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),c=(n?24:8)/u,f=(n?8:2)/u,h=(n?8:2)/u,d=1/0,v,g;r&&(s=s.interactive);function p(k,A){if(k.isNode()){if(g)return;g=k,o.push(k)}if(k.isEdge()&&(A==null||A<d))if(v){if(v.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value){for(var E=0;E<o.length;E++)if(o[E].isEdge()){o[E]=k,v=k,d=A??d;break}}}else o.push(k),v=k,d=A??d}function m(k){var A=k.outerWidth()+2*f,E=k.outerHeight()+2*f,P=A/2,S=E/2,_=k.position(),x=k.pstyle("corner-radius").value==="auto"?"auto":k.pstyle("corner-radius").pfValue,C=k._private.rscratch;if(_.x-P<=t&&t<=_.x+P&&_.y-S<=e&&e<=_.y+S){var I=i.nodeShapes[a.getNodeShape(k)];if(I.checkPoint(t,e,0,A,E,_.x,_.y,x,C))return p(k,0),!0}}function y(k){var A=k._private,E=A.rscratch,P=k.pstyle("width").pfValue,S=k.pstyle("arrow-scale").value,_=P/2+c,x=_*_,C=_*2,N=A.source,F=A.target,I;if(E.edgeType==="segments"||E.edgeType==="straight"||E.edgeType==="haystack"){for(var R=E.allpts,M=0;M+3<R.length;M+=2)if(xE(t,e,R[M],R[M+1],R[M+2],R[M+3],C)&&x>(I=SE(t,e,R[M],R[M+1],R[M+2],R[M+3])))return p(k,I),!0}else if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"){for(var R=E.allpts,M=0;M+5<E.allpts.length;M+=4)if(EE(t,e,R[M],R[M+1],R[M+2],R[M+3],R[M+4],R[M+5],C)&&x>(I=_E(t,e,R[M],R[M+1],R[M+2],R[M+3],R[M+4],R[M+5])))return p(k,I),!0}for(var N=N||A.source,F=F||A.target,q=a.getArrowWidth(P,S),j=[{name:"source",x:E.arrowStartX,y:E.arrowStartY,angle:E.srcArrowAngle},{name:"target",x:E.arrowEndX,y:E.arrowEndY,angle:E.tgtArrowAngle},{name:"mid-source",x:E.midX,y:E.midY,angle:E.midsrcArrowAngle},{name:"mid-target",x:E.midX,y:E.midY,angle:E.midtgtArrowAngle}],M=0;M<j.length;M++){var U=j[M],X=i.arrowShapes[k.pstyle(U.name+"-arrow-shape").value],Y=k.pstyle("width").pfValue;if(X.roughCollide(t,e,q,U.angle,{x:U.x,y:U.y},Y,c)&&X.collide(t,e,q,U.angle,{x:U.x,y:U.y},Y,c))return p(k),!0}l&&o.length>0&&(m(N),m(F))}function b(k,A,E){return Qt(k,A,E)}function w(k,A){var E=k._private,P=h,S;A?S=A+"-":S="",k.boundingBox();var _=E.labelBounds[A||"main"],x=k.pstyle(S+"label").value,C=k.pstyle("text-events").strValue==="yes";if(!(!C||!x)){var I=b(E.rscratch,"labelX",A),R=b(E.rscratch,"labelY",A),M=b(E.rscratch,"labelAngle",A),N=k.pstyle(S+"text-margin-x").pfValue,F=k.pstyle(S+"text-margin-y").pfValue,q=_.x1-P-N,j=_.x2+P-N,U=_.y1-P-F,X=_.y2+P-F;if(M){var Y=Math.cos(M),Z=Math.sin(M),K=function(L,z){return L=L-I,z=z-R,{x:L*Y-z*Z+I,y:L*Z+z*Y+R}},G=K(q,U),$=K(q,X),W=K(j,U),V=K(j,X),H=[G.x+N,G.y+F,W.x+N,W.y+F,V.x+N,V.y+F,$.x+N,$.y+F];if($t(t,e,H))return p(k),!0}else if(Ia(_,t,e))return p(k),!0}}for(var B=s.length-1;B>=0;B--){var T=s[B];T.isNode()?m(T)||w(T):y(T)||w(T)||w(T,"source")||w(T,"target")}return o};Jn.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),s=2/i,o=[],u=Math.min(t,r),l=Math.max(t,r),c=Math.min(e,n),f=Math.max(e,n);t=u,r=l,e=c,n=f;var h=Yt({x1:t,y1:e,x2:r,y2:n});function d(x,C,I){return Qt(x,C,I)}function v(x,C){var I=x._private,R=s,M="";x.boundingBox();var N=I.labelBounds.main,F=d(I.rscratch,"labelX",C),q=d(I.rscratch,"labelY",C),j=d(I.rscratch,"labelAngle",C),U=x.pstyle(M+"text-margin-x").pfValue,X=x.pstyle(M+"text-margin-y").pfValue,Y=N.x1-R-U,Z=N.x2+R-U,K=N.y1-R-X,G=N.y2+R-X;if(j){var $=Math.cos(j),W=Math.sin(j),V=function(D,L){return D=D-F,L=L-q,{x:D*$-L*W+F,y:D*W+L*$+q}};return[V(Y,K),V(Z,K),V(Z,G),V(Y,G)]}else return[{x:Y,y:K},{x:Z,y:K},{x:Z,y:G},{x:Y,y:G}]}for(var g=0;g<a.length;g++){var p=a[g];if(p.isNode()){var m=p,y=m.pstyle("text-events").strValue==="yes",b=m.pstyle("box-select-labels").strValue==="yes",w=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:b&&y});if(Nc(h,w)){var B=v(m),T=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}];DE(B,T)&&o.push(m)}}else{var k=p,A=k._private,E=A.rscratch;if(E.startX!=null&&E.startY!=null&&!Ia(h,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!Ia(h,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var P=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,S=!0,_=0;_<P.length;_++)if(!bE(h,P[_])){S=!1;break}S&&o.push(k)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&o.push(k)}}return o};var eo={};eo.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",u,l,c,f,h,d,m,y;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),m=e.midX,y=e.midY,i)u=c-e.segpts[0],l=f-e.segpts[1];else if(a||s||o||n){var v=e.allpts,g=wt(v[0],v[2],v[4],.1),p=wt(v[1],v[3],v[5],.1);u=c-g,l=f-p}else u=c-m,l=f-y;e.srcArrowAngle=ss(u,l);var m=e.midX,y=e.midY;if(r&&(m=(c+h)/2,y=(f+d)/2),u=h-c,l=d-f,i){var v=e.allpts;if(v.length/2%2===0){var b=v.length/2,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var b=v.length/2-1,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}}else if(a||s||o){var v=e.allpts,B=e.ctrlpts,T,k,A,E;if(B.length/2%2===0){var P=v.length/2-1,S=P+2,_=S+2;T=wt(v[P],v[S],v[_],0),k=wt(v[P+1],v[S+1],v[_+1],0),A=wt(v[P],v[S],v[_],1e-4),E=wt(v[P+1],v[S+1],v[_+1],1e-4)}else{var S=v.length/2-1,P=S-2,_=S+2;T=wt(v[P],v[S],v[_],.4999),k=wt(v[P+1],v[S+1],v[_+1],.4999),A=wt(v[P],v[S],v[_],.5),E=wt(v[P+1],v[S+1],v[_+1],.5)}u=A-T,l=E-k}if(e.midtgtArrowAngle=ss(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var b=v.length/2-1,x=b+2;u=-(v[x]-v[b]),l=-(v[x+1]-v[b+1])}}}if(e.midsrcArrowAngle=ss(u,l),i)u=h-e.segpts[e.segpts.length-2],l=d-e.segpts[e.segpts.length-1];else if(a||s||o||n){var v=e.allpts,C=v.length,g=wt(v[C-6],v[C-4],v[C-2],.9),p=wt(v[C-5],v[C-3],v[C-1],.9);u=h-g,l=d-p}else u=h-m,l=d-y;e.tgtArrowAngle=ss(u,l)};eo.getArrowWidth=eo.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var ec,tc,wr={},tr={},Jd,ev,qn,Rs,Rr,Pn,Fn,mr,oa,vs,xy,Ey,rc,nc,tv,rv=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},G2=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},H2=function(e,r,n,a,i){if(e!==tv?rv(r,e,wr):G2(tr,wr),rv(r,n,tr),Jd=wr.nx*tr.ny-wr.ny*tr.nx,ev=wr.nx*tr.nx-wr.ny*-tr.ny,Rr=Math.asin(Math.max(-1,Math.min(1,Jd))),Math.abs(Rr)<1e-6){ec=r.x,tc=r.y,Fn=oa=0;return}qn=1,Rs=!1,ev<0?Rr<0?Rr=Math.PI+Rr:(Rr=Math.PI-Rr,qn=-1,Rs=!0):Rr>0&&(qn=-1,Rs=!0),r.radius!==void 0?oa=r.radius:oa=a,Pn=Rr/2,vs=Math.min(wr.len/2,tr.len/2),i?(mr=Math.abs(Math.cos(Pn)*oa/Math.sin(Pn)),mr>vs?(mr=vs,Fn=Math.abs(mr*Math.sin(Pn)/Math.cos(Pn))):Fn=oa):(mr=Math.min(vs,oa),Fn=Math.abs(mr*Math.sin(Pn)/Math.cos(Pn))),rc=r.x+tr.nx*mr,nc=r.y+tr.ny*mr,ec=rc-tr.ny*Fn*qn,tc=nc+tr.nx*Fn*qn,xy=r.x+wr.nx*mr,Ey=r.y+wr.ny*mr,tv=r};function Ay(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Kc(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(H2(t,e,r,n,a),{cx:ec,cy:tc,radius:Fn,startX:xy,startY:Ey,stopX:rc,stopY:nc,startAngle:wr.ang+Math.PI/2*qn,endAngle:tr.ang-Math.PI/2*qn,counterClockwise:Rs})}var Li=.01,j2=Math.sqrt(2*Li),Ft={};Ft.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,l=function(B,T,k,A){var E=A-T,P=k-B,S=Math.sqrt(P*P+E*E);return{x:-E/S,y:P/S}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var f=this.manualEndptToPx(t.source()[0],s),h=gt(f,2),d=h[0],v=h[1],g=this.manualEndptToPx(t.target()[0],o),p=gt(g,2),m=p[0],y=p[1],b={x1:d,y1:v,x2:m,y2:y};a=l(d,v,m,y),i=b}else Ue("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Ft.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,u=s.position(),l=o.position(),c=s.width(),f=o.width(),h=s.height(),d=o.height(),v=r.pstyle("haystack-radius").value,g=v/2;a.haystackPts=a.allpts=[a.source.x*c*g+u.x,a.source.y*h*g+u.y,a.target.x*f*g+l.x,a.target.y*d*g+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ft.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var f=n.pfValue[c],h=a.pfValue[c],d=1-f,v=f,g=this.findMidptPtsEtc(t,e),p=g.midptPts,m=g.vectorNormInverse,y={x:p.x1*d+p.x2*v,y:p.y1*d+p.y2*v};r.segpts.push(y.x+m.x*h,y.y+m.y*h),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:u),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:l)==="arc-radius")}};Ft.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var h=r,d=f;n&&(h=0,d=u);var v=l-Math.PI/2,g=v-c/2,p=v+c/2,m=l+"_"+c;h=i[m]===void 0?i[m]=0:++i[m],a.ctrlpts=[s.x+Math.cos(g)*1.4*d*(h/3+1),s.y+Math.sin(g)*1.4*d*(h/3+1),s.x+Math.cos(p)*1.4*d*(h/3+1),s.y+Math.sin(p)*1.4*d*(h/3+1)]};Ft.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,v=r,g=f;n&&(v=0,g=d);var p=50,m={x:i.x-o/2,y:i.y-u/2},y={x:s.x-l/2,y:s.y-c/2},b={x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},w=.5,B=Math.max(w,Math.log(o*Li)),T=Math.max(w,Math.log(l*Li));a.ctrlpts=[b.x,b.y-(1+Math.pow(p,1.12)/100)*g*(v/3+1)*B,b.x-(1+Math.pow(p,1.12)/100)*g*(v/3+1)*T,b.y]};Ft.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ft.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=o&&u?Math.min(o.value.length,u.value.length):1,c=o?o.pfValue[0]:void 0,f=u.value[0],h=n;i.edgeType=h?"multibezier":"bezier",i.ctrlpts=[];for(var d=0;d<l;d++){var v=(.5-e.eles.length/2+r)*s*(a?-1:1),g=void 0,p=Oc(v);h&&(c=o?o.pfValue[d]:s,f=u.value[d]),n?g=c:g=c!==void 0?p*c:void 0;var m=g!==void 0?g:v,y=1-f,b=f,w=this.findMidptPtsEtc(t,e),B=w.midptPts,T=w.vectorNormInverse,k={x:B.x1*y+B.x2*b,y:B.y1*y+B.y2*b};i.ctrlpts.push(k.x+T.x*m,k.y+T.y*m)}};Ft.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",u="upward",l="auto",c=e.posPts,f=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,g=t.pstyle("edge-distances").value,p=g!=="node-position",m=t.pstyle("taxi-direction").value,y=m,b=t.pstyle("taxi-turn"),w=b.units==="%",B=b.pfValue,T=B<0,k=t.pstyle("taxi-turn-min-distance").pfValue,A=p?(f+d)/2:0,E=p?(h+v)/2:0,P=c.x2-c.x1,S=c.y2-c.y1,_=function(O,ee){return O>0?Math.max(O-ee,0):Math.min(O+ee,0)},x=_(P,A),C=_(S,E),I=!1;y===l?m=Math.abs(x)>Math.abs(C)?a:n:y===u||y===o?(m=n,I=!0):(y===i||y===s)&&(m=a,I=!0);var R=m===n,M=R?C:x,N=R?S:P,F=Oc(N),q=!1;!(I&&(w||T))&&(y===o&&N<0||y===u&&N>0||y===i&&N>0||y===s&&N<0)&&(F*=-1,M=F*Math.abs(M),q=!0);var j;if(w){var U=B<0?1+B:B;j=U*M}else{var X=B<0?M:0;j=X+B*F}var Y=function(O){return Math.abs(O)<k||Math.abs(O)>=Math.abs(M)},Z=Y(j),K=Y(Math.abs(M)-Math.abs(j)),G=Z||K;if(G&&!q)if(R){var $=Math.abs(N)<=h/2,W=Math.abs(P)<=d/2;if($){var V=(c.x1+c.x2)/2,H=c.y1,D=c.y2;r.segpts=[V,H,V,D]}else if(W){var L=(c.y1+c.y2)/2,z=c.x1,Q=c.x2;r.segpts=[z,L,Q,L]}else r.segpts=[c.x1,c.y2]}else{var ne=Math.abs(N)<=f/2,J=Math.abs(S)<=v/2;if(ne){var ae=(c.y1+c.y2)/2,te=c.x1,oe=c.x2;r.segpts=[te,ae,oe,ae]}else if(J){var se=(c.x1+c.x2)/2,he=c.y1,ce=c.y2;r.segpts=[se,he,se,ce]}else r.segpts=[c.x2,c.y1]}else if(R){var de=c.y1+j+(p?h/2*F:0),ge=c.x1,be=c.x2;r.segpts=[ge,de,be,de]}else{var _e=c.x1+j+(p?f/2*F:0),we=c.y1,Ne=c.y2;r.segpts=[_e,we,_e,Ne]}if(r.isRound){var Te=t.pstyle("taxi-radius").value,me=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Te),r.isArcRadius=new Array(r.segpts.length/2).fill(me)}};Ft.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,h=e.tgtCornerRadius,d=e.srcRs,v=e.tgtRs,g=!pe(r.startX)||!pe(r.startY),p=!pe(r.arrowStartX)||!pe(r.arrowStartY),m=!pe(r.endX)||!pe(r.endY),y=!pe(r.arrowEndX)||!pe(r.arrowEndY),b=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,B=b*w,T=$n({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),k=T<B,A=$n({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),E=A<B,P=!1;if(g||p||k){P=!0;var S={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},_=Math.sqrt(S.x*S.x+S.y*S.y),x={x:S.x/_,y:S.y/_},C=Math.max(i,s),I={x:r.ctrlpts[0]+x.x*2*C,y:r.ctrlpts[1]+x.y*2*C},R=l.intersectLine(n.x,n.y,i,s,I.x,I.y,0,f,d);k?(r.ctrlpts[0]=r.ctrlpts[0]+x.x*(B-T),r.ctrlpts[1]=r.ctrlpts[1]+x.y*(B-T)):(r.ctrlpts[0]=R[0]+x.x*B,r.ctrlpts[1]=R[1]+x.y*B)}if(m||y||E){P=!0;var M={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},N=Math.sqrt(M.x*M.x+M.y*M.y),F={x:M.x/N,y:M.y/N},q=Math.max(i,s),j={x:r.ctrlpts[0]+F.x*2*q,y:r.ctrlpts[1]+F.y*2*q},U=c.intersectLine(a.x,a.y,o,u,j.x,j.y,0,h,v);E?(r.ctrlpts[0]=r.ctrlpts[0]+F.x*(B-A),r.ctrlpts[1]=r.ctrlpts[1]+F.y*(B-A)):(r.ctrlpts[0]=U[0]+F.x*B,r.ctrlpts[1]=U[1]+F.y*B)}P&&this.findEndpoints(t)}};Ft.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=wt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=wt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],o=e.isArcRadius[i/2-1];e.roundCorners.push(Kc({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,o))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},h=e.roundCorners[c/2];if(h.radius===0){var d={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-d.y,d.x-f.x]}else{var v=[f.x-h.cx,f.y-h.cy],g=h.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(p){return p*g}),e.midX=h.cx+v[0],e.midY=h.cy+v[1],e.midVector=v}}}}};Ft.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||pe(e.startX)&&pe(e.startY)&&pe(e.endX)&&pe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ue("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ft.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new Fr,s=function(E,P){return[].concat(js(E),[P?1:0]).join("-")},o=[],u=[],l=0;l<t.length;l++){var c=t[l],f=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){u.push(c);continue}var d=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),v=h==="unbundled-bezier"||h==="bezier",g=f.source,p=f.target,m=g.poolIndex(),y=p.poolIndex(),b=[m,y].sort(),w=s(b,d),B=i.get(w);B==null&&(B={eles:[]},o.push({pairId:b,edgeIsUnbundled:d}),i.set(w,B)),B.eles.push(c),d&&(B.hasUnbundled=!0),v&&(B.hasBezier=!0)}}for(var T=function(){var E=o[k],P=E.pairId,S=E.edgeIsUnbundled,_=s(P,S),x=i.get(_),C;if(!x.hasUnbundled){var I=x.eles[0].parallelEdges().filter(function(me){return me.isBundledBezier()});Mc(x.eles),I.forEach(function(me){return x.eles.push(me)}),x.eles.sort(function(me,le){return me.poolIndex()-le.poolIndex()})}var R=x.eles[0],M=R.source(),N=R.target();if(M.poolIndex()>N.poolIndex()){var F=M;M=N,N=F}var q=x.srcPos=M.position(),j=x.tgtPos=N.position(),U=x.srcW=M.outerWidth(),X=x.srcH=M.outerHeight(),Y=x.tgtW=N.outerWidth(),Z=x.tgtH=N.outerHeight(),K=x.srcShape=r.nodeShapes[e.getNodeShape(M)],G=x.tgtShape=r.nodeShapes[e.getNodeShape(N)],$=x.srcCornerRadius=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,W=x.tgtCornerRadius=N.pstyle("corner-radius").value==="auto"?"auto":N.pstyle("corner-radius").pfValue,V=x.tgtRs=N._private.rscratch,H=x.srcRs=M._private.rscratch;x.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var D=0;D<x.eles.length;D++){var L=x.eles[D],z=L[0]._private.rscratch,Q=L.pstyle("curve-style").value,ne=Q==="unbundled-bezier"||Q.endsWith("segments")||Q.endsWith("taxi"),J=!M.same(L.source());if(!x.calculatedIntersection&&M!==N&&(x.hasBezier||x.hasUnbundled)){x.calculatedIntersection=!0;var ae=K.intersectLine(q.x,q.y,U,X,j.x,j.y,0,$,H),te=x.srcIntn=ae,oe=G.intersectLine(j.x,j.y,Y,Z,q.x,q.y,0,W,V),se=x.tgtIntn=oe,he=x.intersectionPts={x1:ae[0],x2:oe[0],y1:ae[1],y2:oe[1]},ce=x.posPts={x1:q.x,x2:j.x,y1:q.y,y2:j.y},de=oe[1]-ae[1],ge=oe[0]-ae[0],be=Math.sqrt(ge*ge+de*de);pe(be)&&be>=j2||(be=Math.sqrt(Math.max(ge*ge,Li)+Math.max(de*de,Li)));var _e=x.vector={x:ge,y:de},we=x.vectorNorm={x:_e.x/be,y:_e.y/be},Ne={x:-we.y,y:we.x};x.nodesOverlap=!pe(be)||G.checkPoint(ae[0],ae[1],0,Y,Z,j.x,j.y,W,V)||K.checkPoint(oe[0],oe[1],0,U,X,q.x,q.y,$,H),x.vectorNormInverse=Ne,C={nodesOverlap:x.nodesOverlap,dirCounts:x.dirCounts,calculatedIntersection:!0,hasBezier:x.hasBezier,hasUnbundled:x.hasUnbundled,eles:x.eles,srcPos:j,srcRs:V,tgtPos:q,tgtRs:H,srcW:Y,srcH:Z,tgtW:U,tgtH:X,srcIntn:se,tgtIntn:te,srcShape:G,tgtShape:K,posPts:{x1:ce.x2,y1:ce.y2,x2:ce.x1,y2:ce.y1},intersectionPts:{x1:he.x2,y1:he.y2,x2:he.x1,y2:he.y1},vector:{x:-_e.x,y:-_e.y},vectorNorm:{x:-we.x,y:-we.y},vectorNormInverse:{x:-Ne.x,y:-Ne.y}}}var Te=J?C:x;z.nodesOverlap=Te.nodesOverlap,z.srcIntn=Te.srcIntn,z.tgtIntn=Te.tgtIntn,z.isRound=Q.startsWith("round"),a&&(M.isParent()||M.isChild()||N.isParent()||N.isChild())&&(M.parents().anySame(N)||N.parents().anySame(M)||M.same(N)&&M.isParent())?e.findCompoundLoopPoints(L,Te,D,ne):M===N?e.findLoopPoints(L,Te,D,ne):Q.endsWith("segments")?e.findSegmentsPoints(L,Te):Q.endsWith("taxi")?e.findTaxiPoints(L,Te):Q==="straight"||!ne&&x.eles.length%2===1&&D===Math.floor(x.eles.length/2)?e.findStraightEdgePoints(L):e.findBezierPoints(L,Te,D,ne,J),e.findEndpoints(L),e.tryToCorrectInvalidPoints(L,Te),e.checkForInvalidEdgeWarning(L),e.storeAllpts(L),e.storeEdgeProjections(L),e.calculateArrowAngles(L),e.recalculateEdgeLabelProjections(L),e.calculateLabelAngles(L)}},k=0;k<o.length;k++)T();this.findHaystackPoints(u)}};function Cy(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Ft.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return Cy(e.segpts)};Ft.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return Cy(e.ctrlpts)};Ft.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Qi={};Qi.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),c=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Qi.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),s=a.position(),o=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,h=a._private.rscratch,d=t.pstyle("curve-style").value,v=t._private.rscratch,g=v.edgeType,p=d==="taxi",m=g==="self"||g==="compound",y=g==="bezier"||g==="multibezier"||m,b=g!=="bezier",w=g==="straight"||g==="segments",B=g==="segments",T=y||b||w,k=m||p,A=t.pstyle("source-endpoint"),E=k?"outside-to-node":A.value,P=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,S=t.pstyle("target-endpoint"),_=k?"outside-to-node":S.value,x=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;v.srcManEndpt=A,v.tgtManEndpt=S;var C,I,R,M;if(y){var N=[v.ctrlpts[0],v.ctrlpts[1]],F=b?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:N;C=F,I=N}else if(w){var q=B?v.segpts.slice(0,2):[s.x,s.y],j=B?v.segpts.slice(v.segpts.length-2):[i.x,i.y];C=j,I=q}if(_==="inside-to-node")r=[s.x,s.y];else if(S.units)r=this.manualEndptToPx(a,S);else if(_==="outside-to-line")r=v.tgtIntn;else if(_==="outside-to-node"||_==="outside-to-node-or-label"?R=C:(_==="outside-to-line"||_==="outside-to-line-or-label")&&(R=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),R[0],R[1],0,x,h),_==="outside-to-node-or-label"||_==="outside-to-line-or-label"){var U=a._private.rscratch,X=U.labelWidth,Y=U.labelHeight,Z=U.labelX,K=U.labelY,G=X/2,$=Y/2,W=a.pstyle("text-valign").value;W==="top"?K-=$:W==="bottom"&&(K+=$);var V=a.pstyle("text-halign").value;V==="left"?Z-=G:V==="right"&&(Z+=G);var H=Bi(R[0],R[1],[Z-G,K-$,Z+G,K-$,Z+G,K+$,Z-G,K+$],s.x,s.y);if(H.length>0){var D=i,L=On(D,ma(r)),z=On(D,ma(H)),Q=L;if(z<L&&(r=H,Q=z),H.length>2){var ne=On(D,{x:H[2],y:H[3]});ne<Q&&(r=[H[2],H[3]])}}}var J=os(r,C,e.arrowShapes[o].spacing(t)+l),ae=os(r,C,e.arrowShapes[o].gap(t)+l);if(v.endX=ae[0],v.endY=ae[1],v.arrowEndX=J[0],v.arrowEndY=J[1],E==="inside-to-node")r=[i.x,i.y];else if(A.units)r=this.manualEndptToPx(n,A);else if(E==="outside-to-line")r=v.srcIntn;else if(E==="outside-to-node"||E==="outside-to-node-or-label"?M=I:(E==="outside-to-line"||E==="outside-to-line-or-label")&&(M=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),M[0],M[1],0,P,f),E==="outside-to-node-or-label"||E==="outside-to-line-or-label"){var te=n._private.rscratch,oe=te.labelWidth,se=te.labelHeight,he=te.labelX,ce=te.labelY,de=oe/2,ge=se/2,be=n.pstyle("text-valign").value;be==="top"?ce-=ge:be==="bottom"&&(ce+=ge);var _e=n.pstyle("text-halign").value;_e==="left"?he-=de:_e==="right"&&(he+=de);var we=Bi(M[0],M[1],[he-de,ce-ge,he+de,ce-ge,he+de,ce+ge,he-de,ce+ge],i.x,i.y);if(we.length>0){var Ne=s,Te=On(Ne,ma(r)),me=On(Ne,ma(we)),le=Te;if(me<Te&&(r=[we[0],we[1]],le=me),we.length>2){var O=On(Ne,{x:we[2],y:we[3]});O<le&&(r=[we[2],we[3]])}}}var ee=os(r,I,e.arrowShapes[u].spacing(t)+c),re=os(r,I,e.arrowShapes[u].gap(t)+c);v.startX=re[0],v.startY=re[1],v.arrowStartX=ee[0],v.arrowStartY=ee[1],T&&(!pe(v.startX)||!pe(v.startY)||!pe(v.endX)||!pe(v.endY)?v.badLine=!0:v.badLine=!1)};Qi.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Qi.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Yc={};function W2(t,e,r){for(var n=function(l,c,f,h){return wt(l,c,f,h)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}Yc.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)W2(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Yc.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Tr={};Tr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!cn(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,h=a.rstyle;switch(l){case"left":r=u.x-i/2-o;break;case"right":r=u.x+i/2+o;break;default:r=u.x}switch(c){case"top":n=u.y-s/2-o;break;case"bottom":n=u.y+s/2+o;break;default:n=u.y}f.labelX=r,f.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var _y=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Sy=function(e,r){var n=r.x-e.x,a=r.y-e.y;return _y(n,a)},U2=function(e,r,n,a){var i=Pi(0,a-.001,1),s=Pi(0,a+.001,1),o=_a(e,r,n,i),u=_a(e,r,n,s);return Sy(o,u)};Tr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(f,h,d){Lr(r.rscratch,f,h,d),Lr(r.rstyle,f,h,d)};s("labelX",null,e.x),s("labelY",null,e.y);var o=_y(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var u=function(){if(u.cache)return u.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},v={x:n.allpts[h+2],y:n.allpts[h+3]},g={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:d,p1:v,p2:g,startDist:0,length:0,segments:[]})}var p=r.rstyle.bezierPts,m=a.bezierProjPcts.length;function y(k,A,E,P,S){var _=$n(A,E),x=k.segments[k.segments.length-1],C={p0:A,p1:E,t0:P,t1:S,startDist:x?x.startDist+x.length:0,length:_};k.segments.push(C),k.length+=_}for(var b=0;b<f.length;b++){var w=f[b],B=f[b-1];B&&(w.startDist=B.startDist+B.length),y(w,w.p0,p[b*m],0,a.bezierProjPcts[0]);for(var T=0;T<m-1;T++)y(w,p[b*m+T],p[b*m+T+1],a.bezierProjPcts[T],a.bezierProjPcts[T+1]);y(w,p[b*m+m-1],w.p2,a.bezierProjPcts[m-1],1)}return u.cache=f},l=function(f){var h,d=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=u(),p,m=0,y=0,b=0;b<g.length;b++){for(var w=g[d?b:g.length-1-b],B=0;B<w.segments.length;B++){var T=w.segments[d?B:w.segments.length-1-B],k=b===g.length-1&&B===w.segments.length-1;if(m=y,y+=T.length,y>=v||k){p={cp:w,segment:T};break}}if(p)break}var A=p.cp,E=p.segment,P=(v-m)/E.length,S=E.t1-E.t0,_=d?E.t0+S*P:E.t1-S*P;_=Pi(0,_,1),e=_a(A.p0,A.p1,A.p2,_),h=U2(A.p0,A.p1,A.p2,_);break}case"straight":case"segments":case"haystack":{for(var x=0,C,I,R,M,N=n.allpts.length,F=0;F+3<N&&(d?(R={x:n.allpts[F],y:n.allpts[F+1]},M={x:n.allpts[F+2],y:n.allpts[F+3]}):(R={x:n.allpts[N-2-F],y:n.allpts[N-1-F]},M={x:n.allpts[N-4-F],y:n.allpts[N-3-F]}),C=$n(R,M),I=x,x+=C,!(x>=v));F+=2);var q=v-I,j=q/C;j=Pi(0,j,1),e=vE(R,M,j),h=Sy(R,M);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,h)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Tr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Tr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=Qn(n,t._private.labelDimsKey);if(Qt(r.rscratch,"prefixedLabelDimsKey",e)!==a){Lr(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,u=Qt(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(u.length,1),c=i.height/l,f=c*s,h=i.width,d=i.height+(l-1)*(s-1)*c;Lr(r.rstyle,"labelWidth",e,h),Lr(r.rscratch,"labelWidth",e,h),Lr(r.rstyle,"labelHeight",e,d),Lr(r.rscratch,"labelHeight",e,d),Lr(r.rscratch,"labelLineHeight",e,f)}};Tr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(X,Y){return Y?(Lr(r.rscratch,X,e,Y),Y):Qt(r.rscratch,X,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l="​",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,d=h==="anywhere",v=[],g=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var m=c[p],y=this.calculateLabelDimensions(t,m),b=y.width;if(d){var w=m.split("").join(l);m=w}if(b>f){var B=m.matchAll(g),T="",k=0,A=Kt(B),E;try{for(A.s();!(E=A.n()).done;){var P=E.value,S=P[0],_=m.substring(k,P.index);k=P.index+S.length;var x=T.length===0?_:T+_+S,C=this.calculateLabelDimensions(t,x),I=C.width;I<=f?T+=_+S:(T&&v.push(T),T=_+S)}}catch(U){A.e(U)}finally{A.f()}T.match(/^[\s\u200b]+$/)||v.push(T)}else v.push(m)}s("labelWrapCachedLines",v),a=s("labelWrapCachedText",v.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var R=t.pstyle("text-max-width").pfValue,M="",N="…",F=!1;if(this.calculateLabelDimensions(t,a).width<R)return a;for(var q=0;q<a.length;q++){var j=this.calculateLabelDimensions(t,M+a[q]+N).width;if(j>R)break;M+=a[q],q===a.length-1&&(F=!0)}return F||(M+=N),M}return a};Tr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Tr.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}f.font="".concat(s," ").concat(l," ").concat(o,"px ").concat(u);for(var d=0,v=0,g=e.split(`
`),p=0;p<g.length;p++){var m=g[p],y=f.measureText(m),b=Math.ceil(y.width),w=o;d=Math.max(b,d),v+=w}return d+=i,v+=i,{width:d,height:v}};Tr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};Tr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ty={},nv=28,av=!1;Ty.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<nv||t.height()<nv))return av||(Ue("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),av=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Mo={};Mo.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var u=0;u<s.length;u++){var l=s[u],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var h=o[f];h(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Mo.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Mo.recalculateRenderedStyle=function(t,e){var r=function(w){return w._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(b){return!b._private.rstyle.clean&&b.isBundledBezier()})&&(u.clean=!1),!(e&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),u.clean=!0)}for(var l=0;l<a.length;l++){var c=a[l],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var g=n[v],p=g._private,m=p.rstyle,y=p.rscratch;m.srcX=y.arrowStartX,m.srcY=y.arrowStartY,m.tgtX=y.arrowEndX,m.tgtY=y.arrowEndY,m.midX=y.midX,m.midY=y.midY,m.labelAngle=y.labelAngle,m.sourceLabelAngle=y.sourceLabelAngle,m.targetLabelAngle=y.targetLabelAngle}}}};var Lo={};Lo.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Lo.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Lo.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(uy),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var ky={};[Jn,eo,Ft,Qi,Yc,Tr,Ty,Mo,Lo].forEach(function(t){Ce(ky,t)});var Py={};Py.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=t.substring(0,o.length).toLowerCase()===o;return u||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var qa={};qa.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var u=this.binder(o);i.push(u.on.apply(u,a))}}return i}var u=this.binder(t);return u.on.apply(u,a)};qa.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||ox(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(u,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};qa.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};qa.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};qa.load=function(){var t=this,e=t.cy.window(),r=function(O){return O.selected()},n=function(O){var ee=O.getRootNode();if(ee&&ee.nodeType===11&&ee.host!==void 0)return ee},a=function(O,ee,re,ie){O==null&&(O=t.cy);for(var ue=0;ue<ee.length;ue++){var xe=ee[ue];O.emit({originalEvent:re,type:xe,position:ie})}},i=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},s=function(O,ee){var re=!0;if(t.cy.hasCompoundNodes()&&O&&O.pannable())for(var ie=0;ee&&ie<ee.length;ie++){var O=ee[ie];if(O.isNode()&&O.isParent()&&!O.pannable()){re=!1;break}}else re=!0;return re},o=function(O){O[0]._private.grabbed=!0},u=function(O){O[0]._private.grabbed=!1},l=function(O){O[0]._private.rscratch.inDragLayer=!0},c=function(O){O[0]._private.rscratch.inDragLayer=!1},f=function(O){O[0]._private.rscratch.isGrabTarget=!0},h=function(O){O[0]._private.rscratch.isGrabTarget=!1},d=function(O,ee){var re=ee.addToList,ie=re.has(O);!ie&&O.grabbable()&&!O.locked()&&(re.merge(O),o(O))},v=function(O,ee){if(O.cy().hasCompoundNodes()&&!(ee.inDragLayer==null&&ee.addToList==null)){var re=O.descendants();ee.inDragLayer&&(re.forEach(l),re.connectedEdges().forEach(l)),ee.addToList&&d(re,ee)}},g=function(O,ee){ee=ee||{};var re=O.cy().hasCompoundNodes();ee.inDragLayer&&(O.forEach(l),O.neighborhood().stdFilter(function(ie){return!re||ie.isEdge()}).forEach(l)),ee.addToList&&O.forEach(function(ie){d(ie,ee)}),v(O,ee),y(O,{inDragLayer:ee.inDragLayer}),t.updateCachedGrabbedEles()},p=g,m=function(O){O&&(t.getCachedZSortedEles().forEach(function(ee){u(ee),c(ee),h(ee)}),t.updateCachedGrabbedEles())},y=function(O,ee){if(!(ee.inDragLayer==null&&ee.addToList==null)&&O.cy().hasCompoundNodes()){var re=O.ancestors().orphans();if(!re.same(O)){var ie=re.descendants().spawnSelf().merge(re).unmerge(O).unmerge(O.descendants()),ue=ie.connectedEdges();ee.inDragLayer&&(ue.forEach(l),ie.forEach(l)),ee.addToList&&ie.forEach(function(xe){d(xe,ee)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",B=typeof ResizeObserver<"u";w?(t.removeObserver=new MutationObserver(function(le){for(var O=0;O<le.length;O++){var ee=le[O],re=ee.removedNodes;if(re)for(var ie=0;ie<re.length;ie++){var ue=re[ie];if(ue===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(le){t.destroy()});var T=Hi(function(){t.cy.resize()},100);w&&(t.styleObserver=new MutationObserver(T),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",T),B&&(t.resizeObserver=new ResizeObserver(T),t.resizeObserver.observe(t.container));var k=function(O,ee){for(;O!=null;)ee(O),O=O.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};k(t.container,function(le){t.registerBinding(le,"transitionend",A),t.registerBinding(le,"animationend",A),t.registerBinding(le,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(le){le.preventDefault()});var E=function(){return t.selection[4]!==0},P=function(O){for(var ee=t.findContainerClientCoords(),re=ee[0],ie=ee[1],ue=ee[2],xe=ee[3],fe=O.touches?O.touches:[O],Ee=!1,De=0;De<fe.length;De++){var Oe=fe[De];if(re<=Oe.clientX&&Oe.clientX<=re+ue&&ie<=Oe.clientY&&Oe.clientY<=ie+xe){Ee=!0;break}}if(!Ee)return!1;for(var Se=t.container,Ie=O.target,ke=Ie.parentNode,Pe=!1;ke;){if(ke===Se){Pe=!0;break}ke=ke.parentNode}return!!Pe};t.registerBinding(t.container,"mousedown",function(O){if(P(O)&&!(t.hoverData.which===1&&O.which!==1)){O.preventDefault(),b(),t.hoverData.capture=!0,t.hoverData.which=O.which;var ee=t.cy,re=[O.clientX,O.clientY],ie=t.projectIntoViewport(re[0],re[1]),ue=t.selection,xe=t.findNearestElements(ie[0],ie[1],!0,!1),fe=xe[0],Ee=t.dragData.possibleDragElements;t.hoverData.mdownPos=ie,t.hoverData.mdownGPos=re;var De=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var $e=t.hoverData.down;$e?$e.emit({originalEvent:O,type:"taphold",position:{x:ie[0],y:ie[1]}}):ee.emit({originalEvent:O,type:"taphold",position:{x:ie[0],y:ie[1]}})}},t.tapholdDuration)};if(O.which==3){t.hoverData.cxtStarted=!0;var Oe={originalEvent:O,type:"cxttapstart",position:{x:ie[0],y:ie[1]}};fe?(fe.activate(),fe.emit(Oe),t.hoverData.down=fe):ee.emit(Oe),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(O.which==1){fe&&fe.activate();{if(fe!=null&&t.nodeIsGrabbable(fe)){var Se=function($e){return{originalEvent:O,type:$e,position:{x:ie[0],y:ie[1]}}},Ie=function($e){$e.emit(Se("grab"))};if(f(fe),!fe.selected())Ee=t.dragData.possibleDragElements=ee.collection(),p(fe,{addToList:Ee}),fe.emit(Se("grabon")).emit(Se("grab"));else{Ee=t.dragData.possibleDragElements=ee.collection();var ke=ee.$(function(Pe){return Pe.isNode()&&Pe.selected()&&t.nodeIsGrabbable(Pe)});g(ke,{addToList:Ee}),fe.emit(Se("grabon")),ke.forEach(Ie)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=fe,t.hoverData.downs=xe,t.hoverData.downTime=new Date().getTime()}a(fe,["mousedown","tapstart","vmousedown"],O,{x:ie[0],y:ie[1]}),fe==null?(ue[4]=1,t.data.bgActivePosistion={x:ie[0],y:ie[1]},t.redrawHint("select",!0),t.redraw()):fe.pannable()&&(ue[4]=1),De()}ue[0]=ue[2]=ie[0],ue[1]=ue[3]=ie[1]}},!1);var S=n(t.container);t.registerBinding([e,S],"mousemove",function(O){var ee=t.hoverData.capture;if(!(!ee&&!P(O))){var re=!1,ie=t.cy,ue=ie.zoom(),xe=[O.clientX,O.clientY],fe=t.projectIntoViewport(xe[0],xe[1]),Ee=t.hoverData.mdownPos,De=t.hoverData.mdownGPos,Oe=t.selection,Se=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Se=t.findNearestElement(fe[0],fe[1],!0,!1));var Ie=t.hoverData.last,ke=t.hoverData.down,Pe=[fe[0]-Oe[2],fe[1]-Oe[3]],$e=t.dragData.possibleDragElements,ct;if(De){var At=xe[0]-De[0],bt=At*At,ut=xe[1]-De[1],Ct=ut*ut,dt=bt+Ct;t.hoverData.isOverThresholdDrag=ct=dt>=t.desktopTapThreshold2}var jt=i(O);ct&&(t.hoverData.tapholdCancelled=!0);var vr=function(){var gr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];gr.length===0?(gr.push(Pe[0]),gr.push(Pe[1])):(gr[0]+=Pe[0],gr[1]+=Pe[1])};re=!0,a(Se,["mousemove","vmousemove","tapdrag"],O,{x:fe[0],y:fe[1]});var Ur=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ie.emit({originalEvent:O,type:"boxstart",position:{x:fe[0],y:fe[1]}}),Oe[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ct){var Pr={originalEvent:O,type:"cxtdrag",position:{x:fe[0],y:fe[1]}};ke?ke.emit(Pr):ie.emit(Pr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Se!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:fe[0],y:fe[1]}}),t.hoverData.cxtOver=Se,Se&&Se.emit({originalEvent:O,type:"cxtdragover",position:{x:fe[0],y:fe[1]}}))}}else if(t.hoverData.dragging){if(re=!0,ie.panningEnabled()&&ie.userPanningEnabled()){var ta;if(t.hoverData.justStartedPan){var Zi=t.hoverData.mdownPos;ta={x:(fe[0]-Zi[0])*ue,y:(fe[1]-Zi[1])*ue},t.hoverData.justStartedPan=!1}else ta={x:Pe[0]*ue,y:Pe[1]*ue};ie.panBy(ta),ie.emit("dragpan"),t.hoverData.dragged=!0}fe=t.projectIntoViewport(O.clientX,O.clientY)}else if(Oe[4]==1&&(ke==null||ke.pannable())){if(ct){if(!t.hoverData.dragging&&ie.boxSelectionEnabled()&&(jt||!ie.panningEnabled()||!ie.userPanningEnabled()))Ur();else if(!t.hoverData.selecting&&ie.panningEnabled()&&ie.userPanningEnabled()){var Sn=s(ke,t.hoverData.downs);Sn&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Oe[4]=0,t.data.bgActivePosistion=ma(Ee),t.redrawHint("select",!0),t.redraw())}ke&&ke.pannable()&&ke.active()&&ke.unactivate()}}else{if(ke&&ke.pannable()&&ke.active()&&ke.unactivate(),(!ke||!ke.grabbed())&&Se!=Ie&&(Ie&&a(Ie,["mouseout","tapdragout"],O,{x:fe[0],y:fe[1]}),Se&&a(Se,["mouseover","tapdragover"],O,{x:fe[0],y:fe[1]}),t.hoverData.last=Se),ke)if(ct){if(ie.boxSelectionEnabled()&&jt)ke&&ke.grabbed()&&(m($e),ke.emit("freeon"),$e.emit("free"),t.dragData.didDrag&&(ke.emit("dragfreeon"),$e.emit("dragfree"))),Ur();else if(ke&&ke.grabbed()&&t.nodeIsDraggable(ke)){var Wt=!t.dragData.didDrag;Wt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||g($e,{inDragLayer:!0});var Bt={x:0,y:0};if(pe(Pe[0])&&pe(Pe[1])&&(Bt.x+=Pe[0],Bt.y+=Pe[1],Wt)){var Ut=t.hoverData.dragDelta;Ut&&pe(Ut[0])&&pe(Ut[1])&&(Bt.x+=Ut[0],Bt.y+=Ut[1])}t.hoverData.draggingEles=!0,$e.silentShift(Bt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else vr();re=!0}if(Oe[2]=fe[0],Oe[3]=fe[1],re)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1);var _,x,C;t.registerBinding(e,"mouseup",function(O){if(!(t.hoverData.which===1&&O.which!==1&&t.hoverData.capture)){var ee=t.hoverData.capture;if(ee){t.hoverData.capture=!1;var re=t.cy,ie=t.projectIntoViewport(O.clientX,O.clientY),ue=t.selection,xe=t.findNearestElement(ie[0],ie[1],!0,!1),fe=t.dragData.possibleDragElements,Ee=t.hoverData.down,De=i(O);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ee&&Ee.unactivate(),t.hoverData.which===3){var Oe={originalEvent:O,type:"cxttapend",position:{x:ie[0],y:ie[1]}};if(Ee?Ee.emit(Oe):re.emit(Oe),!t.hoverData.cxtDragged){var Se={originalEvent:O,type:"cxttap",position:{x:ie[0],y:ie[1]}};Ee?Ee.emit(Se):re.emit(Se)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(xe,["mouseup","tapend","vmouseup"],O,{x:ie[0],y:ie[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(Ee,["click","tap","vclick"],O,{x:ie[0],y:ie[1]}),x=!1,O.timeStamp-C<=re.multiClickDebounceTime()?(_&&clearTimeout(_),x=!0,C=null,a(Ee,["dblclick","dbltap","vdblclick"],O,{x:ie[0],y:ie[1]})):(_=setTimeout(function(){x||a(Ee,["oneclick","onetap","voneclick"],O,{x:ie[0],y:ie[1]})},re.multiClickDebounceTime()),C=O.timeStamp)),Ee==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(O)&&(re.$(r).unselect(["tapunselect"]),fe.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=fe=re.collection()),xe==Ee&&!t.dragData.didDrag&&!t.hoverData.selecting&&xe!=null&&xe._private.selectable&&(t.hoverData.dragging||(re.selectionType()==="additive"||De?xe.selected()?xe.unselect(["tapunselect"]):xe.select(["tapselect"]):De||(re.$(r).unmerge(xe).unselect(["tapunselect"]),xe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ie=re.collection(t.getAllInBox(ue[0],ue[1],ue[2],ue[3]));t.redrawHint("select",!0),Ie.length>0&&t.redrawHint("eles",!0),re.emit({type:"boxend",originalEvent:O,position:{x:ie[0],y:ie[1]}});var ke=function(ct){return ct.selectable()&&!ct.selected()};re.selectionType()==="additive"||De||re.$(r).unmerge(Ie).unselect(),Ie.emit("box").stdFilter(ke).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ue[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Pe=Ee&&Ee.grabbed();m(fe),Pe&&(Ee.emit("freeon"),fe.emit("free"),t.dragData.didDrag&&(Ee.emit("dragfreeon"),fe.emit("dragfree")))}}ue[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var I=[],R=4,M,N=1e5,F=function(O,ee){for(var re=0;re<O.length;re++)if(O[re]%ee!==0)return!1;return!0},q=function(O){for(var ee=Math.abs(O[0]),re=1;re<O.length;re++)if(Math.abs(O[re])!==ee)return!1;return!0},j=function(O){var ee=!1,re=O.deltaY;if(re==null&&(O.wheelDeltaY!=null?re=O.wheelDeltaY/4:O.wheelDelta!=null&&(re=O.wheelDelta/4)),M==null)if(I.length>=R){var ie=I;if(M=F(ie,5),!M){var ue=Math.abs(ie[0]);M=q(ie)&&ue>5}if(M)for(var xe=0;xe<ie.length;xe++)N=Math.min(Math.abs(ie[xe]),N)}else I.push(re),ee=!0;else M&&(N=Math.min(Math.abs(re),N));if(!t.scrollingPage){var fe=t.cy,Ee=fe.zoom(),De=fe.pan(),Oe=t.projectIntoViewport(O.clientX,O.clientY),Se=[Oe[0]*Ee+De.x,Oe[1]*Ee+De.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||E()){O.preventDefault();return}if(fe.panningEnabled()&&fe.userPanningEnabled()&&fe.zoomingEnabled()&&fe.userZoomingEnabled()){O.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Ie;ee&&Math.abs(re)>5&&(re=Oc(re)*5),Ie=re/-250,M&&(Ie/=N,Ie*=3),Ie=Ie*t.wheelSensitivity;var ke=O.deltaMode===1;ke&&(Ie*=33);var Pe=fe.zoom()*Math.pow(10,Ie);O.type==="gesturechange"&&(Pe=t.gestureStartZoom*O.scale),fe.zoom({level:Pe,renderedPosition:{x:Se[0],y:Se[1]}}),fe.emit(O.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",j,!0),t.registerBinding(e,"scroll",function(O){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(O){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||O.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(le){t.hasTouchStarted||j(le)},!0),t.registerBinding(t.container,"mouseout",function(O){var ee=t.projectIntoViewport(O.clientX,O.clientY);t.cy.emit({originalEvent:O,type:"mouseout",position:{x:ee[0],y:ee[1]}})},!1),t.registerBinding(t.container,"mouseover",function(O){var ee=t.projectIntoViewport(O.clientX,O.clientY);t.cy.emit({originalEvent:O,type:"mouseover",position:{x:ee[0],y:ee[1]}})},!1);var U,X,Y,Z,K,G,$,W,V,H,D,L,z,Q=function(O,ee,re,ie){return Math.sqrt((re-O)*(re-O)+(ie-ee)*(ie-ee))},ne=function(O,ee,re,ie){return(re-O)*(re-O)+(ie-ee)*(ie-ee)},J;t.registerBinding(t.container,"touchstart",J=function(O){if(t.hasTouchStarted=!0,!!P(O)){b(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ee=t.cy,re=t.touchData.now,ie=t.touchData.earlier;if(O.touches[0]){var ue=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);re[0]=ue[0],re[1]=ue[1]}if(O.touches[1]){var ue=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);re[2]=ue[0],re[3]=ue[1]}if(O.touches[2]){var ue=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);re[4]=ue[0],re[5]=ue[1]}if(O.touches[1]){t.touchData.singleTouchMoved=!0,m(t.dragData.touchDragEles);var xe=t.findContainerClientCoords();V=xe[0],H=xe[1],D=xe[2],L=xe[3],U=O.touches[0].clientX-V,X=O.touches[0].clientY-H,Y=O.touches[1].clientX-V,Z=O.touches[1].clientY-H,z=0<=U&&U<=D&&0<=Y&&Y<=D&&0<=X&&X<=L&&0<=Z&&Z<=L;var fe=ee.pan(),Ee=ee.zoom();K=Q(U,X,Y,Z),G=ne(U,X,Y,Z),$=[(U+Y)/2,(X+Z)/2],W=[($[0]-fe.x)/Ee,($[1]-fe.y)/Ee];var De=200,Oe=De*De;if(G<Oe&&!O.touches[2]){var Se=t.findNearestElement(re[0],re[1],!0,!0),Ie=t.findNearestElement(re[2],re[3],!0,!0);Se&&Se.isNode()?(Se.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:re[0],y:re[1]}}),t.touchData.start=Se):Ie&&Ie.isNode()?(Ie.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:re[0],y:re[1]}}),t.touchData.start=Ie):ee.emit({originalEvent:O,type:"cxttapstart",position:{x:re[0],y:re[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(O.touches[2])ee.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]){if(O.touches[0]){var ke=t.findNearestElements(re[0],re[1],!0,!0),Pe=ke[0];if(Pe!=null&&(Pe.activate(),t.touchData.start=Pe,t.touchData.starts=ke,t.nodeIsGrabbable(Pe))){var $e=t.dragData.touchDragEles=ee.collection(),ct=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Pe.selected()?(ct=ee.$(function(dt){return dt.selected()&&t.nodeIsGrabbable(dt)}),g(ct,{addToList:$e})):p(Pe,{addToList:$e}),f(Pe);var At=function(jt){return{originalEvent:O,type:jt,position:{x:re[0],y:re[1]}}};Pe.emit(At("grabon")),ct?ct.forEach(function(dt){dt.emit(At("grab"))}):Pe.emit(At("grab"))}a(Pe,["touchstart","tapstart","vmousedown"],O,{x:re[0],y:re[1]}),Pe==null&&(t.data.bgActivePosistion={x:ue[0],y:ue[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],O,{x:re[0],y:re[1]})},t.tapholdDuration)}}if(O.touches.length>=1){for(var bt=t.touchData.startPosition=[null,null,null,null,null,null],ut=0;ut<re.length;ut++)bt[ut]=ie[ut]=re[ut];var Ct=O.touches[0];t.touchData.startGPosition=[Ct.clientX,Ct.clientY]}}},!1);var ae;t.registerBinding(e,"touchmove",ae=function(O){var ee=t.touchData.capture;if(!(!ee&&!P(O))){var re=t.selection,ie=t.cy,ue=t.touchData.now,xe=t.touchData.earlier,fe=ie.zoom();if(O.touches[0]){var Ee=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ue[0]=Ee[0],ue[1]=Ee[1]}if(O.touches[1]){var Ee=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);ue[2]=Ee[0],ue[3]=Ee[1]}if(O.touches[2]){var Ee=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);ue[4]=Ee[0],ue[5]=Ee[1]}var De=t.touchData.startGPosition,Oe;if(ee&&O.touches[0]&&De){for(var Se=[],Ie=0;Ie<ue.length;Ie++)Se[Ie]=ue[Ie]-xe[Ie];var ke=O.touches[0].clientX-De[0],Pe=ke*ke,$e=O.touches[0].clientY-De[1],ct=$e*$e,At=Pe+ct;Oe=At>=t.touchTapThreshold2}if(ee&&t.touchData.cxt){O.preventDefault();var bt=O.touches[0].clientX-V,ut=O.touches[0].clientY-H,Ct=O.touches[1].clientX-V,dt=O.touches[1].clientY-H,jt=ne(bt,ut,Ct,dt),vr=jt/G,Ur=150,Pr=Ur*Ur,ta=1.5,Zi=ta*ta;if(vr>=Zi||jt>=Pr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Sn={originalEvent:O,type:"cxttapend",position:{x:ue[0],y:ue[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Sn),t.touchData.start=null):ie.emit(Sn)}}if(ee&&t.touchData.cxt){var Sn={originalEvent:O,type:"cxtdrag",position:{x:ue[0],y:ue[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Sn):ie.emit(Sn),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Wt=t.findNearestElement(ue[0],ue[1],!0,!0);(!t.touchData.cxtOver||Wt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:ue[0],y:ue[1]}}),t.touchData.cxtOver=Wt,Wt&&Wt.emit({originalEvent:O,type:"cxtdragover",position:{x:ue[0],y:ue[1]}}))}else if(ee&&O.touches[2]&&ie.boxSelectionEnabled())O.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ie.emit({originalEvent:O,type:"boxstart",position:{x:ue[0],y:ue[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,re[4]=1,!re||re.length===0||re[0]===void 0?(re[0]=(ue[0]+ue[2]+ue[4])/3,re[1]=(ue[1]+ue[3]+ue[5])/3,re[2]=(ue[0]+ue[2]+ue[4])/3+1,re[3]=(ue[1]+ue[3]+ue[5])/3+1):(re[2]=(ue[0]+ue[2]+ue[4])/3,re[3]=(ue[1]+ue[3]+ue[5])/3),t.redrawHint("select",!0),t.redraw();else if(ee&&O.touches[1]&&!t.touchData.didSelect&&ie.zoomingEnabled()&&ie.panningEnabled()&&ie.userZoomingEnabled()&&ie.userPanningEnabled()){O.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Bt=t.dragData.touchDragEles;if(Bt){t.redrawHint("drag",!0);for(var Ut=0;Ut<Bt.length;Ut++){var Ji=Bt[Ut]._private;Ji.grabbed=!1,Ji.rscratch.inDragLayer=!1}}var gr=t.touchData.start,bt=O.touches[0].clientX-V,ut=O.touches[0].clientY-H,Ct=O.touches[1].clientX-V,dt=O.touches[1].clientY-H,rf=Q(bt,ut,Ct,dt),i0=rf/K;if(z){var s0=bt-U,o0=ut-X,u0=Ct-Y,l0=dt-Z,c0=(s0+u0)/2,f0=(o0+l0)/2,Ga=ie.zoom(),No=Ga*i0,es=ie.pan(),nf=W[0]*Ga+es.x,af=W[1]*Ga+es.y,h0={x:-No/Ga*(nf-es.x-c0)+nf,y:-No/Ga*(af-es.y-f0)+af};if(gr&&gr.active()){var Bt=t.dragData.touchDragEles;m(Bt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),gr.unactivate().emit("freeon"),Bt.emit("free"),t.dragData.didDrag&&(gr.emit("dragfreeon"),Bt.emit("dragfree"))}ie.viewport({zoom:No,pan:h0,cancelOnFailedZoom:!0}),ie.emit("pinchzoom"),K=rf,U=bt,X=ut,Y=Ct,Z=dt,t.pinching=!0}if(O.touches[0]){var Ee=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ue[0]=Ee[0],ue[1]=Ee[1]}if(O.touches[1]){var Ee=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);ue[2]=Ee[0],ue[3]=Ee[1]}if(O.touches[2]){var Ee=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);ue[4]=Ee[0],ue[5]=Ee[1]}}else if(O.touches[0]&&!t.touchData.didSelect){var sr=t.touchData.start,Fo=t.touchData.last,Wt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Wt=t.findNearestElement(ue[0],ue[1],!0,!0)),ee&&sr!=null&&O.preventDefault(),ee&&sr!=null&&t.nodeIsDraggable(sr))if(Oe){var Bt=t.dragData.touchDragEles,sf=!t.dragData.didDrag;sf&&g(Bt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ha={x:0,y:0};if(pe(Se[0])&&pe(Se[1])&&(Ha.x+=Se[0],Ha.y+=Se[1],sf)){t.redrawHint("eles",!0);var or=t.touchData.dragDelta;or&&pe(or[0])&&pe(or[1])&&(Ha.x+=or[0],Ha.y+=or[1])}t.hoverData.draggingEles=!0,Bt.silentShift(Ha).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==xe[0]&&t.touchData.startPosition[1]==xe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var or=t.touchData.dragDelta=t.touchData.dragDelta||[];or.length===0?(or.push(Se[0]),or.push(Se[1])):(or[0]+=Se[0],or[1]+=Se[1])}if(a(sr||Wt,["touchmove","tapdrag","vmousemove"],O,{x:ue[0],y:ue[1]}),(!sr||!sr.grabbed())&&Wt!=Fo&&(Fo&&Fo.emit({originalEvent:O,type:"tapdragout",position:{x:ue[0],y:ue[1]}}),Wt&&Wt.emit({originalEvent:O,type:"tapdragover",position:{x:ue[0],y:ue[1]}})),t.touchData.last=Wt,ee)for(var Ut=0;Ut<ue.length;Ut++)ue[Ut]&&t.touchData.startPosition[Ut]&&Oe&&(t.touchData.singleTouchMoved=!0);if(ee&&(sr==null||sr.pannable())&&ie.panningEnabled()&&ie.userPanningEnabled()){var d0=s(sr,t.touchData.starts);d0&&(O.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ma(t.touchData.startPosition)),t.swipePanning?(ie.panBy({x:Se[0]*fe,y:Se[1]*fe}),ie.emit("dragpan")):Oe&&(t.swipePanning=!0,ie.panBy({x:ke*fe,y:$e*fe}),ie.emit("dragpan"),sr&&(sr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ee=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ue[0]=Ee[0],ue[1]=Ee[1]}}for(var Ie=0;Ie<ue.length;Ie++)xe[Ie]=ue[Ie];ee&&O.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var te;t.registerBinding(e,"touchcancel",te=function(O){var ee=t.touchData.start;t.touchData.capture=!1,ee&&ee.unactivate()});var oe,se,he,ce;if(t.registerBinding(e,"touchend",oe=function(O){var ee=t.touchData.start,re=t.touchData.capture;if(re)O.touches.length===0&&(t.touchData.capture=!1),O.preventDefault();else return;var ie=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ue=t.cy,xe=ue.zoom(),fe=t.touchData.now,Ee=t.touchData.earlier;if(O.touches[0]){var De=t.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);fe[0]=De[0],fe[1]=De[1]}if(O.touches[1]){var De=t.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);fe[2]=De[0],fe[3]=De[1]}if(O.touches[2]){var De=t.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);fe[4]=De[0],fe[5]=De[1]}ee&&ee.unactivate();var Oe;if(t.touchData.cxt){if(Oe={originalEvent:O,type:"cxttapend",position:{x:fe[0],y:fe[1]}},ee?ee.emit(Oe):ue.emit(Oe),!t.touchData.cxtDragged){var Se={originalEvent:O,type:"cxttap",position:{x:fe[0],y:fe[1]}};ee?ee.emit(Se):ue.emit(Se)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!O.touches[2]&&ue.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ie=ue.collection(t.getAllInBox(ie[0],ie[1],ie[2],ie[3]));ie[0]=void 0,ie[1]=void 0,ie[2]=void 0,ie[3]=void 0,ie[4]=0,t.redrawHint("select",!0),ue.emit({type:"boxend",originalEvent:O,position:{x:fe[0],y:fe[1]}});var ke=function(Pr){return Pr.selectable()&&!Pr.selected()};Ie.emit("box").stdFilter(ke).select().emit("boxselect"),Ie.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ee!=null&&ee.unactivate(),O.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!O.touches[1]){if(!O.touches[0]){if(!O.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Pe=t.dragData.touchDragEles;if(ee!=null){var $e=ee._private.grabbed;m(Pe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),$e&&(ee.emit("freeon"),Pe.emit("free"),t.dragData.didDrag&&(ee.emit("dragfreeon"),Pe.emit("dragfree"))),a(ee,["touchend","tapend","vmouseup","tapdragout"],O,{x:fe[0],y:fe[1]}),ee.unactivate(),t.touchData.start=null}else{var ct=t.findNearestElement(fe[0],fe[1],!0,!0);a(ct,["touchend","tapend","vmouseup","tapdragout"],O,{x:fe[0],y:fe[1]})}var At=t.touchData.startPosition[0]-fe[0],bt=At*At,ut=t.touchData.startPosition[1]-fe[1],Ct=ut*ut,dt=bt+Ct,jt=dt*xe*xe;t.touchData.singleTouchMoved||(ee||ue.$(":selected").unselect(["tapunselect"]),a(ee,["tap","vclick"],O,{x:fe[0],y:fe[1]}),se=!1,O.timeStamp-ce<=ue.multiClickDebounceTime()?(he&&clearTimeout(he),se=!0,ce=null,a(ee,["dbltap","vdblclick"],O,{x:fe[0],y:fe[1]})):(he=setTimeout(function(){se||a(ee,["onetap","voneclick"],O,{x:fe[0],y:fe[1]})},ue.multiClickDebounceTime()),ce=O.timeStamp)),ee!=null&&!t.dragData.didDrag&&ee._private.selectable&&jt<t.touchTapThreshold2&&!t.pinching&&(ue.selectionType()==="single"?(ue.$(r).unmerge(ee).unselect(["tapunselect"]),ee.select(["tapselect"])):ee.selected()?ee.unselect(["tapunselect"]):ee.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var vr=0;vr<fe.length;vr++)Ee[vr]=fe[vr];t.dragData.didDrag=!1,O.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),O.touches.length<2&&(O.touches.length===1&&(t.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var de=[],ge=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},be=function(O){return{event:O,touch:ge(O)}},_e=function(O){de.push(be(O))},we=function(O){for(var ee=0;ee<de.length;ee++){var re=de[ee];if(re.event.pointerId===O.pointerId){de.splice(ee,1);return}}},Ne=function(O){var ee=de.filter(function(re){return re.event.pointerId===O.pointerId})[0];ee.event=O,ee.touch=ge(O)},Te=function(O){O.touches=de.map(function(ee){return ee.touch})},me=function(O){return O.pointerType==="mouse"||O.pointerType===4};t.registerBinding(t.container,"pointerdown",function(le){me(le)||(le.preventDefault(),_e(le),Te(le),J(le))}),t.registerBinding(t.container,"pointerup",function(le){me(le)||(we(le),Te(le),oe(le))}),t.registerBinding(t.container,"pointercancel",function(le){me(le)||(we(le),Te(le),te(le))}),t.registerBinding(t.container,"pointermove",function(le){me(le)||(le.preventDefault(),Ne(le),Te(le),ae(le))})}};var jr={};jr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o,u){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,u,l,c){return Bi(o,u,this.points,n,a,i/2,s/2,l)},checkPoint:function(n,a,i,s,o,u,l,c){return Vr(n,a,this.points,u,l,s,o,[0,-1],i)}}};jr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){return kE(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o,u){return Gn(e,r,a,i,s,o,n)}}};jr.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,s,o,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var c=i/2,f=s/2;o=o==="auto"?Dm(i,s):o;for(var h=new Array(e.length/2),d=0;d<e.length/2;d++)h[d]={x:n+c*e[d*2],y:a+f*e[d*2+1]};var v,g,p,m,y=h.length;for(g=h[y-1],v=0;v<y;v++)p=h[v%y],m=h[(v+1)%y],u[l][v]=Kc(g,p,m,o),g=p,p=m;return u[l]},draw:function(n,a,i,s,o,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,o,this.points,this.getOrCreateCorners(a,i,s,o,u,l,"drawCorners"))},intersectLine:function(n,a,i,s,o,u,l,c,f){return PE(o,u,this.points,n,a,i,s,l,this.getOrCreateCorners(n,a,i,s,c,f,"corners"))},checkPoint:function(n,a,i,s,o,u,l,c,f){return TE(n,a,this.points,u,l,s,o,this.getOrCreateCorners(u,l,s,o,c,f,"corners"))}}};jr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:qt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){return Pm(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){var l=a/2,c=i/2;u=u==="auto"?hn(a,i):u,u=Math.min(l,c,u);var f=u*2;return!!(Vr(e,r,this.points,s,o,a,i-f,[0,-1],n)||Vr(e,r,this.points,s,o,a-f,i,[0,-1],n)||Gn(e,r,f,f,s-l+u,o-c+u,n)||Gn(e,r,f,f,s+l-u,o-c+u,n)||Gn(e,r,f,f,s+l-u,o+c-u,n)||Gn(e,r,f,f,s-l+u,o+c-u,n))}}};jr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Fc(),points:qt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,s)},generateCutTrianglePts:function(e,r,n,a,i){var s=i==="auto"?this.cornerLength:i,o=r/2,u=e/2,l=n-u,c=n+u,f=a-o,h=a+o;return{topLeft:[l,f+s,l+s,f,l+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,h-s,c-s,h,c-s,h-s],bottomLeft:[l+s,h,l,h-s,l+s,h-s]}},intersectLine:function(e,r,n,a,i,s,o,u){var l=this.generateCutTrianglePts(n+2*o,a+2*o,e,r,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Bi(i,s,c,e,r)},checkPoint:function(e,r,n,a,i,s,o,u){var l=u==="auto"?this.cornerLength:u;if(Vr(e,r,this.points,s,o,a,i-2*l,[0,-1],n)||Vr(e,r,this.points,s,o,a-2*l,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,s,o);return $t(e,r,c.topLeft)||$t(e,r,c.topRight)||$t(e,r,c.bottomRight)||$t(e,r,c.bottomLeft)}}};jr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:qt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){var l=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),d=function(p){var m=_a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},l),y=_a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),b=_a({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},f);return[p[0],p[1],m.x,m.y,y.x,y.y,b.x,b.y,p[4],p[5]]},v=[].concat(d(h.topLeft),d(h.topRight),d(h.bottomRight),d(h.bottomLeft));return Bi(i,s,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,u=n+s,l=a-i,c=a+i,f=Wl(e,r),h=f.heightOffset,d=f.widthOffset,v=f.ctrlPtOffsetPct*e,g={topLeft:[o,l+h,o+v,l,o+d,l],topRight:[u-d,l,u-v,l,u,l+h],bottomRight:[u,c-h,u-v,c,u-d,c],bottomLeft:[o+d,c,o+v,c,o,c-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,a,i,s,o,u){var l=Wl(a,i),c=l.heightOffset,f=l.widthOffset;if(Vr(e,r,this.points,s,o,a,i-2*c,[0,-1],n)||Vr(e,r,this.points,s,o,a-2*f,i,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(a,i,s,o),d=function(A,E,P){var S=P[4],_=P[2],x=P[0],C=P[5],I=P[1],R=Math.min(S,x),M=Math.max(S,x),N=Math.min(C,I),F=Math.max(C,I);if(R<=A&&A<=M&&N<=E&&E<=F){var q=BE(S,_,x),j=AE(q[0],q[1],q[2],A),U=j.filter(function(X){return 0<=X&&X<=1});if(U.length>0)return U[0]}return null},v=Object.keys(h),g=0;g<v.length;g++){var p=v[g],m=h[p],y=d(e,r,m);if(y!=null){var b=m[5],w=m[3],B=m[1],T=wt(b,w,B,y);if(m.isTop&&T<=r||m.isBottom&&r<=T)return!0}}return!1}}};jr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:qt(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){var l=e-(n/2+o),c=r-(a/2+o),f=c,h=e+(n/2+o),d=nn(i,s,e,r,l,c,h,f,!1);return d.length>0?d:Pm(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){u=u==="auto"?hn(a,i):u;var l=2*u;if(Vr(e,r,this.points,s,o,a,i-l,[0,-1],n)||Vr(e,r,this.points,s,o,a-l,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,h=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!($t(e,r,h)||Gn(e,r,l,l,s+a/2-u,o+i/2-u,n)||Gn(e,r,l,l,s-a/2+u,o+i/2-u,n))}}};jr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",qt(3,0)),this.generateRoundPolygon("round-triangle",qt(3,0)),this.generatePolygon("rectangle",qt(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",qt(5,0)),this.generateRoundPolygon("round-pentagon",qt(5,0)),this.generatePolygon("hexagon",qt(6,0)),this.generateRoundPolygon("round-hexagon",qt(6,0)),this.generatePolygon("heptagon",qt(7,0)),this.generateRoundPolygon("round-heptagon",qt(7,0)),this.generatePolygon("octagon",qt(8,0)),this.generateRoundPolygon("round-octagon",qt(8,0));var n=new Array(20);{var a=jl(5,0),i=jl(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=Bm(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,l)}};var $i={};$i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};$i.redraw=function(t){t=t||Sm();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};$i.beforeRender=function(t,e){if(!this.destroyed){e==null&&it("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var iv=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};$i.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){iv(t,!0,a);var i=qr();t.render(t.renderOptions);var s=t.lastDrawTime=qr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else iv(t,!1,a);t.skipFrame=!1,Us(r)}};Us(r)}};var Q2=function(e){this.init(e)},By=Q2,Va=By.prototype;Va.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Va.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var l=a.createElement("style");l.id=s,l.textContent="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&Ue("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=pe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Va.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Va.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Va.isHeadless=function(){return!1};[$c,ky,Py,qa,jr,$i].forEach(function(t){Ce(Va,t)});var yl=1e3/60,Dy={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Hi(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(l,c){var f=qr(),h=a.averageRedrawTime,d=a.lastRedrawTime,v=[],g=a.cy.extent(),p=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var m=qr(),y=m-f,b=m-c;if(d<yl){var w=yl-(l?h:0);if(b>=e.deqFastCost*w)break}else if(l){if(y>=e.deqCost*d||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*yl)break;var B=e.deq(n,p,g);if(B.length>0)for(var T=0;T<B.length;T++)v.push(B[T]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,p,g)&&i())},o=e.priority||Ic;a.beforeRender(s,o(n))}}}},$2=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qs;xn(this,t),this.idsByKey=new Fr,this.keyForId=new Fr,this.cachesByLvl=new Fr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return En(t,[{key:"getIdsFor",value:function(r){r==null&&it("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Oa,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Fr,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),sv=25,gs=50,Is=-4,ac=3,Ry=7.99,K2=8,Y2=1024,X2=1024,Z2=1024,J2=.2,e_=.8,t_=10,r_=.15,n_=.1,a_=.9,i_=.9,s_=100,o_=1,ba={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},u_=kt({getKey:null,doesEleInvalidateKey:Qs,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Am,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),oi=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=u_(r);Ce(n,a),n.lookup=new $2(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},yt=oi.prototype;yt.reasons=ba;yt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};yt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};yt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new ji(function(r,n){return n.reqs-r.reqs});return e};yt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};yt.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Lc(o*r))),n<Is)n=Is;else if(o>=Ry||n>ac)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,h=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,h))return null;var d=u.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=sv?v=sv:c<=gs?v=gs:v=Math.ceil(c/gs)*gs,c>Z2||f>X2)return null;var g=i.getTextureQueue(v),p=g[g.length-2],m=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};p||(p=g[g.length-1]),p||(p=m()),p.width-p.usedWidth<f&&(p=m());for(var y=function(R){return R&&R.scaledLabelShown===h},b=a&&a===ba.dequeue,w=a&&a===ba.highQuality,B=a&&a===ba.downscale,T,k=n+1;k<=ac;k++){var A=u.get(t,k);if(A){T=A;break}}var E=T&&T.level===n+1?T:null,P=function(){p.context.drawImage(E.texture.canvas,E.x,0,E.width,E.height,p.usedWidth,0,f,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,f,v),y(E))P();else if(y(T))if(w){for(var S=T.level;S>n;S--)E=i.getElement(t,e,r,S,ba.downscale);P()}else return i.queueElement(t,T.level-1),T;else{var _;if(!b&&!w&&!B)for(var x=n-1;x>=Is;x--){var C=u.get(t,x);if(C){_=C;break}}if(y(_))return i.queueElement(t,n),_;p.context.translate(p.usedWidth,0),p.context.scale(l,l),this.drawElement(p.context,t,e,h,!1),p.context.scale(1/l,1/l),p.context.translate(-p.usedWidth,0)}return d={x:p.usedWidth,texture:p,level:n,scale:l,width:f,height:c,scaledLabelShown:h},p.usedWidth+=Math.ceil(f+K2),p.eleCaches.push(d),u.set(t,n,d),i.checkTextureFullness(p),d};yt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};yt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Is;i<=ac;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};yt.checkTextureUtility=function(t){t.invalidatedWidth>=J2*t.width&&this.retireTexture(t)};yt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>e_&&t.fullnessChecks>=t_?fn(r,t):t.fullnessChecks++};yt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;fn(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}Mc(i);var u=e.getRetiredTextureQueue(r);u.push(t)};yt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(Y2,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};yt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Mc(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),fn(a,s),n.push(s),s}};yt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};yt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<o_&&r.size()>0;s++){var o=r.pop(),u=o.key,l=o.eles[0],c=i.hasCache(l,o.level);if(n[u]=null,c)continue;a.push(o);var f=e.getBoundingBox(l);e.getElement(l,f,t,o.level,ba.dequeue)}return a};yt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Rc,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};yt.onDequeue=function(t){this.onDequeues.push(t)};yt.offDequeue=function(t){fn(this.onDequeues,t)};yt.setupDequeueing=Dy.setupDequeueing({deqRedrawThreshold:s_,deqCost:r_,deqAvgCost:n_,deqNoDrawCost:a_,deqFastCost:i_,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var u=s[o].boundingBox();if(Nc(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var l_=1,mi=-4,to=2,c_=3.99,f_=50,h_=50,d_=.15,v_=.1,g_=.9,p_=.9,m_=1,ov=250,y_=4e3*4e3,uv=32767,b_=!0,Iy=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=qr()-2*ov,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Hi(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},h_),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=ov?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,u){return u.reqs-o.reqs};r.layersQueue=new ji(i),r.setupDequeueing()},Pt=Iy.prototype,lv=0,w_=Math.pow(2,53)-1;Pt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:lv=++lv%w_,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,l=-s.bb.y1;return o.scale(r,r),o.translate(u,l),s};Pt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Lc(s*e)),r<mi)r=mi;else if(s>=c_||r>to)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),c=u[r]=u[r]||[],f,h=n.levelIsComplete(r,t),d,v=function(){var P=function(I){if(n.validateLayersElesOrdering(I,t),n.levelIsComplete(I,t))return d=u[I],!0},S=function(I){if(!d)for(var R=r+I;mi<=R&&R<=to&&!P(R);R+=I);};S(1),S(-1);for(var _=c.length-1;_>=0;_--){var x=c[_];x.invalid&&fn(c,x)}};if(!h)v();else return c;var g=function(){if(!f){f=Yt();for(var P=0;P<t.length;P++)km(f,t[P].boundingBox())}return f},p=function(P){P=P||{};var S=P.after;g();var _=Math.ceil(f.w*l),x=Math.ceil(f.h*l);if(_>uv||x>uv)return null;var C=_*x;if(C>y_)return null;var I=n.makeLayer(f,r);if(S!=null){var R=c.indexOf(S)+1;c.splice(R,0,I)}else(P.insert===void 0||P.insert)&&c.unshift(I);return I};if(n.skipping&&!o)return null;for(var m=null,y=t.length/l_,b=!o,w=0;w<t.length;w++){var B=t[w],T=B._private.rscratch,k=T.imgLayerCaches=T.imgLayerCaches||{},A=k[r];if(A){m=A;continue}if((!m||m.eles.length>=y||!wE(m.bb,B.boundingBox()))&&(m=p({insert:!0,after:m}),!m))return null;d||b?n.queueLayer(m,B):n.drawEleInLayer(m,B,r,e),m.eles.push(B),k[r]=m}return d||(b?null:c)};Pt.getEleLevelForLayerLevel=function(t,e){return t};Pt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,b_),i.setImgSmoothing(s,!0))};Pt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};Pt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};Pt.updateElementsInLayers=function(t,e){for(var r=this,n=zi(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},l=mi;l<=to;l++){var c=u[l];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};Pt.haveLayers=function(){for(var t=this,e=!1,r=mi;r<=to;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Pt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=qr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Pt.invalidateLayer=function(t){if(this.lastInvalidationTime=qr(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];fn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Pt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Pt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Pt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Pt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<m_&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Pt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Pt.requestRedraw=Hi(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Pt.setupDequeueing=Dy.setupDequeueing({deqRedrawThreshold:f_,deqCost:d_,deqAvgCost:v_,deqNoDrawCost:g_,deqFastCost:p_,deq:function(e,r){return e.dequeue(r)},onDeqd:Ic,shouldRedraw:Am,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var My={},cv;function x_(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function E_(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function fv(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function A_(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var u=i[o];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function C_(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}My.arrowShapeImpl=function(t){return(cv||(cv={polygon:x_,"triangle-backcurve":E_,"triangle-tee":fv,"circle-triangle":A_,"triangle-cross":fv,circle:C_}))[t]};var kr={};kr.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};kr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};kr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};kr.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=r.getElement(e,l,n,a,i);if(c!=null){var f=o(u,e);if(f===0)return;var h=s(u,e),d=l.x1,v=l.y1,g=l.w,p=l.h,m,y,b,w,B;if(h!==0){var T=r.getRotationPoint(e);b=T.x,w=T.y,t.translate(b,w),t.rotate(h),B=u.getImgSmoothing(t),B||u.setImgSmoothing(t,!0);var k=r.getRotationOffset(e);m=k.x,y=k.y}else m=d,y=v;var A;f!==1&&(A=t.globalAlpha,t.globalAlpha=A*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,y,g,p),f!==1&&(t.globalAlpha=A),h!==0&&(t.rotate(-h),t.translate(-b,-w),B||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var __=function(){return 0},S_=function(e,r){return e.getTextAngle(r,null)},T_=function(e,r){return e.getTextAngle(r,"source")},k_=function(e,r){return e.getTextAngle(r,"target")},P_=function(e,r){return r.effectiveOpacity()},bl=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};kr.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,u=o.eleTxrCache,l=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,h=e.boundingBox(),d=i===!0?u.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||Nc(h,n))){var v=e.isEdge(),g=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,u,r,a,d,__,P_),(!v||!g)&&s.drawCachedElementPortion(t,e,l,r,a,d,S_,bl),v&&!g&&(s.drawCachedElementPortion(t,e,c,r,a,d,T_,bl),s.drawCachedElementPortion(t,e,f,r,a,d,k_,bl)),s.drawElementOverlay(t,e)}};kr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};kr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};kr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};kr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],u=o.bb;u.w===0||u.h===0||t.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var Wr={};Wr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,p=e.pstyle("line-outline-color").value,m=l*c,y=l*c,b=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;f==="straight-triangle"?(s.eleStrokeStyle(t,e,I),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=d,t.lineCap=v,s.eleStrokeStyle(t,e,I),s.drawEdgePath(e,t,o.allpts,h),t.lineCap="butt")},w=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(t.lineWidth=d+g,t.lineCap=v,g>0)s.colorStrokeStyle(t,p[0],p[1],p[2],I);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,h),t.lineCap="butt")},B=function(){a&&s.drawEdgeOverlay(t,e)},T=function(){a&&s.drawEdgeUnderlay(t,e)},k=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;s.drawArrowheads(t,e,I)},A=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var E=e.pstyle("ghost").value==="yes";if(E){var P=e.pstyle("ghost-offset-x").pfValue,S=e.pstyle("ghost-offset-y").pfValue,_=e.pstyle("ghost-opacity").value,x=m*_;t.translate(P,S),b(x),k(x),t.translate(-P,-S)}else w();T(),b(),k(),B(),A(),r&&t.translate(u.x1,u.y1)}};var Ly=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};Wr.drawEdgeOverlay=Ly("overlay");Wr.drawEdgeUnderlay=Ly("underlay");Wr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var f=r.join("$"),h=a.pathCacheKey&&a.pathCacheKey===f;h?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=f,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var g=Kt(a.roundCorners),p;try{for(g.s();!(p=g.n()).done;){var m=p.value;Ay(e,m)}}catch(b){g.e(b)}finally{g.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1]);break}e=i,u?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Wr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],u=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Wr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Wr.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle(r+"-arrow-width"),d=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(d*=f);var v=e.pstyle("opacity").value;s===void 0&&(s=v);var g=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,l,f,u,d,n,a,i),t.globalCompositeOperation=g);var p=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,p[0],p[1],p[2],s),o.colorStrokeStyle(t,p[0],p[1],p[2],s),o.drawArrowShape(e,t,c,f,u,d,n,a,i)}}};Wr.drawArrowShape=function(t,e,r,n,a,i,s,o,u){var l=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,h,d=e,v={x:s,y:o},g=t.pstyle("arrow-scale").value,p=this.getArrowWidth(n,g),m=l.arrowShapes[a];if(c){var y=l.arrowPathCache=l.arrowPathCache||[],b=Qn(a),w=y[b];w!=null?(h=e=w,f=!0):(h=e=new Path2D,y[b]=h)}f||(e.beginPath&&e.beginPath(),c?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,p,u,v,n),e.closePath&&e.closePath()),e=d,c&&(e.translate(s,o),e.rotate(u),e.scale(p,p)),(r==="filled"||r==="both")&&(c?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?p:1),e.lineJoin="miter",c?e.stroke(h):e.stroke()),c&&(e.scale(1/p,1/p),e.rotate(-u),e.translate(-s,-o))};var Xc={};Xc.safeDrawImage=function(t,e,r,n,a,i,s,o,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,s,o,u,l)}catch(c){Ue(c)}};Xc.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,u=s.y,l=r.cy().style(),c=l.getIndexedStyle.bind(l),f=c(r,"background-fit","value",n),h=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),g=r.padding()*2,p=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:g),m=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:g),y=r._private.rscratch,b=c(r,"background-clip","value",n),w=b==="node",B=c(r,"background-image-opacity","value",n)*a,T=c(r,"background-image-smoothing","value",n),k=r.pstyle("corner-radius").value;k!=="auto"&&(k=r.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,E=e.height||e.cachedH;(A==null||E==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,E=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=A,S=E;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?P=c(r,"background-width","pfValue",n)*p:P=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?S=c(r,"background-height","pfValue",n)*m:S=c(r,"background-height","pfValue",n)),!(P===0||S===0)){if(f==="contain"){var _=Math.min(p/P,m/S);P*=_,S*=_}else if(f==="cover"){var _=Math.max(p/P,m/S);P*=_,S*=_}var x=o-p/2,C=c(r,"background-position-x","units",n),I=c(r,"background-position-x","pfValue",n);C==="%"?x+=(p-P)*I:x+=I;var R=c(r,"background-offset-x","units",n),M=c(r,"background-offset-x","pfValue",n);R==="%"?x+=(p-P)*M:x+=M;var N=u-m/2,F=c(r,"background-position-y","units",n),q=c(r,"background-position-y","pfValue",n);F==="%"?N+=(m-S)*q:N+=q;var j=c(r,"background-offset-y","units",n),U=c(r,"background-offset-y","pfValue",n);j==="%"?N+=(m-S)*U:N+=U,y.pathCache&&(x-=o,N-=u,o=0,u=0);var X=t.globalAlpha;t.globalAlpha=B;var Y=i.getImgSmoothing(t),Z=!1;if(T==="no"&&Y?(i.setImgSmoothing(t,!1),Z=!0):T==="yes"&&!Y&&(i.setImgSmoothing(t,!0),Z=!0),h==="no-repeat")w&&(t.save(),y.pathCache?t.clip(y.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,p,m,k,y),t.clip())),i.safeDrawImage(t,e,0,0,A,E,x,N,P,S),w&&t.restore();else{var K=t.createPattern(e,h);t.fillStyle=K,i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,p,m,k,y),t.translate(x,N),t.fill(),t.translate(-x,-N)}t.globalAlpha=X,Z&&i.setImgSmoothing(t,Y)}};var ea={};ea.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Lc(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};ea.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(s.drawText(t,e,null,d,i),e.isEdge()&&(s.drawText(t,e,"source",d,i),s.drawText(t,e,"target",d,i))):s.drawText(t,e,a,d,i),r&&t.translate(v.x1,v.y1)};ea.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};ea.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*o,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function wl(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),s?t.stroke():t.fill()}ea.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation");if(s.strValue==="autorotate"){var o=Qt(a,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};ea.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Qt(s,"labelX",r),l=Qt(s,"labelY",r),c,f,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var d=r?r+"-":"",v=Qt(s,"labelWidth",r),g=Qt(s,"labelHeight",r),p=e.pstyle(d+"text-margin-x").pfValue,m=e.pstyle(d+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;y&&(b="center",w="center"),u+=p,l+=m;var B;switch(n?B=this.getTextAngle(e,r):B=0,B!==0&&(c=u,f=l,t.translate(c,f),t.rotate(B),u=0,l=0),w){case"top":break;case"center":l+=g/2;break;case"bottom":l+=g;break}var T=e.pstyle("text-background-opacity").value,k=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,E=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,S=P.indexOf("round")===0,_=2;if(T>0||A>0&&k>0){var x=u-E;switch(b){case"left":x-=v;break;case"center":x-=v/2;break}var C=l-g-E,I=v+2*E,R=g+2*E;if(T>0){var M=t.fillStyle,N=e.pstyle("text-background-color").value;t.fillStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+T*o+")",S?wl(t,x,C,I,R,_):t.fillRect(x,C,I,R),t.fillStyle=M}if(A>0&&k>0){var F=t.strokeStyle,q=t.lineWidth,j=e.pstyle("text-border-color").value,U=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+k*o+")",t.lineWidth=A,t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(S?wl(t,x,C,I,R,_,"stroke"):t.strokeRect(x,C,I,R),U==="double"){var X=A/2;S?wl(t,x+X,C+X,I-X*2,R-X*2,_,"stroke"):t.strokeRect(x+X,C+X,I-X*2,R-X*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=q,t.strokeStyle=F}}var Y=2*e.pstyle("text-outline-width").pfValue;if(Y>0&&(t.lineWidth=Y),e.pstyle("text-wrap").value==="wrap"){var Z=Qt(s,"labelWrapCachedLines",r),K=Qt(s,"labelLineHeight",r),G=v/2,$=this.getLabelJustification(e);switch($==="auto"||(b==="left"?$==="left"?u+=-v:$==="center"&&(u+=-G):b==="center"?$==="left"?u+=-G:$==="right"&&(u+=G):b==="right"&&($==="center"?u+=G:$==="right"&&(u+=v))),w){case"top":l-=(Z.length-1)*K;break;case"center":case"bottom":l-=(Z.length-1)*K;break}for(var W=0;W<Z.length;W++)Y>0&&t.strokeText(Z[W],u,l),t.fillText(Z[W],u,l),l+=K}else Y>0&&t.strokeText(h,u,l),t.fillText(h,u,l);B!==0&&(t.rotate(-B),t.translate(-c,-f))}}};var Cn={};Cn.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,l=e._private,c=l.rscratch,f=e.position();if(!(!pe(f.x)||!pe(f.y))&&!(i&&!e.visible())){var h=i?e.effectiveOpacity():1,d=s.usePaths(),v,g=!1,p=e.padding();o=e.width()+2*p,u=e.height()+2*p;var m;r&&(m=r,t.translate(-m.x1,-m.y1));for(var y=e.pstyle("background-image"),b=y.value,w=new Array(b.length),B=new Array(b.length),T=0,k=0;k<b.length;k++){var A=b[k],E=w[k]=A!=null&&A!=="none";if(E){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",k);T++,B[k]=s.getCachedImage(A,P,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var S=e.pstyle("background-blacken").value,_=e.pstyle("border-width").pfValue,x=e.pstyle("background-opacity").value*h,C=e.pstyle("border-color").value,I=e.pstyle("border-style").value,R=e.pstyle("border-join").value,M=e.pstyle("border-cap").value,N=e.pstyle("border-position").value,F=e.pstyle("border-dash-pattern").pfValue,q=e.pstyle("border-dash-offset").pfValue,j=e.pstyle("border-opacity").value*h,U=e.pstyle("outline-width").pfValue,X=e.pstyle("outline-color").value,Y=e.pstyle("outline-style").value,Z=e.pstyle("outline-opacity").value*h,K=e.pstyle("outline-offset").value,G=e.pstyle("corner-radius").value;G!=="auto"&&(G=e.pstyle("corner-radius").pfValue);var $=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.eleFillStyle(t,e,me)},W=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;s.colorStrokeStyle(t,C[0],C[1],C[2],me)},V=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z;s.colorStrokeStyle(t,X[0],X[1],X[2],me)},H=function(me,le,O,ee){var re=s.nodePathCache=s.nodePathCache||[],ie=Em(O==="polygon"?O+","+ee.join(","):O,""+le,""+me,""+G),ue=re[ie],xe,fe=!1;return ue!=null?(xe=ue,fe=!0,c.pathCache=xe):(xe=new Path2D,re[ie]=c.pathCache=xe),{path:xe,cacheHit:fe}},D=e.pstyle("shape").strValue,L=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(f.x,f.y);var z=H(o,u,D,L);v=z.path,g=z.cacheHit}var Q=function(){if(!g){var me=f;d&&(me={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(v||t,me.x,me.y,o,u,G,c)}d?t.fill(v):t.fill()},ne=function(){for(var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=l.backgrounding,ee=0,re=0;re<B.length;re++){var ie=e.cy().style().getIndexedStyle(e,"background-image-containment","value",re);if(le&&ie==="over"||!le&&ie==="inside"){ee++;continue}w[re]&&B[re].complete&&!B[re].error&&(ee++,s.drawInscribedImage(t,B[re],e,re,me))}l.backgrounding=ee!==T,O!==l.backgrounding&&e.updateStyle(!1)},J=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasPie(e)&&(s.drawPie(t,e,le),me&&(d||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,u,G,c)))},ae=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasStripe(e)&&(t.save(),d?t.clip(c.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,u,G,c),t.clip()),s.drawStripe(t,e,le),t.restore(),me&&(d||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,u,G,c)))},te=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,le=(S>0?S:-S)*me,O=S>0?0:255;S!==0&&(s.colorFillStyle(t,O,O,O,le),d?t.fill(v):t.fill())},oe=function(){if(_>0){if(t.lineWidth=_,t.lineCap=M,t.lineJoin=R,t.setLineDash)switch(I){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(F),t.lineDashOffset=q;break;case"solid":case"double":t.setLineDash([]);break}if(N!=="center"){if(t.save(),t.lineWidth*=2,N==="inside")d?t.clip(v):t.clip();else{var me=new Path2D;me.rect(-o/2-_,-u/2-_,o+2*_,u+2*_),me.addPath(v),t.clip(me,"evenodd")}d?t.stroke(v):t.stroke(),t.restore()}else d?t.stroke(v):t.stroke();if(I==="double"){t.lineWidth=_/3;var le=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(v):t.stroke(),t.globalCompositeOperation=le}t.setLineDash&&t.setLineDash([])}},se=function(){if(U>0){if(t.lineWidth=U,t.lineCap="butt",t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var me=f;d&&(me={x:0,y:0});var le=s.getNodeShape(e),O=_;N==="inside"&&(O=0),N==="outside"&&(O*=2);var ee=(o+O+(U+K))/o,re=(u+O+(U+K))/u,ie=o*ee,ue=u*re,xe=s.nodeShapes[le].points,fe;if(d){var Ee=H(ie,ue,le,xe);fe=Ee.path}if(le==="ellipse")s.drawEllipsePath(fe||t,me.x,me.y,ie,ue);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(le)){var De=0,Oe=0,Se=0;le==="round-diamond"?De=(O+K+U)*1.4:le==="round-heptagon"?(De=(O+K+U)*1.075,Se=-(O/2+K+U)/35):le==="round-hexagon"?De=(O+K+U)*1.12:le==="round-pentagon"?(De=(O+K+U)*1.13,Se=-(O/2+K+U)/15):le==="round-tag"?(De=(O+K+U)*1.12,Oe=(O/2+U+K)*.07):le==="round-triangle"&&(De=(O+K+U)*(Math.PI/2),Se=-(O+K/2+U)/Math.PI),De!==0&&(ee=(o+De)/o,ie=o*ee,["round-hexagon","round-tag"].includes(le)||(re=(u+De)/u,ue=u*re)),G=G==="auto"?Dm(ie,ue):G;for(var Ie=ie/2,ke=ue/2,Pe=G+(O+U+K)/2,$e=new Array(xe.length/2),ct=new Array(xe.length/2),At=0;At<xe.length/2;At++)$e[At]={x:me.x+Oe+Ie*xe[At*2],y:me.y+Se+ke*xe[At*2+1]};var bt,ut,Ct,dt,jt=$e.length;for(ut=$e[jt-1],bt=0;bt<jt;bt++)Ct=$e[bt%jt],dt=$e[(bt+1)%jt],ct[bt]=Kc(ut,Ct,dt,Pe),ut=Ct,Ct=dt;s.drawRoundPolygonPath(fe||t,me.x+Oe,me.y+Se,o*ee,u*re,xe,ct)}else if(["roundrectangle","round-rectangle"].includes(le))G=G==="auto"?hn(ie,ue):G,s.drawRoundRectanglePath(fe||t,me.x,me.y,ie,ue,G+(O+U+K)/2);else if(["cutrectangle","cut-rectangle"].includes(le))G=G==="auto"?Fc():G,s.drawCutRectanglePath(fe||t,me.x,me.y,ie,ue,null,G+(O+U+K)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(le))G=G==="auto"?hn(ie,ue):G,s.drawBottomRoundRectanglePath(fe||t,me.x,me.y,ie,ue,G+(O+U+K)/2);else if(le==="barrel")s.drawBarrelPath(fe||t,me.x,me.y,ie,ue);else if(le.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(le)){var vr=(O+U+K)/o;xe=$s(Ks(xe,vr)),s.drawPolygonPath(fe||t,me.x,me.y,o,u,xe)}else{var Ur=(O+U+K)/o;xe=$s(Ks(xe,-Ur)),s.drawPolygonPath(fe||t,me.x,me.y,o,u,xe)}if(d?t.stroke(fe):t.stroke(),Y==="double"){t.lineWidth=O/3;var Pr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(fe):t.stroke(),t.globalCompositeOperation=Pr}t.setLineDash&&t.setLineDash([])}},he=function(){a&&s.drawNodeOverlay(t,e,f,o,u)},ce=function(){a&&s.drawNodeUnderlay(t,e,f,o,u)},de=function(){s.drawElementText(t,e,null,n)},ge=e.pstyle("ghost").value==="yes";if(ge){var be=e.pstyle("ghost-offset-x").pfValue,_e=e.pstyle("ghost-offset-y").pfValue,we=e.pstyle("ghost-opacity").value,Ne=we*h;t.translate(be,_e),V(),se(),$(we*x),Q(),ne(Ne,!0),W(we*j),oe(),J(S!==0||_!==0),ae(S!==0||_!==0),ne(Ne,!1),te(Ne),t.translate(-be,-_e)}d&&t.translate(-f.x,-f.y),ce(),d&&t.translate(f.x,f.y),V(),se(),$(),Q(),ne(h,!0),W(),oe(),J(S!==0||_!==0),ae(S!==0||_!==0),ne(h,!1),te(),d&&t.translate(-f.x,-f.y),de(),he(),r&&t.translate(m.x1,m.y1)}};var Oy=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||s==null){var d=n.padding();i=n.width()+2*d,s=n.height()+2*d}o.colorFillStyle(r,c[0],c[1],c[2],l),o.nodeShapes[f].draw(r,a.x,a.y,i+u*2,s+u*2,h),r.fill()}}}};Cn.drawNodeOverlay=Oy("overlay");Cn.drawNodeUnderlay=Oy("underlay");Cn.hasPie=function(t){return t=t[0],t._private.hasPie};Cn.hasStripe=function(t){return t=t[0],t._private.hasStripe};Cn.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,u=n.x,l=n.y,c=e.width(),f=e.height(),h=Math.min(c,f)/2,d,v=0,g=this.usePaths();if(g&&(u=0,l=0),i.units==="%"?h=h*i.pfValue:i.pfValue!==void 0&&(h=i.pfValue/2),s.units==="%"?d=h*s.pfValue:s.pfValue!==void 0&&(d=s.pfValue/2),!(d>=h))for(var p=1;p<=a.pieBackgroundN;p++){var m=e.pstyle("pie-"+p+"-background-size").value,y=e.pstyle("pie-"+p+"-background-color").value,b=e.pstyle("pie-"+p+"-background-opacity").value*r,w=m/100;w+v>1&&(w=1-v);var B=1.5*Math.PI+2*Math.PI*v;B+=o;var T=2*Math.PI*w,k=B+T;m===0||v>=1||v+w>1||(d===0?(t.beginPath(),t.moveTo(u,l),t.arc(u,l,h,B,k),t.closePath()):(t.beginPath(),t.arc(u,l,h,B,k),t.arc(u,l,d,k,B,!0),t.closePath()),this.colorFillStyle(t,y[0],y[1],y[2],b),t.fill(),v+=w)}};Cn.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,s=n.y,o=e.width(),u=e.height(),l=0,c=this.usePaths();t.save();var f=e.pstyle("stripe-direction").value,h=e.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var d=o,v=u;h.units==="%"?(d=d*h.pfValue,v=v*h.pfValue):h.pfValue!==void 0&&(d=h.pfValue,v=h.pfValue),c&&(i=0,s=0),s-=d/2,i-=v/2;for(var g=1;g<=a.stripeBackgroundN;g++){var p=e.pstyle("stripe-"+g+"-background-size").value,m=e.pstyle("stripe-"+g+"-background-color").value,y=e.pstyle("stripe-"+g+"-background-opacity").value*r,b=p/100;b+l>1&&(b=1-l),!(p===0||l>=1||l+b>1)&&(t.beginPath(),t.rect(i,s+v*l,d,v*b),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],y),t.fill(),l+=b)}t.restore()};var Ht={},B_=100;Ht.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Ht.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Ht.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),h=$n(l,f),d=$n(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var v=s?{x:0,y:0}:r.position(),g=r.paddedWidth(),p=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(g,p))}else if(r.isEdge()){var m=r.sourceEndpoint(),y=r.targetEndpoint();i=t.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=s?{x:0,y:0}:r.position(),w=r.paddedWidth(),B=r.paddedHeight(),T=w/2,k=B/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":i=t.createLinearGradient(b.x,b.y-k,b.x,b.y+k);break;case"to-top":i=t.createLinearGradient(b.x,b.y+k,b.x,b.y-k);break;case"to-left":i=t.createLinearGradient(b.x+T,b.y,b.x-T,b.y);break;case"to-right":i=t.createLinearGradient(b.x-T,b.y,b.x+T,b.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(b.x-T,b.y-k,b.x+T,b.y+k);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(b.x-T,b.y+k,b.x+T,b.y-k);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(b.x+T,b.y-k,b.x-T,b.y+k);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(b.x+T,b.y+k,b.x-T,b.y-k);break}}if(!i)return null;for(var E=u.length===o.length,P=o.length,S=0;S<P;S++)i.addColorStop(E?u[S]:S/(P-1),"rgba("+o[S][0]+","+o[S][1]+","+o[S][2]+","+a+")");return i};Ht.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};Ht.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};Ht.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};Ht.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};Ht.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};Ht.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};Ht.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=a*s,l=i*s,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=r.canvases[h],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=r.bufferCanvases[h],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l,e.pixelRatio=s}};Ht.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Ht.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Ht.render=function(t){var e=this;t=t||Sm();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,d=e.motionBlurPxRatio,v=r.hasCompoundNodes(),g=e.hoverData.draggingEles,p=!!(e.hoverData.selecting||e.touchData.selecting);h=h&&!n&&e.motionBlurEnabled&&!p;var m=h;n||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),h&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(m=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var y=r.style(),b=r.zoom(),w=s!==void 0?s:b,B=r.pan(),T={x:B.x,y:B.y},k={zoom:b,pan:{x:B.x,y:B.y}},A=e.prevViewport,E=A===void 0||k.zoom!==A.zoom||k.pan.x!==A.pan.x||k.pan.y!==A.pan.y;!E&&!(g&&!v)&&(e.motionBlurPxRatio=1),o&&(T=o),w*=u,T.x*=u,T.y*=u;var P=e.getCachedZSortedEles();function S(W,V,H,D,L){var z=W.globalCompositeOperation;W.globalCompositeOperation="destination-out",e.colorFillStyle(W,255,255,255,e.motionBlurTransparency),W.fillRect(V,H,D,L),W.globalCompositeOperation=z}function _(W,V){var H,D,L,z;!e.clearingMotionBlur&&(W===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||W===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(H={x:B.x*d,y:B.y*d},D=b*d,L=e.canvasWidth*d,z=e.canvasHeight*d):(H=T,D=w,L=e.canvasWidth,z=e.canvasHeight),W.setTransform(1,0,0,1,0,0),V==="motionBlur"?S(W,0,0,L,z):!n&&(V===void 0||V)&&W.clearRect(0,0,L,z),a||(W.translate(H.x,H.y),W.scale(D,D)),o&&W.translate(o.x,o.y),s&&W.scale(s,s)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var x=e.data.bufferContexts[e.TEXTURE_BUFFER];x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:x,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var k=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var C=l.contexts[e.NODE],I=e.textureCache.texture,k=e.textureCache.viewport;C.setTransform(1,0,0,1,0,0),h?S(C,0,0,k.width,k.height):C.clearRect(0,0,k.width,k.height);var R=y.core("outside-texture-bg-color").value,M=y.core("outside-texture-bg-opacity").value;e.colorFillStyle(C,R[0],R[1],R[2],M),C.fillRect(0,0,k.width,k.height);var b=r.zoom();_(C,!1),C.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/u,k.height/k.zoom/u),C.drawImage(I,k.mpan.x,k.mpan.y,k.width/k.zoom/u,k.height/k.zoom/u)}else e.textureOnViewport&&!n&&(e.textureCache=null);var N=r.extent(),F=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),q=e.hideEdgesOnViewport&&F,j=[];if(j[e.NODE]=!c[e.NODE]&&h&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,j[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),j[e.DRAG]=!c[e.DRAG]&&h&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,j[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||j[e.NODE]){var U=h&&!j[e.NODE]&&d!==1,C=n||(U?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),X=h&&!U?"motionBlur":void 0;_(C,X),q?e.drawCachedNodes(C,P.nondrag,u,N):e.drawLayeredElements(C,P.nondrag,u,N),e.debug&&e.drawDebugPoints(C,P.nondrag),!a&&!h&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||j[e.DRAG])){var U=h&&!j[e.DRAG]&&d!==1,C=n||(U?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);_(C,h&&!U?"motionBlur":void 0),q?e.drawCachedNodes(C,P.drag,u,N):e.drawCachedElements(C,P.drag,u,N),e.debug&&e.drawDebugPoints(C,P.drag),!a&&!h&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,_),h&&d!==1){var Y=l.contexts[e.NODE],Z=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],K=l.contexts[e.DRAG],G=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],$=function(V,H,D){V.setTransform(1,0,0,1,0,0),D||!m?V.clearRect(0,0,e.canvasWidth,e.canvasHeight):S(V,0,0,e.canvasWidth,e.canvasHeight);var L=d;V.drawImage(H,0,0,e.canvasWidth*L,e.canvasHeight*L,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||j[e.NODE])&&($(Y,Z,j[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||j[e.DRAG])&&($(K,G,j[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=k,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),h&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},B_)),n||r.emit("render")};var Za;Ht.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,u=a.canvasNeedsRedraw,l=t.forcedContext;if(r.showFps||!s&&u[r.SELECT_BOX]&&!o){var c=l||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),h=i.core("selection-box-border-width").value/f;c.lineWidth=h,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),h>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),d=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var g=Math.round(1e3/v),p="1 frame = "+v+" ms = "+g+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Za){var m=c.measureText(p);Za=m.actualBoundingBoxAscent}c.fillText(p,0,Za);var y=60;c.strokeRect(0,Za+10,250,20),c.fillRect(0,Za+10,250*Math.min(g/y,1),20)}o||(u[r.SELECT_BOX]=!1)}};function hv(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function D_(t,e,r){var n=hv(t,t.VERTEX_SHADER,e),a=hv(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function R_(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function Zc(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function I_(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function M_(t,e,r,n,a){var i=n*r+e.x,s=a*r+e.y;return s=Math.round(t.canvasHeight-s),[i,s]}function L_(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function O_(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Bn(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=a*s,o[2]=i*s,o[3]=s,o}function ua(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function N_(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function F_(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function Ny(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function Fy(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function z_(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function q_(t,e,r,n){var a=Ny(t,e),i=gt(a,2),s=i[0],o=i[1],u=Fy(t,o,n),l=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,u,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),l}function yr(t,e,r,n){var a=Ny(t,r),i=gt(a,3),s=i[0],o=i[1],u=i[2],l=Fy(t,o,e*s),c=s*u,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,c,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var h=new Array(e),d=0;d<e;d++)h[d]=z_(t,o,l,c,s,d);return f.dataArray=l,f.stride=c,f.size=s,f.getView=function(v){return h[v]},f.setPoint=function(v,g,p){var m=h[v];m[0]=g,m[1]=p},f.bufferSubData=function(v){t.bindBuffer(t.ARRAY_BUFFER,f),v?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,v*s):t.bufferSubData(t.ARRAY_BUFFER,0,l)},f}function V_(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),s=0;s<e;s++){var o=s*n*4;i[s]=new Float32Array(a.buffer,o,n)}var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=r+l;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,l*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),u.getMatrixView=function(f){return i[f]},u.setData=function(f,h){i[h].set(f,0)},u.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferSubData(t.ARRAY_BUFFER,0,a)},u}function G_(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var dv=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function xl(){var t=new dv(9);return dv!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function vv(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function H_(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1],v=r[2],g=r[3],p=r[4],m=r[5],y=r[6],b=r[7],w=r[8];return t[0]=h*n+d*s+v*l,t[1]=h*a+d*o+v*c,t[2]=h*i+d*u+v*f,t[3]=g*n+p*s+m*l,t[4]=g*a+p*o+m*c,t[5]=g*i+p*u+m*f,t[6]=y*n+b*s+w*l,t[7]=y*a+b*o+w*c,t[8]=y*i+b*u+w*f,t}function Ms(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=u,t[6]=h*n+d*s+l,t[7]=h*a+d*o+c,t[8]=h*i+d*u+f,t}function gv(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*s,t[1]=d*a+h*o,t[2]=d*i+h*u,t[3]=d*s-h*n,t[4]=d*o-h*a,t[5]=d*u-h*i,t[6]=l,t[7]=c,t[8]=f,t}function ic(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function j_(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var W_=function(){function t(e,r,n,a){xn(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return En(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,s=this.texSize,o=i/a,u=n*o,l=a*o;return u>s&&(o=s/n,u=n*o,l=a*o),{scale:o,texW:u,texH:l}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,u=this.texHeight,l=this.getScale(n),c=l.scale,f=l.texW,h=l.texH,d=function(b,w){if(a&&w){var B=w.context,T=b.x,k=b.row,A=T,E=u*k;B.save(),B.translate(A,E),B.scale(c,c),a(B,n),B.restore()}},v=[null,null],g=function(){d(i.freePointer,i.canvas),v[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:f,h},v[1]={x:i.freePointer.x+f,y:i.freePointer.row*u,w:0,h},i.freePointer.x+=f,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},p=function(){var b=i.scratch,w=i.canvas;b.clear(),d({x:0,row:0},b);var B=s-i.freePointer.x,T=f-B,k=u;{var A=i.freePointer.x,E=i.freePointer.row*u,P=B;w.context.drawImage(b,0,0,P,k,A,E,P,k),v[0]={x:A,y:E,w:P,h}}{var S=B,_=(i.freePointer.row+1)*u,x=T;w&&w.context.drawImage(b,S,0,x,k,0,_,x,k),v[1]={x:0,y:_,w:x,h}}i.freePointer.x=T,i.freePointer.row++},m=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+f<=s)g();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(m(),g()):this.enableWrapping?p():(m(),g())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),s=i.texW;return this.freePointer.x+s>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=F_(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),U_=function(){function t(e,r,n,a){xn(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return En(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new W_(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,s=Math.floor(n/a);this.scratch=i(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,s=null,o=Kt(this.atlases),u;try{var l=function(){var f=u.value,h=f.getKeys(),d=Q_(n,h);if(d.size===0)return a.push(f),h.forEach(function(B){return i.set(B,f)}),1;s||(s=r._createAtlas(),a.push(s));var v=Kt(h),g;try{for(v.s();!(g=v.n()).done;){var p=g.value;if(!d.has(p)){var m=f.getOffsets(p),y=gt(m,2),b=y[0],w=y[1];s.canFit({w:b.w+w.w,h:b.h})||(s.lock(),s=r._createAtlas(),a.push(s)),f.canvas&&(r._copyTextureToNewAtlas(p,f,s),i.set(p,s))}}}catch(B){v.e(B)}finally{v.f()}f.dispose()};for(o.s();!(u=o.n()).done;)l()}catch(c){o.e(c)}finally{o.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),s=gt(i,2),o=s[0],u=s[1];if(u.w===0)a.draw(r,o,function(h){h.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,o.w,0,u.w,u.h);var c=o.w+u.w,f=o.h;a.draw(r,{w:c,h:f},function(h){h.drawImage(l,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function Q_(t,e){return t.intersection?t.intersection(e):new Set(js(t).filter(function(r){return e.has(r)}))}var $_=function(){function t(e,r){xn(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return En(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,s=a.createTextureCanvas,o=n.texRows,u=this._cacheScratchCanvas(s),l=new U_(this.r,i,o,u);this.collections.set(r,l)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),s=Ce({type:r,atlasCollection:i},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(s,o,u,l){return l?((!i||o!=n||u!=a)&&(n=o,a=u,i=r(s,o,u)),i):r(s,o,u)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,s=i===void 0?!1:i,o=a.filterEle,u=o===void 0?function(){return!0}:o,l=a.filterType,c=l===void 0?function(){return!0}:l,f=!1,h=!1,d=Kt(r),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(u(g)){var p=Kt(this.renderTypes.values()),m;try{var y=function(){var w=m.value,B=w.type;if(c(B)){var T=n.collections.get(w.collection),k=w.getKey(g),A=Array.isArray(k)?k:[k];if(s)A.forEach(function(_){return T.markKeyForGC(_)}),h=!0;else{var E=w.getID?w.getID(g):g.id(),P=n._key(B,E),S=n.typeAndIdToKey.get(P);S!==void 0&&!O_(A,S)&&(f=!0,n.typeAndIdToKey.delete(P),S.forEach(function(_){return T.markKeyForGC(_)}))}}};for(p.s();!(m=p.n()).done;)y()}catch(b){p.e(b)}finally{p.f()}}}}catch(b){d.e(b)}finally{d.f()}return h&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var r=Kt(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var s=this.renderTypes.get(n),o=this.collections.get(s.collection),u=!1,l=o.draw(i,a,function(h){s.drawClipped?(h.save(),h.beginPath(),h.rect(0,0,a.w,a.h),h.clip(),s.drawElement(h,r,a,!0,!0),h.restore()):s.drawElement(h,r,a,!0,!0),u=!0});if(u){var c=s.getID?s.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(i):this.typeAndIdToKey.set(f,[i])}return l}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),s=i.getKey(r),o=Array.isArray(s)?s:[s];return o.map(function(u){var l=i.getBoundingBox(r,u),c=a.getOrCreateAtlas(r,n,l,u),f=c.getOffsets(u),h=gt(f,2),d=h[0],v=h[1];return{atlas:c,tex:d,tex1:d,tex2:v,bb:l}})}},{key:"getDebugInfo",value:function(){var r=[],n=Kt(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=gt(a.value,2),s=i[0],o=i[1],u=o.getCounts(),l=u.keyCount,c=u.atlasCount;r.push({type:s,keyCount:l,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),K_=function(){function t(e){xn(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return En(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),Y_=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,X_=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,Z_=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,J_=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,yi={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},ro={IGNORE:1,USE_BB:2},El=0,pv=1,mv=2,Al=3,la=4,ps=5,Ja=6,ei=7,eS=function(){function t(e,r,n){xn(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=R_,this.atlasManager=new $_(e,n),this.batchManager=new K_(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(yi.SCREEN),this.pickingProgram=this._createShaderProgram(yi.PICKING),this.vao=this._createVAO()}return En(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(o){return o===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(El,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(la," || aVertType == ").concat(ei,` 
             || aVertType == `).concat(ps," || aVertType == ").concat(Ja,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(pv,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(mv,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Al,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(Y_,`
      `).concat(X_,`
      `).concat(Z_,`
      `).concat(J_,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(El,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Al,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(la,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(la," || vVertType == ").concat(ei,` 
          || vVertType == `).concat(ps," || vVertType == ").concat(Ja,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(la,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(ei,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(ei,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=D_(n,a,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.aCornerRadius=n.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=n.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uZoom=n.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(u)));return o}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,s=a.createVertexArray();return a.bindVertexArray(s),q_(a,"vec2",i.aPosition,r),this.transformBuffer=V_(a,n,i.aTransform),this.indexBuffer=yr(a,n,"vec4",i.aIndex),this.vertTypeBuffer=yr(a,n,"int",i.aVertType),this.atlasIdBuffer=yr(a,n,"int",i.aAtlasId),this.texBuffer=yr(a,n,"vec4",i.aTex),this.pointAPointBBuffer=yr(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=yr(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=yr(a,n,"vec2",i.aLineWidth),this.colorBuffer=yr(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=yr(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=yr(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,s=this.batchManager,o=i.getRenderTypeOpts(a);if(this._isVisible(r,o)){if(this.renderTarget.picking&&o.getTexPickingMode){var u=o.getTexPickingMode(r);if(u===ro.IGNORE)return;if(u==ro.USE_BB){this.drawPickingRectangle(r,n,a);return}}var l=i.getAtlasInfo(r,a),c=Kt(l),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,d=h.atlas,v=h.tex1,g=h.tex2;s.canAddToCurrentBatch(d)||this.endBatch();for(var p=s.getAtlasIndexForBatch(d),m=0,y=[[v,!0],[g,!1]];m<y.length;m++){var b=gt(y[m],2),w=b[0],B=b[1];if(w.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=El;var k=this.indexBuffer.getView(T);ua(n,k);var A=this.atlasIdBuffer.getView(T);A[0]=p;var E=this.texBuffer.getView(T);E[0]=w.x,E[1]=w.y,E[2]=w.w,E[3]=w.h;var P=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,P,o,h,B),this.instanceCount++,B||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(S){c.e(S)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(a.shapeProps&&a.shapeProps.padding&&(o=r.pstyle(a.shapeProps.padding).pfValue),i){var u=i.bb,l=i.tex1,c=i.tex2,f=l.w/(l.w+c.w);s||(f=1-f);var h=this._getAdjustedBB(u,o,s,f);this._applyTransformMatrix(n,h,a,r)}else{var d=a.getBoundingBox(r),v=this._getAdjustedBB(d,o,!0,1);this._applyTransformMatrix(n,v,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var s,o;vv(r);var u=a.getRotation?a.getRotation(i):0;if(u!==0){var l=a.getRotationPoint(i),c=l.x,f=l.y;Ms(r,r,[c,f]),gv(r,r,u);var h=a.getRotationOffset(i);s=h.x+(n.xOffset||0),o=h.y+(n.yOffset||0)}else s=n.x1,o=n.y1;Ms(r,r,[s,o]),ic(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var s=r.x1,o=r.y1,u=r.w,l=r.h,c=r.yOffset;n&&(s-=n,o-=n,u+=2*n,l+=2*n);var f=0,h=u*i;return a&&i<1?u=h:!a&&i<1&&(f=u-h,s+=f,u=h),{x1:s,y1:o,w:u,h:l,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=la;var o=this.indexBuffer.getView(s);ua(n,o);var u=this.colorBuffer.getView(s);Bn([0,0,0],1,u);var l=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,l,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var s=i.shapeProps,o=this._getVertTypeForShape(r,s.shape);if(o===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=o,o===ps||o===Ja){var l=i.getBoundingBox(r),c=this._getCornerRadius(r,s.radius,l),f=this.cornerRadiusBuffer.getView(u);f[0]=c,f[1]=c,f[2]=c,f[3]=c,o===Ja&&(f[0]=0,f[2]=0)}var h=this.indexBuffer.getView(u);ua(n,h);var d=r.pstyle(s.color).value,v=r.pstyle(s.opacity).value,g=this.colorBuffer.getView(u);Bn(d,v,g);var p=this.lineWidthBuffer.getView(u);if(p[0]=0,p[1]=0,s.border){var m=r.pstyle("border-width").value;if(m>0){var y=r.pstyle("border-color").value,b=r.pstyle("border-opacity").value,w=this.borderColorBuffer.getView(u);Bn(y,b,w);var B=r.pstyle("border-position").value;if(B==="inside")p[0]=0,p[1]=-m;else if(B==="outside")p[0]=m,p[1]=0;else{var T=m/2;p[0]=T,p[1]=-T}}}var k=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(r,k,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return la;case"ellipse":return ei;case"roundrectangle":case"round-rectangle":return ps;case"bottom-round-rectangle":return Ja;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,s=a.h;if(r.pstyle(n).value==="auto")return hn(i,s);var o=r.pstyle(n).pfValue,u=i/2,l=s/2;return Math.min(o,l,u)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,s,o,u;if(a==="source"?(s=i.arrowStartX,o=i.arrowStartY,u=i.srcArrowAngle):(s=i.arrowEndX,o=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(u)||u==null)){var l=r.pstyle(a+"-arrow-shape").value;if(l!=="none"){var c=r.pstyle(a+"-arrow-color").value,f=r.pstyle("opacity").value,h=r.pstyle("line-opacity").value,d=f*h,v=r.pstyle("width").pfValue,g=r.pstyle("arrow-scale").value,p=this.r.getArrowWidth(v,g),m=this.instanceCount,y=this.transformBuffer.getMatrixView(m);vv(y),Ms(y,y,[s,o]),ic(y,y,[p,p]),gv(y,y,u),this.vertTypeBuffer.getView(m)[0]=Al;var b=this.indexBuffer.getView(m);ua(n,b);var w=this.colorBuffer.getView(m);Bn(c,d,w),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,l=i*s;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=pv;var f=this.indexBuffer.getView(c);ua(n,f);var h=this.colorBuffer.getView(c);Bn(u,l,h);var d=this.lineWidthBuffer.getView(c);d[0]=o;var v=this.pointAPointBBuffer.getView(c);v[0]=a[0],v[1]=a[1],v[2]=a[2],v[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var g=0;g<a.length-2;g+=2){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=mv;var m=this.indexBuffer.getView(p);ua(n,m);var y=this.colorBuffer.getView(p);Bn(u,l,y);var b=this.lineWidthBuffer.getView(p);b[0]=o;var w=a[g-2],B=a[g-1],T=a[g],k=a[g+1],A=a[g+2],E=a[g+3],P=a[g+4],S=a[g+5];g==0&&(w=2*T-A+.001,B=2*k-E+.001),g==a.length-4&&(P=2*A-T+.001,S=2*E-k+.001);var _=this.pointAPointBBuffer.getView(p);_[0]=w,_[1]=B,_[2]=T,_[3]=k;var x=this.pointCPointDBuffer.getView(p);x[0]=A,x[1]=E,x[2]=P,x[3]=S,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var s=i/n;this._setCurvePoint(r,s,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var u=(1-n)*r[o]+n*r[o+2],l=(1-n)*r[o+1]+n*r[o+3];s[o]=u,s[o+1]=l}return this._setCurvePoint(s,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=Kt(this.buffers),u;try{for(o.s();!(u=o.n()).done;){var l=u.value;l.bufferSubData(i)}}catch(v){o.e(v)}finally{o.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var h=0;h<c.length;h++)r.activeTexture(r.TEXTURE0+h),r.bindTexture(r.TEXTURE_2D,c[h].texture),r.uniform1i(s.uTextures[h],h);r.uniform1f(s.uZoom,I_(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var d=Bn(this.bgColor,1);r.uniform4fv(s.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),zy={};zy.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=tS(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=G_(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new eS(r,n,t);var a=function(f){return function(h){return r.getTextAngle(h,f)}},i=function(f){return function(h){var d=h.pstyle(f);return d&&d.value}},s=function(f){return function(h){return h.pstyle("".concat(f,"-opacity")).value>0}},o=function(f){var h=f.pstyle("text-events").strValue==="yes";return h?ro.USE_BB:ro.IGNORE},u=function(f){var h=f.position(),d=h.x,v=h.y,g=f.outerWidth(),p=f.outerHeight();return{w:g,h:p,x1:d-g/2,y1:v-p/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:L_,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:Cl(e.getLabelKey,null),getBoundingBox:_l(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:Cl(e.getSourceLabelKey,"source"),getBoundingBox:_l(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:Cl(e.getTargetLabelKey,"target"),getBoundingBox:_l(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var l=Hi(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,f){var h=!1;f&&f.length>0&&(h|=r.drawing.invalidate(f)),h&&l()}),rS(r)};function tS(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return gm(r)}function qy(t,e){var r=t._private.rscratch;return Qt(r,"labelWrapCachedLines",e)||[]}var Cl=function(e,r){return function(n){var a=e(n),i=qy(n,r);return i.length>1?i.map(function(s,o){return"".concat(a,"_").concat(o)}):a}},_l=function(e,r){return function(n,a){var i=e(n);if(typeof a=="string"){var s=a.indexOf("_");if(s>0){var o=Number(a.substring(s+1)),u=qy(n,r),l=i.h/u.length,c=l*o,f=i.y1+c;return{x1:i.x1,w:i.w,y1:f,h:l,yOffset:c}}}return i}};function rS(t){{var e=t.render;t.render=function(i){i=i||{};var s=t.cy;t.webgl&&(s.zoom()>Ry?(nS(t),e.call(t,i)):(aS(t),Gy(t,i,yi.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,s,o,u){return cS(t,i,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,s){a.call(t,i,s),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function nS(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function aS(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function iS(t){var e=t.canvasWidth,r=t.canvasHeight,n=Zc(t),a=n.pan,i=n.zoom,s=xl();Ms(s,s,[a.x,a.y]),ic(s,s,[i,i]);var o=xl();j_(o,e,r);var u=xl();return H_(u,o,s),u}function Vy(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=Zc(t),i=a.pan,s=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(s,s)}function sS(t,e){t.drawSelectionRectangle(e,function(r){return Vy(t,r)})}function oS(t){var e=t.data.contexts[t.NODE];e.save(),Vy(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function uS(t){var e=function(a,i,s){for(var o=a.atlasManager.getAtlasCollection(i),u=t.data.contexts[t.NODE],l=o.atlases,c=0;c<l.length;c++){var f=l[c],h=f.canvas;if(h){var d=h.width,v=h.height,g=d*c,p=h.height*s,m=.4;u.save(),u.scale(m,m),u.drawImage(h,g,p),u.strokeStyle="black",u.rect(g,p,d,v),u.stroke(),u.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function lS(t,e,r,n,a){var i,s,o,u,l=Zc(t),c=l.pan,f=l.zoom;{var h=M_(t,c,f,e,r),d=gt(h,2),v=d[0],g=d[1],p=6;i=v-p/2,s=g-p/2,o=p,u=p}if(o===0||u===0)return[];var m=t.data.contexts[t.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),Gy(t,null,yi.PICKING),t.pickingFrameBuffer.needsDraw=!1);var y=o*u,b=new Uint8Array(y*4);m.readPixels(i,s,o,u,m.RGBA,m.UNSIGNED_BYTE,b),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var w=new Set,B=0;B<y;B++){var T=b.slice(B*4,B*4+4),k=N_(T)-1;k>=0&&w.add(k)}return w}function cS(t,e,r){var n=lS(t,e,r),a=t.getCachedZSortedEles(),i,s,o=Kt(n),u;try{for(o.s();!(u=o.n()).done;){var l=u.value,c=a[l];if(!i&&c.isNode()&&(i=c),!s&&c.isEdge()&&(s=c),i&&s)break}}catch(f){o.e(f)}finally{o.f()}return[i,s].filter(Boolean)}function Sl(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function Gy(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&sS(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=iS(t),u=t.getCachedZSortedEles();if(i=u.length,a.startFrame(o,r),r.screen){for(var l=0;l<u.nondrag.length;l++)Sl(t,l,u.nondrag[l]);for(var c=0;c<u.drag.length;c++)Sl(t,c,u.drag[c])}else if(r.picking)for(var f=0;f<u.length;f++)Sl(t,f,u[f]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&(oS(t),uS(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var h=performance.now(),d=!1,v=Math.ceil(h-n),g=a.getDebugInfo(),p=["".concat(i," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(p));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(p)),console.log("Texture Atlases Used:");var m=g.atlasInfo,y=Kt(m),b;try{for(y.s();!(b=y.n()).done;){var w=b.value;console.log("  ".concat(w.type,": ").concat(w.keyCount," keys, ").concat(w.atlasCount," atlases"))}}catch(B){y.e(B)}finally{y.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var _n={};_n.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+s*i[u*2],r+o*i[u*2+1]);t.closePath()};_n.drawRoundPolygonPath=function(t,e,r,n,a,i,s){s.forEach(function(o){return Ay(t,o)}),t.closePath()};_n.drawRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?hn(n,a):Math.min(i,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,u),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.arcTo(e-s,r-o,e,r-o,u),t.lineTo(e,r-o),t.closePath()};_n.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?hn(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};_n.drawCutRectanglePath=function(t,e,r,n,a,i,s){var o=n/2,u=a/2,l=s==="auto"?Fc():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+l,r-u),t.lineTo(e+o-l,r-u),t.lineTo(e+o,r-u+l),t.lineTo(e+o,r+u-l),t.lineTo(e+o-l,r+u),t.lineTo(e-o+l,r+u),t.lineTo(e-o,r+u-l),t.lineTo(e-o,r-u+l),t.closePath()};_n.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,u=e+i,l=r-s,c=r+s,f=Wl(n,a),h=f.widthOffset,d=f.heightOffset,v=f.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(o,l+d),t.lineTo(o,c-d),t.quadraticCurveTo(o+v,c,o+h,c),t.lineTo(u-h,c),t.quadraticCurveTo(u-v,c,u,c-d),t.lineTo(u,l+d),t.quadraticCurveTo(u-v,l,u-h,l),t.lineTo(o+h,l),t.quadraticCurveTo(o+v,l,o,l+d),t.closePath()};var yv=Math.sin(0),bv=Math.cos(0),sc={},oc={},Hy=Math.PI/40;for(var ca=0*Math.PI;ca<2*Math.PI;ca+=Hy)sc[ca]=Math.sin(ca),oc[ca]=Math.cos(ca);_n.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Hy)i=e-o*sc[l]*yv+o*oc[l]*bv,s=r+u*oc[l]*yv+u*sc[l]*bv,l===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var Ki={};Ki.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Ki.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=pe(t.maxWidth)||pe(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,l=t.scale;else if(o){var c=1/0,f=1/0;pe(t.maxWidth)&&(c=l*t.maxWidth/i),pe(t.maxHeight)&&(f=l*t.maxHeight/s),l=Math.min(c,f),i*=l,s*=l}o||(i*=u,s*=u,l*=u);var h=document.createElement("canvas");h.width=i,h.height=s,h.style.width=i+"px",h.style.height=s+"px";var d=h.getContext("2d");if(i>0&&s>0){d.clearRect(0,0,i,s),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var g=e.pan(),p={x:g.x*l,y:g.y*l};l*=e.zoom(),d.translate(p.x,p.y),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(-p.x,-p.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,i,s),d.fill())}return h};function fS(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function wv(t){var e=t.indexOf(",");return t.substr(e+1)}function jy(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Na(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return fS(wv(n()),r);case"base64":return wv(n());case"base64uri":default:return n()}}Ki.png=function(t){return jy(t,this.bufferCanvasImage(t),"image/png")};Ki.jpg=function(t){return jy(t,this.bufferCanvasImage(t),"image/jpeg")};var Wy={};Wy.nodeShapeImpl=function(t,e,r,n,a,i,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,o);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var hS=Uy,Me=Uy.prototype;Me.CANVAS_LAYERS=3;Me.SELECT_BOX=0;Me.DRAG=1;Me.NODE=2;Me.WEBGL=3;Me.CANVAS_TYPES=["2d","2d","2d","webgl2"];Me.BUFFER_COUNT=3;Me.TEXTURE_BUFFER=0;Me.MOTIONBLUR_BUFFER_NODE=1;Me.MOTIONBLUR_BUFFER_DRAG=2;function Uy(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Me.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Me.CANVAS_LAYERS),contexts:new Array(Me.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Me.CANVAS_LAYERS),bufferCanvases:new Array(Me.BUFFER_COUNT),bufferContexts:new Array(Me.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};cx()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Me.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas"),f=Me.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(f),e.data.contexts[l]||it("Could not create canvas of type "+f),Object.keys(u).forEach(function(W){c.style[W]=u[W]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Me.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Me.NODE].setAttribute("data-id","layer"+Me.NODE+"-node"),e.data.canvases[Me.SELECT_BOX].setAttribute("data-id","layer"+Me.SELECT_BOX+"-selectbox"),e.data.canvases[Me.DRAG].setAttribute("data-id","layer"+Me.DRAG+"-drag"),e.data.canvases[Me.WEBGL]&&e.data.canvases[Me.WEBGL].setAttribute("data-id","layer"+Me.WEBGL+"-webgl");for(var l=0;l<Me.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var h=Yt(),d=function(V){return{x:(V.x1+V.x2)/2,y:(V.y1+V.y2)/2}},v=function(V){return{x:-V.w/2,y:-V.h/2}},g=function(V){var H=V[0]._private,D=H.oldBackgroundTimestamp===H.backgroundTimestamp;return!D},p=function(V){return V[0]._private.nodeKey},m=function(V){return V[0]._private.labelStyleKey},y=function(V){return V[0]._private.sourceLabelStyleKey},b=function(V){return V[0]._private.targetLabelStyleKey},w=function(V,H,D,L,z){return e.drawElement(V,H,D,!1,!1,z)},B=function(V,H,D,L,z){return e.drawElementText(V,H,D,L,"main",z)},T=function(V,H,D,L,z){return e.drawElementText(V,H,D,L,"source",z)},k=function(V,H,D,L,z){return e.drawElementText(V,H,D,L,"target",z)},A=function(V){return V.boundingBox(),V[0]._private.bodyBounds},E=function(V){return V.boundingBox(),V[0]._private.labelBounds.main||h},P=function(V){return V.boundingBox(),V[0]._private.labelBounds.source||h},S=function(V){return V.boundingBox(),V[0]._private.labelBounds.target||h},_=function(V,H){return H},x=function(V){return d(A(V))},C=function(V,H,D){var L=V?V+"-":"";return{x:H.x+D.pstyle(L+"text-margin-x").pfValue,y:H.y+D.pstyle(L+"text-margin-y").pfValue}},I=function(V,H,D){var L=V[0]._private.rscratch;return{x:L[H],y:L[D]}},R=function(V){return C("",I(V,"labelX","labelY"),V)},M=function(V){return C("source",I(V,"sourceLabelX","sourceLabelY"),V)},N=function(V){return C("target",I(V,"targetLabelX","targetLabelY"),V)},F=function(V){return v(A(V))},q=function(V){return v(P(V))},j=function(V){return v(S(V))},U=function(V){var H=E(V),D=v(E(V));if(V.isNode()){switch(V.pstyle("text-halign").value){case"left":D.x=-H.w-(H.leftPad||0);break;case"right":D.x=-(H.rightPad||0);break}switch(V.pstyle("text-valign").value){case"top":D.y=-H.h-(H.topPad||0);break;case"bottom":D.y=-(H.botPad||0);break}}return D},X=e.data.eleTxrCache=new oi(e,{getKey:p,doesEleInvalidateKey:g,drawElement:w,getBoundingBox:A,getRotationPoint:x,getRotationOffset:F,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Y=e.data.lblTxrCache=new oi(e,{getKey:m,drawElement:B,getBoundingBox:E,getRotationPoint:R,getRotationOffset:U,isVisible:_}),Z=e.data.slbTxrCache=new oi(e,{getKey:y,drawElement:T,getBoundingBox:P,getRotationPoint:M,getRotationOffset:q,isVisible:_}),K=e.data.tlbTxrCache=new oi(e,{getKey:b,drawElement:k,getBoundingBox:S,getRotationPoint:N,getRotationOffset:j,isVisible:_}),G=e.data.lyrTxrCache=new Iy(e);e.onUpdateEleCalcs(function(V,H){X.invalidateElements(H),Y.invalidateElements(H),Z.invalidateElements(H),K.invalidateElements(H),G.invalidateElements(H);for(var D=0;D<H.length;D++){var L=H[D]._private;L.oldBackgroundTimestamp=L.backgroundTimestamp}});var $=function(V){for(var H=0;H<V.length;H++)G.enqueueElementRefinement(V[H].ele)};X.onDequeue($),Y.onDequeue($),Z.onDequeue($),K.onDequeue($),t.webgl&&e.initWebgl(t,{getStyleKey:p,getLabelKey:m,getSourceLabelKey:y,getTargetLabelKey:b,drawElement:w,drawLabel:B,drawSourceLabel:T,drawTargetLabel:k,getElementBox:A,getLabelBox:E,getSourceLabelBox:P,getTargetLabelBox:S,getElementRotationPoint:x,getElementRotationOffset:F,getLabelRotationPoint:R,getSourceLabelRotationPoint:M,getTargetLabelRotationPoint:N,getLabelRotationOffset:U,getSourceLabelRotationOffset:q,getTargetLabelRotationOffset:j})}Me.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Me.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Me.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Me.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var dS=typeof Path2D<"u";Me.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Me.usePaths=function(){return dS&&this.pathsEnabled};Me.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Me.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Me.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":mt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[My,kr,Wr,Xc,ea,Cn,Ht,zy,_n,Ki,Wy].forEach(function(t){Ce(Me,t)});var vS=[{name:"null",impl:wy},{name:"base",impl:By},{name:"canvas",impl:hS}],gS=[{type:"layout",extensions:V2},{type:"renderer",extensions:vS}],Qy={},$y={};function Ky(t,e,r){var n=r,a=function(A){Ue("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Mi.prototype[e])return a(e);Mi.prototype[e]=r}else if(t==="collection"){if(Tt.prototype[e])return a(e);Tt.prototype[e]=r}else if(t==="layout"){for(var i=function(A){this.options=A,r.call(this,A),qe(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var l=o[u];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var k=this.options;if(k&&k.animate){var A=this.animations;if(A)for(var E=0;E<A.length;E++)A[E].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(A){return A._private.cy},h={addEventFields:function(A,E){E.layout=A,E.cy=f(A),E.target=A},bubble:function(){return!0},parent:function(A){return f(A)}};Ce(s,{createEmitter:function(){return this._private.emitter=new ko(h,this),this},emitter:function(){return this._private.emitter},on:function(A,E){return this.emitter().on(A,E),this},one:function(A,E){return this.emitter().one(A,E),this},once:function(A,E){return this.emitter().one(A,E),this},removeListener:function(A,E){return this.emitter().removeListener(A,E),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,E){return this.emitter().emit(A,E),this}}),We.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=Yy("renderer","base"),v=d.prototype,g=r,p=r.prototype,m=function(){d.apply(this,arguments),g.apply(this,arguments)},y=m.prototype;for(var b in v){var w=v[b],B=p[b]!=null;if(B)return a(b);y[b]=w}for(var T in p)y[T]=p[T];v.clientFunctions.forEach(function(k){y[k]=y[k]||function(){it("Renderer does not implement `renderer."+k+"()` on its prototype")}}),n=m}else if(t==="__proto__"||t==="constructor"||t==="prototype")return it(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return pm({map:Qy,keys:[t,e],value:n})}function Yy(t,e){return mm({map:Qy,keys:[t,e]})}function pS(t,e,r,n,a){return pm({map:$y,keys:[t,e,r,n],value:a})}function mS(t,e,r,n){return mm({map:$y,keys:[t,e,r,n]})}var uc=function(){if(arguments.length===2)return Yy.apply(null,arguments);if(arguments.length===3)return Ky.apply(null,arguments);if(arguments.length===4)return mS.apply(null,arguments);if(arguments.length===5)return pS.apply(null,arguments);it("Invalid extension access syntax")};Mi.prototype.extension=uc;gS.forEach(function(t){t.extensions.forEach(function(e){Ky(t.type,e.name,e.impl)})});var no=function(){if(!(this instanceof no))return new no;this.length=0},Xn=no.prototype;Xn.instanceString=function(){return"stylesheet"};Xn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Xn.css=function(t,e){var r=this.length-1;if(Ae(t))this[r].properties.push({name:t,value:e});else if(qe(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var u=xt.properties[s]||xt.properties[yo(s)];if(u!=null){var l=u.name,c=o;this[r].properties.push({name:l,value:c})}}}return this};Xn.style=Xn.css;Xn.generateStyle=function(t){var e=new xt(t);return this.appendToStyle(e)};Xn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var yS="3.32.0",pn=function(e){if(e===void 0&&(e={}),qe(e))return new Mi(e);if(Ae(e))return uc.apply(uc,arguments)};pn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(pn),t.apply(null,e),this};pn.warnings=function(t){return Cm(t)};pn.version=yS;pn.stylesheet=pn.Stylesheet=no;function bS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ls={exports:{}},Tl={},Dn={},kl={},Ir={},xv;function Xy(){if(xv)return Ir;xv=1,Object.defineProperty(Ir,"__esModule",{value:!0});var t=function(){function u(l,c,f){this.source=l,this.target=c,this.type=f}return u}();Ir.PowerEdge=t;var e=function(){function u(l,c,f,h){var d=this;if(this.linkAccessor=f,this.modules=new Array(l),this.roots=[],h)this.initModulesFromGroup(h);else{this.roots.push(new i);for(var v=0;v<l;++v)this.roots[0].add(this.modules[v]=new n(v))}this.R=c.length,c.forEach(function(g){var p=d.modules[f.getSourceIndex(g)],m=d.modules[f.getTargetIndex(g)],y=f.getType(g);p.outgoing.add(y,m),m.incoming.add(y,p)})}return u.prototype.initModulesFromGroup=function(l){var c=new i;this.roots.push(c);for(var f=0;f<l.leaves.length;++f){var h=l.leaves[f],d=new n(h.id);this.modules[h.id]=d,c.add(d)}if(l.groups)for(var v=0;v<l.groups.length;++v){var g=l.groups[v],p={};for(var m in g)m!=="leaves"&&m!=="groups"&&g.hasOwnProperty(m)&&(p[m]=g[m]);c.add(new n(-1-v,new s,new s,this.initModulesFromGroup(g),p))}return c},u.prototype.merge=function(l,c,f){f===void 0&&(f=0);var h=l.incoming.intersection(c.incoming),d=l.outgoing.intersection(c.outgoing),v=new i;v.add(l),v.add(c);var g=new n(this.modules.length,d,h,v);this.modules.push(g);var p=function(m,y,b){m.forAll(function(w,B){w.forAll(function(T){var k=T[y];k.add(B,g),k.remove(B,l),k.remove(B,c),l[b].remove(B,T),c[b].remove(B,T)})})};return p(d,"incoming","outgoing"),p(h,"outgoing","incoming"),this.R-=h.count()+d.count(),this.roots[f].remove(l),this.roots[f].remove(c),this.roots[f].add(g),g},u.prototype.rootMerges=function(l){l===void 0&&(l=0);for(var c=this.roots[l].modules(),f=c.length,h=new Array(f*(f-1)),d=0,v=0,g=f-1;v<g;++v)for(var p=v+1;p<f;++p){var m=c[v],y=c[p];h[d]={id:d,nEdges:this.nEdges(m,y),a:m,b:y},d++}return h},u.prototype.greedyMerge=function(){for(var l=0;l<this.roots.length;++l)if(!(this.roots[l].modules().length<2)){var c=this.rootMerges(l).sort(function(h,d){return h.nEdges==d.nEdges?h.id-d.id:h.nEdges-d.nEdges}),f=c[0];if(!(f.nEdges>=this.R))return this.merge(f.a,f.b,l),!0}},u.prototype.nEdges=function(l,c){var f=l.incoming.intersection(c.incoming),h=l.outgoing.intersection(c.outgoing);return this.R-f.count()-h.count()},u.prototype.getGroupHierarchy=function(l){var c=this,f=[],h={};r(this.roots[0],h,f);var d=this.allEdges();return d.forEach(function(v){var g=c.modules[v.source],p=c.modules[v.target];l.push(new t(typeof g.gid>"u"?v.source:f[g.gid],typeof p.gid>"u"?v.target:f[p.gid],v.type))}),f},u.prototype.allEdges=function(){var l=[];return u.getEdges(this.roots[0],l),l},u.getEdges=function(l,c){l.forAll(function(f){f.getEdges(c),u.getEdges(f.children,c)})},u}();Ir.Configuration=e;function r(u,l,c){u.forAll(function(f){if(f.isLeaf())l.leaves||(l.leaves=[]),l.leaves.push(f.id);else{var h=l;if(f.gid=c.length,!f.isIsland()||f.isPredefined()){if(h={id:f.gid},f.isPredefined())for(var d in f.definition)h[d]=f.definition[d];l.groups||(l.groups=[]),l.groups.push(f.gid),c.push(h)}r(f.children,h,c)}})}var n=function(){function u(l,c,f,h,d){c===void 0&&(c=new s),f===void 0&&(f=new s),h===void 0&&(h=new i),this.id=l,this.outgoing=c,this.incoming=f,this.children=h,this.definition=d}return u.prototype.getEdges=function(l){var c=this;this.outgoing.forAll(function(f,h){f.forAll(function(d){l.push(new t(c.id,d.id,h))})})},u.prototype.isLeaf=function(){return this.children.count()===0},u.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},u.prototype.isPredefined=function(){return typeof this.definition<"u"},u}();Ir.Module=n;function a(u,l){var c={};for(var f in u)f in l&&(c[f]=u[f]);return c}var i=function(){function u(){this.table={}}return u.prototype.count=function(){return Object.keys(this.table).length},u.prototype.intersection=function(l){var c=new u;return c.table=a(this.table,l.table),c},u.prototype.intersectionCount=function(l){return this.intersection(l).count()},u.prototype.contains=function(l){return l in this.table},u.prototype.add=function(l){this.table[l.id]=l},u.prototype.remove=function(l){delete this.table[l.id]},u.prototype.forAll=function(l){for(var c in this.table)l(this.table[c])},u.prototype.modules=function(){var l=[];return this.forAll(function(c){c.isPredefined()||l.push(c)}),l},u}();Ir.ModuleSet=i;var s=function(){function u(){this.sets={},this.n=0}return u.prototype.count=function(){return this.n},u.prototype.contains=function(l){var c=!1;return this.forAllModules(function(f){!c&&f.id==l&&(c=!0)}),c},u.prototype.add=function(l,c){var f=l in this.sets?this.sets[l]:this.sets[l]=new i;f.add(c),++this.n},u.prototype.remove=function(l,c){var f=this.sets[l];f.remove(c),f.count()===0&&delete this.sets[l],--this.n},u.prototype.forAll=function(l){for(var c in this.sets)l(this.sets[c],Number(c))},u.prototype.forAllModules=function(l){this.forAll(function(c,f){return c.forAll(l)})},u.prototype.intersection=function(l){var c=new u;return this.forAll(function(f,h){if(h in l.sets){var d=f.intersection(l.sets[h]),v=d.count();v>0&&(c.sets[h]=d,c.n+=v)}}),c},u}();Ir.LinkSets=s;function o(u,l,c,f){for(var h=u.length,d=new e(h,l,c,f);d.greedyMerge(););var v=[],g=d.getGroupHierarchy(v);return v.forEach(function(p){var m=function(y){var b=p[y];typeof b=="number"&&(p[y]=u[b])};m("source"),m("target")}),{groups:g,powerEdges:v}}return Ir.getGroups=o,Ir}var Rn={},Ev;function Jc(){if(Ev)return Rn;Ev=1,Object.defineProperty(Rn,"__esModule",{value:!0});function t(u,l){var c={};for(var f in u)c[f]={};for(var f in l)c[f]={};return Object.keys(c).length}function e(u,l){var c=0;for(var f in u)typeof l[f]<"u"&&++c;return c}function r(u,l){var c={},f=function(h,d){typeof c[h]>"u"&&(c[h]={}),c[h][d]={}};return u.forEach(function(h){var d=l.getSourceIndex(h),v=l.getTargetIndex(h);f(d,v),f(v,d)}),c}function n(u,l,c,f){var h=r(u,f);u.forEach(function(d){var v=h[f.getSourceIndex(d)],g=h[f.getTargetIndex(d)];f.setLength(d,1+l*c(v,g))})}function a(u,l,c){c===void 0&&(c=1),n(u,c,function(f,h){return Math.sqrt(t(f,h)-e(f,h))},l)}Rn.symmetricDiffLinkLengths=a;function i(u,l,c){c===void 0&&(c=1),n(u,c,function(f,h){return Math.min(Object.keys(f).length,Object.keys(h).length)<1.1?0:e(f,h)/t(f,h)},l)}Rn.jaccardLinkLengths=i;function s(u,l,c,f){var h=o(u,l,f),d={};h.forEach(function(g,p){return g.forEach(function(m){return d[m]=p})});var v=[];return l.forEach(function(g){var p=f.getSourceIndex(g),m=f.getTargetIndex(g),y=d[p],b=d[m];y!==b&&v.push({axis:c,left:p,right:m,gap:f.getMinSeparation(g)})}),v}Rn.generateDirectedEdgeConstraints=s;function o(u,l,c){var f=[],h=0,d=[],v=[];function g(E){E.index=E.lowlink=h++,d.push(E),E.onStack=!0;for(var P=0,S=E.out;P<S.length;P++){var _=S[P];typeof _.index>"u"?(g(_),E.lowlink=Math.min(E.lowlink,_.lowlink)):_.onStack&&(E.lowlink=Math.min(E.lowlink,_.index))}if(E.lowlink===E.index){for(var x=[];d.length&&(_=d.pop(),_.onStack=!1,x.push(_),_!==E););v.push(x.map(function(C){return C.id}))}}for(var p=0;p<u;p++)f.push({id:p,out:[]});for(var m=0,y=l;m<y.length;m++){var b=y[m],w=f[c.getSourceIndex(b)],B=f[c.getTargetIndex(b)];w.out.push(B)}for(var T=0,k=f;T<k.length;T++){var A=k[T];typeof A.index>"u"&&g(A)}return v}return Rn.stronglyConnectedComponents=o,Rn}var fa={},Av;function ef(){if(Av)return fa;Av=1,Object.defineProperty(fa,"__esModule",{value:!0});var t=function(){function n(){this.locks={}}return n.prototype.add=function(a,i){this.locks[a]=i},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var a in this.locks)return!1;return!0},n.prototype.apply=function(a){for(var i in this.locks)a(Number(i),this.locks[i])},n}();fa.Locks=t;var e=function(){function n(a,i,s){s===void 0&&(s=null),this.D=i,this.G=s,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new r,this.project=null,this.x=a,this.k=a.length;var o=this.n=a[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new t,this.minD=Number.MAX_VALUE;for(var u=o,l;u--;)for(l=o;--l>u;){var c=i[u][l];c>0&&c<this.minD&&(this.minD=c)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),u=this.k;u--;){for(this.g[u]=new Array(o),this.H[u]=new Array(o),l=o;l--;)this.H[u][l]=new Array(o);this.Hd[u]=new Array(o),this.a[u]=new Array(o),this.b[u]=new Array(o),this.c[u]=new Array(o),this.d[u]=new Array(o),this.e[u]=new Array(o),this.ia[u]=new Array(o),this.ib[u]=new Array(o),this.xtmp[u]=new Array(o)}}return n.createSquareMatrix=function(a,i){for(var s=new Array(a),o=0;o<a;++o){s[o]=new Array(a);for(var u=0;u<a;++u)s[o][u]=i(o,u)}return s},n.prototype.offsetDir=function(){for(var a=this,i=new Array(this.k),s=0,o=0;o<this.k;++o){var u=i[o]=this.random.getNextBetween(.01,1)-.5;s+=u*u}return s=Math.sqrt(s),i.map(function(l){return l*=a.minD/s})},n.prototype.computeDerivatives=function(a){var i=this,s=this.n;if(!(s<1)){for(var o,u=new Array(this.k),l=new Array(this.k),c=new Array(this.k),f=0,h=0;h<s;++h){for(o=0;o<this.k;++o)c[o]=this.g[o][h]=0;for(var d=0;d<s;++d)if(h!==d){for(var v=s;v--;){var g=0;for(o=0;o<this.k;++o){var p=u[o]=a[o][h]-a[o][d];g+=l[o]=p*p}if(g>1e-9)break;var m=this.offsetDir();for(o=0;o<this.k;++o)a[o][d]+=m[o]}var y=Math.sqrt(g),b=this.D[h][d],w=this.G!=null?this.G[h][d]:1;if(w>1&&y>b||!isFinite(b)){for(o=0;o<this.k;++o)this.H[o][h][d]=0;continue}w>1&&(w=1);var B=b*b,T=2*w*(y-b)/(B*y),k=y*y*y,A=2*-w/(B*k);for(isFinite(T)||console.log(T),o=0;o<this.k;++o)this.g[o][h]+=u[o]*T,c[o]-=this.H[o][h][d]=A*(k+b*(l[o]-g)+y*g)}for(o=0;o<this.k;++o)f=Math.max(f,this.H[o][h][h]=c[o])}for(var E=this.snapGridSize/2,P=this.snapGridSize,S=this.snapStrength,_=S/(E*E),x=this.numGridSnapNodes,h=0;h<x;++h)for(o=0;o<this.k;++o){var C=this.x[o][h],I=C/P,R=I%1,M=I-R,N=Math.abs(R),p=N<=.5?C-M*P:C>0?C-(M+1)*P:C-(M-1)*P;-E<p&&p<=E&&(this.scaleSnapByMaxH?(this.g[o][h]+=f*_*p,this.H[o][h][h]+=f*_):(this.g[o][h]+=_*p,this.H[o][h][h]+=_))}this.locks.isEmpty()||this.locks.apply(function(F,q){for(o=0;o<i.k;++o)i.H[o][F][F]+=f,i.g[o][F]-=f*(q[o]-a[o][F])})}},n.dotProd=function(a,i){for(var s=0,o=a.length;o--;)s+=a[o]*i[o];return s},n.rightMultiply=function(a,i,s){for(var o=a.length;o--;)s[o]=n.dotProd(a[o],i)},n.prototype.computeStepSize=function(a){for(var i=0,s=0,o=0;o<this.k;++o)i+=n.dotProd(this.g[o],a[o]),n.rightMultiply(this.H[o],a[o],this.Hd[o]),s+=n.dotProd(a[o],this.Hd[o]);return s===0||!isFinite(s)?0:1*i/s},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var a=this.computeStepSize(this.g),i=0;i<this.k;++i)this.takeDescentStep(this.x[i],this.g[i],a);return this.computeStress()},n.copy=function(a,i){for(var s=a.length,o=i[0].length,u=0;u<s;++u)for(var l=0;l<o;++l)i[u][l]=a[u][l]},n.prototype.stepAndProject=function(a,i,s,o){n.copy(a,i),this.takeDescentStep(i[0],s[0],o),this.project&&this.project[0](a[0],a[1],i[0]),this.takeDescentStep(i[1],s[1],o),this.project&&this.project[1](i[0],a[1],i[1]);for(var u=2;u<this.k;u++)this.takeDescentStep(i[u],s[u],o)},n.mApply=function(a,i,s){for(var o=a;o-- >0;)for(var u=i;u-- >0;)s(o,u)},n.prototype.matrixApply=function(a){n.mApply(this.k,this.n,a)},n.prototype.computeNextPosition=function(a,i){var s=this;this.computeDerivatives(a);var o=this.computeStepSize(this.g);if(this.stepAndProject(a,i,this.g,o),this.project){this.matrixApply(function(l,c){return s.e[l][c]=a[l][c]-i[l][c]});var u=this.computeStepSize(this.e);u=Math.max(.2,Math.min(u,1)),this.stepAndProject(a,i,this.e,u)}},n.prototype.run=function(a){for(var i=Number.MAX_VALUE,s=!1;!s&&a-- >0;){var o=this.rungeKutta();s=Math.abs(i/o-1)<this.threshold,i=o}return i},n.prototype.rungeKutta=function(){var a=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var i=0;return this.matrixApply(function(s,o){var u=(a.a[s][o]+2*a.b[s][o]+2*a.c[s][o]+a.d[s][o])/6,l=a.x[s][o]-u;i+=l*l,a.x[s][o]=u}),i},n.mid=function(a,i,s){n.mApply(a.length,a[0].length,function(o,u){return s[o][u]=a[o][u]+(i[o][u]-a[o][u])/2})},n.prototype.takeDescentStep=function(a,i,s){for(var o=0;o<this.n;++o)a[o]=a[o]-s*i[o]},n.prototype.computeStress=function(){for(var a=0,i=0,s=this.n-1;i<s;++i)for(var o=i+1,u=this.n;o<u;++o){for(var l=0,c=0;c<this.k;++c){var f=this.x[c][i]-this.x[c][o];l+=f*f}l=Math.sqrt(l);var h=this.D[i][o];if(isFinite(h)){var d=h-l,v=h*h;a+=d*d/v}}return a},n.zeroDistance=1e-10,n}();fa.Descent=e;var r=function(){function n(a){a===void 0&&(a=1),this.seed=a,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(a,i){return a+this.getNext()*(i-a)},n}();return fa.PseudoRandom=r,fa}var Dt={},br={},Cv;function tf(){if(Cv)return br;Cv=1,Object.defineProperty(br,"__esModule",{value:!0});var t=function(){function o(u){this.scale=u,this.AB=0,this.AD=0,this.A2=0}return o.prototype.addVariable=function(u){var l=this.scale/u.scale,c=u.offset/u.scale,f=u.weight;this.AB+=f*l*c,this.AD+=f*l*u.desiredPosition,this.A2+=f*l*l},o.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},o}();br.PositionStats=t;var e=function(){function o(u,l,c,f){f===void 0&&(f=!1),this.left=u,this.right=l,this.gap=c,this.equality=f,this.active=!1,this.unsatisfiable=!1,this.left=u,this.right=l,this.gap=c,this.equality=f}return o.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},o}();br.Constraint=e;var r=function(){function o(u,l,c){l===void 0&&(l=1),c===void 0&&(c=1),this.desiredPosition=u,this.weight=l,this.scale=c,this.offset=0}return o.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},o.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},o.prototype.visitNeighbours=function(u,l){var c=function(f,h){return f.active&&u!==h&&l(f,h)};this.cOut.forEach(function(f){return c(f,f.right)}),this.cIn.forEach(function(f){return c(f,f.left)})},o}();br.Variable=r;var n=function(){function o(u){this.vars=[],u.offset=0,this.ps=new t(u.scale),this.addVariable(u)}return o.prototype.addVariable=function(u){u.block=this,this.vars.push(u),this.ps.addVariable(u),this.posn=this.ps.getPosn()},o.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var u=0,l=this.vars.length;u<l;++u)this.ps.addVariable(this.vars[u]);this.posn=this.ps.getPosn()},o.prototype.compute_lm=function(u,l,c){var f=this,h=u.dfdv();return u.visitNeighbours(l,function(d,v){var g=f.compute_lm(v,u,c);v===d.right?(h+=g*d.left.scale,d.lm=g):(h+=g*d.right.scale,d.lm=-g),c(d)}),h/u.scale},o.prototype.populateSplitBlock=function(u,l){var c=this;u.visitNeighbours(l,function(f,h){h.offset=u.offset+(h===f.right?f.gap:-f.gap),c.addVariable(h),c.populateSplitBlock(h,u)})},o.prototype.traverse=function(u,l,c,f){var h=this;c===void 0&&(c=this.vars[0]),f===void 0&&(f=null),c.visitNeighbours(f,function(d,v){l.push(u(d)),h.traverse(u,l,v,c)})},o.prototype.findMinLM=function(){var u=null;return this.compute_lm(this.vars[0],null,function(l){!l.equality&&(u===null||l.lm<u.lm)&&(u=l)}),u},o.prototype.findMinLMBetween=function(u,l){this.compute_lm(u,null,function(){});var c=null;return this.findPath(u,null,l,function(f,h){!f.equality&&f.right===h&&(c===null||f.lm<c.lm)&&(c=f)}),c},o.prototype.findPath=function(u,l,c,f){var h=this,d=!1;return u.visitNeighbours(l,function(v,g){!d&&(g===c||h.findPath(g,u,c,f))&&(d=!0,f(v,g))}),d},o.prototype.isActiveDirectedPathBetween=function(u,l){if(u===l)return!0;for(var c=u.cOut.length;c--;){var f=u.cOut[c];if(f.active&&this.isActiveDirectedPathBetween(f.right,l))return!0}return!1},o.split=function(u){return u.active=!1,[o.createSplitBlock(u.left),o.createSplitBlock(u.right)]},o.createSplitBlock=function(u){var l=new o(u);return l.populateSplitBlock(u,null),l},o.prototype.splitBetween=function(u,l){var c=this.findMinLMBetween(u,l);if(c!==null){var f=o.split(c);return{constraint:c,lb:f[0],rb:f[1]}}return null},o.prototype.mergeAcross=function(u,l,c){l.active=!0;for(var f=0,h=u.vars.length;f<h;++f){var d=u.vars[f];d.offset+=c,this.addVariable(d)}this.posn=this.ps.getPosn()},o.prototype.cost=function(){for(var u=0,l=this.vars.length;l--;){var c=this.vars[l],f=c.position()-c.desiredPosition;u+=f*f*c.weight}return u},o}();br.Block=n;var a=function(){function o(u){this.vs=u;var l=u.length;for(this.list=new Array(l);l--;){var c=new n(u[l]);this.list[l]=c,c.blockInd=l}}return o.prototype.cost=function(){for(var u=0,l=this.list.length;l--;)u+=this.list[l].cost();return u},o.prototype.insert=function(u){u.blockInd=this.list.length,this.list.push(u)},o.prototype.remove=function(u){var l=this.list.length-1,c=this.list[l];this.list.length=l,u!==c&&(this.list[u.blockInd]=c,c.blockInd=u.blockInd)},o.prototype.merge=function(u){var l=u.left.block,c=u.right.block,f=u.right.offset-u.left.offset-u.gap;l.vars.length<c.vars.length?(c.mergeAcross(l,u,f),this.remove(l)):(l.mergeAcross(c,u,-f),this.remove(c))},o.prototype.forEach=function(u){this.list.forEach(u)},o.prototype.updateBlockPositions=function(){this.list.forEach(function(u){return u.updateWeightedPosition()})},o.prototype.split=function(u){var l=this;this.updateBlockPositions(),this.list.forEach(function(c){var f=c.findMinLM();f!==null&&f.lm<i.LAGRANGIAN_TOLERANCE&&(c=f.left.block,n.split(f).forEach(function(h){return l.insert(h)}),l.remove(c),u.push(f))})},o}();br.Blocks=a;var i=function(){function o(u,l){this.vs=u,this.cs=l,this.vs=u,u.forEach(function(c){c.cIn=[],c.cOut=[]}),this.cs=l,l.forEach(function(c){c.left.cOut.push(c),c.right.cIn.push(c)}),this.inactive=l.map(function(c){return c.active=!1,c}),this.bs=null}return o.prototype.cost=function(){return this.bs.cost()},o.prototype.setStartingPositions=function(u){this.inactive=this.cs.map(function(l){return l.active=!1,l}),this.bs=new a(this.vs),this.bs.forEach(function(l,c){return l.posn=u[c]})},o.prototype.setDesiredPositions=function(u){this.vs.forEach(function(l,c){return l.desiredPosition=u[c]})},o.prototype.mostViolated=function(){for(var u=Number.MAX_VALUE,l=null,c=this.inactive,f=c.length,h=f,d=0;d<f;++d){var v=c[d];if(!v.unsatisfiable){var g=v.slack();if((v.equality||g<u)&&(u=g,l=v,h=d,v.equality))break}}return h!==f&&(u<o.ZERO_UPPERBOUND&&!l.active||l.equality)&&(c[h]=c[f-1],c.length=f-1),l},o.prototype.satisfy=function(){this.bs==null&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var u=null;(u=this.mostViolated())&&(u.equality||u.slack()<o.ZERO_UPPERBOUND&&!u.active);){var l=u.left.block,c=u.right.block;if(l!==c)this.bs.merge(u);else{if(l.isActiveDirectedPathBetween(u.right,u.left)){u.unsatisfiable=!0;continue}var f=l.splitBetween(u.left,u.right);if(f!==null)this.bs.insert(f.lb),this.bs.insert(f.rb),this.bs.remove(l),this.inactive.push(f.constraint);else{u.unsatisfiable=!0;continue}u.slack()>=0?this.inactive.push(u):this.bs.merge(u)}}},o.prototype.solve=function(){this.satisfy();for(var u=Number.MAX_VALUE,l=this.bs.cost();Math.abs(u-l)>1e-4;)this.satisfy(),u=l,l=this.bs.cost();return l},o.LAGRANGIAN_TOLERANCE=-1e-4,o.ZERO_UPPERBOUND=-1e-10,o}();br.Solver=i;function s(o,u,l){for(var c=o.map(function(k){return new r(k.desiredCenter)}),f=[],h=o.length,d=0;d<h-1;d++){var v=o[d],g=o[d+1];f.push(new e(c[d],c[d+1],(v.size+g.size)/2))}var p=c[0],m=c[h-1],y=o[0].size/2,b=o[h-1].size/2,w=null,B=null;u&&(w=new r(u,p.weight*1e3),c.push(w),f.push(new e(w,p,y))),l&&(B=new r(l,m.weight*1e3),c.push(B),f.push(new e(m,B,b)));var T=new i(c,f);return T.solve(),{newCenters:c.slice(0,o.length).map(function(k){return k.position()}),lowerBound:w?w.position():p.position()-y,upperBound:B?B.position():m.position()+b}}return br.removeOverlapInOneDimension=s,br}var Yr={},_v;function Zy(){if(_v)return Yr;_v=1;var t=Yr&&Yr.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var c in l)l.hasOwnProperty(c)&&(u[c]=l[c])},i(s,o)};return function(s,o){i(s,o);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(Yr,"__esModule",{value:!0});var e=function(){function i(){this.findIter=function(s){for(var o=this._root,u=this.iterator();o!==null;){var l=this._comparator(s,o.data);if(l===0)return u._cursor=o,u;u._ancestors.push(o),o=o.get_child(l>0)}return null}}return i.prototype.clear=function(){this._root=null,this.size=0},i.prototype.find=function(s){for(var o=this._root;o!==null;){var u=this._comparator(s,o.data);if(u===0)return o.data;o=o.get_child(u>0)}return null},i.prototype.lowerBound=function(s){return this._bound(s,this._comparator)},i.prototype.upperBound=function(s){var o=this._comparator;function u(l,c){return o(c,l)}return this._bound(s,u)},i.prototype.min=function(){var s=this._root;if(s===null)return null;for(;s.left!==null;)s=s.left;return s.data},i.prototype.max=function(){var s=this._root;if(s===null)return null;for(;s.right!==null;)s=s.right;return s.data},i.prototype.iterator=function(){return new r(this)},i.prototype.each=function(s){for(var o=this.iterator(),u;(u=o.next())!==null;)s(u)},i.prototype.reach=function(s){for(var o=this.iterator(),u;(u=o.prev())!==null;)s(u)},i.prototype._bound=function(s,o){for(var u=this._root,l=this.iterator();u!==null;){var c=this._comparator(s,u.data);if(c===0)return l._cursor=u,l;l._ancestors.push(u),u=u.get_child(c>0)}for(var f=l._ancestors.length-1;f>=0;--f)if(u=l._ancestors[f],o(s,u.data)>0)return l._cursor=u,l._ancestors.length=f,l;return l._ancestors.length=0,l},i}();Yr.TreeBase=e;var r=function(){function i(s){this._tree=s,this._ancestors=[],this._cursor=null}return i.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},i.prototype.next=function(){if(this._cursor===null){var s=this._tree._root;s!==null&&this._minNode(s)}else if(this._cursor.right===null){var o;do if(o=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===o)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},i.prototype.prev=function(){if(this._cursor===null){var s=this._tree._root;s!==null&&this._maxNode(s)}else if(this._cursor.left===null){var o;do if(o=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===o)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},i.prototype._minNode=function(s){for(;s.left!==null;)this._ancestors.push(s),s=s.left;this._cursor=s},i.prototype._maxNode=function(s){for(;s.right!==null;)this._ancestors.push(s),s=s.right;this._cursor=s},i}();Yr.Iterator=r;var n=function(){function i(s){this.data=s,this.left=null,this.right=null,this.red=!0}return i.prototype.get_child=function(s){return s?this.right:this.left},i.prototype.set_child=function(s,o){s?this.right=o:this.left=o},i}(),a=function(i){t(s,i);function s(o){var u=i.call(this)||this;return u._root=null,u._comparator=o,u.size=0,u}return s.prototype.insert=function(o){var u=!1;if(this._root===null)this._root=new n(o),u=!0,this.size++;else{var l=new n(void 0),c=!1,f=!1,h=null,d=l,v=null,g=this._root;for(d.right=this._root;;){if(g===null?(g=new n(o),v.set_child(c,g),u=!0,this.size++):s.is_red(g.left)&&s.is_red(g.right)&&(g.red=!0,g.left.red=!1,g.right.red=!1),s.is_red(g)&&s.is_red(v)){var p=d.right===h;g===v.get_child(f)?d.set_child(p,s.single_rotate(h,!f)):d.set_child(p,s.double_rotate(h,!f))}var m=this._comparator(g.data,o);if(m===0)break;f=c,c=m<0,h!==null&&(d=h),h=v,v=g,g=g.get_child(c)}this._root=l.right}return this._root.red=!1,u},s.prototype.remove=function(o){if(this._root===null)return!1;var u=new n(void 0),l=u;l.right=this._root;for(var c=null,f=null,h=null,d=!0;l.get_child(d)!==null;){var v=d;f=c,c=l,l=l.get_child(d);var g=this._comparator(o,l.data);if(d=g>0,g===0&&(h=l),!s.is_red(l)&&!s.is_red(l.get_child(d))){if(s.is_red(l.get_child(!d))){var p=s.single_rotate(l,d);c.set_child(v,p),c=p}else if(!s.is_red(l.get_child(!d))){var m=c.get_child(!v);if(m!==null)if(!s.is_red(m.get_child(!v))&&!s.is_red(m.get_child(v)))c.red=!1,m.red=!0,l.red=!0;else{var y=f.right===c;s.is_red(m.get_child(v))?f.set_child(y,s.double_rotate(c,v)):s.is_red(m.get_child(!v))&&f.set_child(y,s.single_rotate(c,v));var b=f.get_child(y);b.red=!0,l.red=!0,b.left.red=!1,b.right.red=!1}}}}return h!==null&&(h.data=l.data,c.set_child(c.right===l,l.get_child(l.left===null)),this.size--),this._root=u.right,this._root!==null&&(this._root.red=!1),h!==null},s.is_red=function(o){return o!==null&&o.red},s.single_rotate=function(o,u){var l=o.get_child(!u);return o.set_child(!u,l.get_child(u)),l.set_child(u,o),o.red=!0,l.red=!1,l},s.double_rotate=function(o,u){return o.set_child(!u,s.single_rotate(o.get_child(!u),!u)),s.single_rotate(o,u)},s}(e);return Yr.RBTree=a,Yr}var Sv;function Yi(){if(Sv)return Dt;Sv=1;var t=Dt&&Dt.__extends||function(){var A=function(E,P){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,_){S.__proto__=_}||function(S,_){for(var x in _)_.hasOwnProperty(x)&&(S[x]=_[x])},A(E,P)};return function(E,P){A(E,P);function S(){this.constructor=E}E.prototype=P===null?Object.create(P):(S.prototype=P.prototype,new S)}}();Object.defineProperty(Dt,"__esModule",{value:!0});var e=tf(),r=Zy();function n(A){return A.bounds=typeof A.leaves<"u"?A.leaves.reduce(function(E,P){return P.bounds.union(E)},a.empty()):a.empty(),typeof A.groups<"u"&&(A.bounds=A.groups.reduce(function(E,P){return n(P).union(E)},A.bounds)),A.bounds=A.bounds.inflate(A.padding),A.bounds}Dt.computeGroupBounds=n;var a=function(){function A(E,P,S,_){this.x=E,this.X=P,this.y=S,this.Y=_}return A.empty=function(){return new A(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},A.prototype.cx=function(){return(this.x+this.X)/2},A.prototype.cy=function(){return(this.y+this.Y)/2},A.prototype.overlapX=function(E){var P=this.cx(),S=E.cx();return P<=S&&E.x<this.X?this.X-E.x:S<=P&&this.x<E.X?E.X-this.x:0},A.prototype.overlapY=function(E){var P=this.cy(),S=E.cy();return P<=S&&E.y<this.Y?this.Y-E.y:S<=P&&this.y<E.Y?E.Y-this.y:0},A.prototype.setXCentre=function(E){var P=E-this.cx();this.x+=P,this.X+=P},A.prototype.setYCentre=function(E){var P=E-this.cy();this.y+=P,this.Y+=P},A.prototype.width=function(){return this.X-this.x},A.prototype.height=function(){return this.Y-this.y},A.prototype.union=function(E){return new A(Math.min(this.x,E.x),Math.max(this.X,E.X),Math.min(this.y,E.y),Math.max(this.Y,E.Y))},A.prototype.lineIntersections=function(E,P,S,_){for(var x=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],C=[],I=0;I<4;++I){var R=A.lineIntersection(E,P,S,_,x[I][0],x[I][1],x[I][2],x[I][3]);R!==null&&C.push({x:R.x,y:R.y})}return C},A.prototype.rayIntersection=function(E,P){var S=this.lineIntersections(this.cx(),this.cy(),E,P);return S.length>0?S[0]:null},A.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},A.lineIntersection=function(E,P,S,_,x,C,I,R){var M=S-E,N=I-x,F=_-P,q=R-C,j=q*M-N*F;if(j==0)return null;var U=E-x,X=P-C,Y=N*X-q*U,Z=Y/j,K=M*X-F*U,G=K/j;return Z>=0&&Z<=1&&G>=0&&G<=1?{x:E+Z*M,y:P+Z*F}:null},A.prototype.inflate=function(E){return new A(this.x-E,this.X+E,this.y-E,this.Y+E)},A}();Dt.Rectangle=a;function i(A,E,P){var S=A.rayIntersection(E.cx(),E.cy())||{x:A.cx(),y:A.cy()},_=E.rayIntersection(A.cx(),A.cy())||{x:E.cx(),y:E.cy()},x=_.x-S.x,C=_.y-S.y,I=Math.sqrt(x*x+C*C),R=I-P;return{sourceIntersection:S,targetIntersection:_,arrowStart:{x:S.x+R*x/I,y:S.y+R*C/I}}}Dt.makeEdgeBetween=i;function s(A,E,P){var S=E.rayIntersection(A.x,A.y);S||(S={x:E.cx(),y:E.cy()});var _=S.x-A.x,x=S.y-A.y,C=Math.sqrt(_*_+x*x);return{x:S.x-P*_/C,y:S.y-P*x/C}}Dt.makeEdgeTo=s;var o=function(){function A(E,P,S){this.v=E,this.r=P,this.pos=S,this.prev=c(),this.next=c()}return A}(),u=function(){function A(E,P,S){this.isOpen=E,this.v=P,this.pos=S}return A}();function l(A,E){return A.pos>E.pos?1:A.pos<E.pos||A.isOpen?-1:E.isOpen?1:0}function c(){return new r.RBTree(function(A,E){return A.pos-E.pos})}var f={getCentre:function(A){return A.cx()},getOpen:function(A){return A.y},getClose:function(A){return A.Y},getSize:function(A){return A.width()},makeRect:function(A,E,P,S){return new a(P-S/2,P+S/2,A,E)},findNeighbours:g},h={getCentre:function(A){return A.cy()},getOpen:function(A){return A.x},getClose:function(A){return A.X},getSize:function(A){return A.height()},makeRect:function(A,E,P,S){return new a(A,E,P-S/2,P+S/2)},findNeighbours:p};function d(A,E,P,S){S===void 0&&(S=!1);var _=A.padding,x=typeof A.groups<"u"?A.groups.length:0,C=typeof A.leaves<"u"?A.leaves.length:0,I=x?A.groups.reduce(function(W,V){return W.concat(d(V,E,P,!0))},[]):[],R=(S?2:0)+C+x,M=new Array(R),N=new Array(R),F=0,q=function(W,V){N[F]=W,M[F++]=V};if(S){var j=A.bounds,U=E.getCentre(j),X=E.getSize(j)/2,Y=E.getOpen(j),Z=E.getClose(j),K=U-X+_/2,G=U+X-_/2;A.minVar.desiredPosition=K,q(E.makeRect(Y,Z,K,_),A.minVar),A.maxVar.desiredPosition=G,q(E.makeRect(Y,Z,G,_),A.maxVar)}C&&A.leaves.forEach(function(W){return q(W.bounds,W.variable)}),x&&A.groups.forEach(function(W){var V=W.bounds;q(E.makeRect(E.getOpen(V),E.getClose(V),E.getCentre(V),E.getSize(V)),W.minVar)});var $=v(N,M,E,P);return x&&(M.forEach(function(W){W.cOut=[],W.cIn=[]}),$.forEach(function(W){W.left.cOut.push(W),W.right.cIn.push(W)}),A.groups.forEach(function(W){var V=(W.padding-E.getSize(W.bounds))/2;W.minVar.cIn.forEach(function(H){return H.gap+=V}),W.minVar.cOut.forEach(function(H){H.left=W.maxVar,H.gap+=V})})),I.concat($)}function v(A,E,P,S){var _,x=A.length,C=2*x;console.assert(E.length>=x);var I=new Array(C);for(_=0;_<x;++_){var R=A[_],M=new o(E[_],R,P.getCentre(R));I[_]=new u(!0,M,P.getOpen(R)),I[_+x]=new u(!1,M,P.getClose(R))}I.sort(l);var N=new Array,F=c();for(_=0;_<C;++_){var q=I[_],M=q.v;if(q.isOpen)F.insert(M),P.findNeighbours(M,F);else{F.remove(M);var j=function(Y,Z){var K=(P.getSize(Y.r)+P.getSize(Z.r))/2+S;N.push(new e.Constraint(Y.v,Z.v,K))},U=function(Y,Z,K){for(var G,$=M[Y].iterator();(G=$[Y]())!==null;)K(G,M),G[Z].remove(M)};U("prev","next",function(Y,Z){return j(Y,Z)}),U("next","prev",function(Y,Z){return j(Z,Y)})}}return console.assert(F.size===0),N}function g(A,E){var P=function(S,_){for(var x=E.findIter(A),C;(C=x[S]())!==null;){var I=C.r.overlapX(A.r);if((I<=0||I<=C.r.overlapY(A.r))&&(A[S].insert(C),C[_].insert(A)),I<=0)break}};P("next","prev"),P("prev","next")}function p(A,E){var P=function(S,_){var x=E.findIter(A)[S]();x!==null&&x.r.overlapX(A.r)>0&&(A[S].insert(x),x[_].insert(A))};P("next","prev"),P("prev","next")}function m(A,E){return v(A,E,f,1e-6)}Dt.generateXConstraints=m;function y(A,E){return v(A,E,h,1e-6)}Dt.generateYConstraints=y;function b(A){return d(A,f,1e-6)}Dt.generateXGroupConstraints=b;function w(A){return d(A,h,1e-6)}Dt.generateYGroupConstraints=w;function B(A){var E=A.map(function(_){return new e.Variable(_.cx())}),P=m(A,E),S=new e.Solver(E,P);S.solve(),E.forEach(function(_,x){return A[x].setXCentre(_.position())}),E=A.map(function(_){return new e.Variable(_.cy())}),P=y(A,E),S=new e.Solver(E,P),S.solve(),E.forEach(function(_,x){return A[x].setYCentre(_.position())})}Dt.removeOverlaps=B;var T=function(A){t(E,A);function E(P,S){var _=A.call(this,0,S)||this;return _.index=P,_}return E}(e.Variable);Dt.IndexedVariable=T;var k=function(){function A(E,P,S,_,x){var C=this;if(S===void 0&&(S=null),_===void 0&&(_=null),x===void 0&&(x=!1),this.nodes=E,this.groups=P,this.rootGroup=S,this.avoidOverlaps=x,this.variables=E.map(function(R,M){return R.variable=new T(M,1)}),_&&this.createConstraints(_),x&&S&&typeof S.groups<"u"){E.forEach(function(R){if(!R.width||!R.height){R.bounds=new a(R.x,R.x,R.y,R.y);return}var M=R.width/2,N=R.height/2;R.bounds=new a(R.x-M,R.x+M,R.y-N,R.y+N)}),n(S);var I=E.length;P.forEach(function(R){C.variables[I]=R.minVar=new T(I++,typeof R.stiffness<"u"?R.stiffness:.01),C.variables[I]=R.maxVar=new T(I++,typeof R.stiffness<"u"?R.stiffness:.01)})}}return A.prototype.createSeparation=function(E){return new e.Constraint(this.nodes[E.left].variable,this.nodes[E.right].variable,E.gap,typeof E.equality<"u"?E.equality:!1)},A.prototype.makeFeasible=function(E){var P=this;if(this.avoidOverlaps){var S="x",_="width";E.axis==="x"&&(S="y",_="height");var x=E.offsets.map(function(I){return P.nodes[I.node]}).sort(function(I,R){return I[S]-R[S]}),C=null;x.forEach(function(I){if(C){var R=C[S]+C[_];R>I[S]&&(I[S]=R)}C=I})}},A.prototype.createAlignment=function(E){var P=this,S=this.nodes[E.offsets[0].node].variable;this.makeFeasible(E);var _=E.axis==="x"?this.xConstraints:this.yConstraints;E.offsets.slice(1).forEach(function(x){var C=P.nodes[x.node].variable;_.push(new e.Constraint(S,C,x.offset,!0))})},A.prototype.createConstraints=function(E){var P=this,S=function(_){return typeof _.type>"u"||_.type==="separation"};this.xConstraints=E.filter(function(_){return _.axis==="x"&&S(_)}).map(function(_){return P.createSeparation(_)}),this.yConstraints=E.filter(function(_){return _.axis==="y"&&S(_)}).map(function(_){return P.createSeparation(_)}),E.filter(function(_){return _.type==="alignment"}).forEach(function(_){return P.createAlignment(_)})},A.prototype.setupVariablesAndBounds=function(E,P,S,_){this.nodes.forEach(function(x,C){x.fixed?(x.variable.weight=x.fixedWeight?x.fixedWeight:1e3,S[C]=_(x)):x.variable.weight=1;var I=(x.width||0)/2,R=(x.height||0)/2,M=E[C],N=P[C];x.bounds=new a(M-I,M+I,N-R,N+R)})},A.prototype.xProject=function(E,P,S){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(E,P,E,S,function(_){return _.px},this.xConstraints,b,function(_){return _.bounds.setXCentre(S[_.variable.index]=_.variable.position())},function(_){var x=S[_.minVar.index]=_.minVar.position(),C=S[_.maxVar.index]=_.maxVar.position(),I=_.padding/2;_.bounds.x=x-I,_.bounds.X=C+I})},A.prototype.yProject=function(E,P,S){!this.rootGroup&&!this.yConstraints||this.project(E,P,P,S,function(_){return _.py},this.yConstraints,w,function(_){return _.bounds.setYCentre(S[_.variable.index]=_.variable.position())},function(_){var x=S[_.minVar.index]=_.minVar.position(),C=S[_.maxVar.index]=_.maxVar.position(),I=_.padding/2;_.bounds.y=x-I,_.bounds.Y=C+I})},A.prototype.projectFunctions=function(){var E=this;return[function(P,S,_){return E.xProject(P,S,_)},function(P,S,_){return E.yProject(P,S,_)}]},A.prototype.project=function(E,P,S,_,x,C,I,R,M){this.setupVariablesAndBounds(E,P,_,x),this.rootGroup&&this.avoidOverlaps&&(n(this.rootGroup),C=C.concat(I(this.rootGroup))),this.solve(this.variables,C,S,_),this.nodes.forEach(R),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(M),n(this.rootGroup))},A.prototype.solve=function(E,P,S,_){var x=new e.Solver(E,P);x.setStartingPositions(S),x.setDesiredPositions(_),x.solve()},A}();return Dt.Projection=k,Dt}var ms={},ti={},Tv;function Jy(){if(Tv)return ti;Tv=1,Object.defineProperty(ti,"__esModule",{value:!0});var t=function(){function r(n){this.elem=n,this.subheaps=[]}return r.prototype.toString=function(n){for(var a="",i=!1,s=0;s<this.subheaps.length;++s){var o=this.subheaps[s];if(!o.elem){i=!1;continue}i&&(a=a+","),a=a+o.toString(n),i=!0}return a!==""&&(a="("+a+")"),(this.elem?n(this.elem):"")+a},r.prototype.forEach=function(n){this.empty()||(n(this.elem,this),this.subheaps.forEach(function(a){return a.forEach(n)}))},r.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,a){return n+a.count()},0)},r.prototype.min=function(){return this.elem},r.prototype.empty=function(){return this.elem==null},r.prototype.contains=function(n){if(this===n)return!0;for(var a=0;a<this.subheaps.length;a++)if(this.subheaps[a].contains(n))return!0;return!1},r.prototype.isHeap=function(n){var a=this;return this.subheaps.every(function(i){return n(a.elem,i.elem)&&i.isHeap(n)})},r.prototype.insert=function(n,a){return this.merge(new r(n),a)},r.prototype.merge=function(n,a){return this.empty()?n:n.empty()?this:a(this.elem,n.elem)?(this.subheaps.push(n),this):(n.subheaps.push(this),n)},r.prototype.removeMin=function(n){return this.empty()?null:this.mergePairs(n)},r.prototype.mergePairs=function(n){if(this.subheaps.length==0)return new r(null);if(this.subheaps.length==1)return this.subheaps[0];var a=this.subheaps.pop().merge(this.subheaps.pop(),n),i=this.mergePairs(n);return a.merge(i,n)},r.prototype.decreaseKey=function(n,a,i,s){var o=n.removeMin(s);n.elem=o.elem,n.subheaps=o.subheaps,i!==null&&o.elem!==null&&i(n.elem,n);var u=new r(a);return i!==null&&i(a,u),this.merge(u,s)},r}();ti.PairingHeap=t;var e=function(){function r(n){this.lessThan=n}return r.prototype.top=function(){return this.empty()?null:this.root.elem},r.prototype.push=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];for(var i,s=0,o;o=n[s];++s)i=new t(o),this.root=this.empty()?i:this.root.merge(i,this.lessThan);return i},r.prototype.empty=function(){return!this.root||!this.root.elem},r.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},r.prototype.forEach=function(n){this.root.forEach(n)},r.prototype.pop=function(){if(this.empty())return null;var n=this.root.min();return this.root=this.root.removeMin(this.lessThan),n},r.prototype.reduceKey=function(n,a,i){i===void 0&&(i=null),this.root=this.root.decreaseKey(n,a,i,this.lessThan)},r.prototype.toString=function(n){return this.root.toString(n)},r.prototype.count=function(){return this.root.count()},r}();return ti.PriorityQueue=e,ti}var kv;function Oo(){if(kv)return ms;kv=1,Object.defineProperty(ms,"__esModule",{value:!0});var t=Jy(),e=function(){function i(s,o){this.id=s,this.distance=o}return i}(),r=function(){function i(s){this.id=s,this.neighbours=[]}return i}(),n=function(){function i(s,o,u){this.node=s,this.prev=o,this.d=u}return i}(),a=function(){function i(s,o,u,l,c){this.n=s,this.es=o,this.neighbours=new Array(this.n);for(var f=this.n;f--;)this.neighbours[f]=new r(f);for(f=this.es.length;f--;){var h=this.es[f],d=u(h),v=l(h),g=c(h);this.neighbours[d].neighbours.push(new e(v,g)),this.neighbours[v].neighbours.push(new e(d,g))}}return i.prototype.DistanceMatrix=function(){for(var s=new Array(this.n),o=0;o<this.n;++o)s[o]=this.dijkstraNeighbours(o);return s},i.prototype.DistancesFromNode=function(s){return this.dijkstraNeighbours(s)},i.prototype.PathFromNodeToNode=function(s,o){return this.dijkstraNeighbours(s,o)},i.prototype.PathFromNodeToNodeWithPrevCost=function(s,o,u){var l=new t.PriorityQueue(function(w,B){return w.d<=B.d}),c=this.neighbours[s],f=new n(c,null,0),h={};for(l.push(f);!l.empty()&&(f=l.pop(),c=f.node,c.id!==o);)for(var d=c.neighbours.length;d--;){var v=c.neighbours[d],g=this.neighbours[v.id];if(!(f.prev&&g.id===f.prev.node.id)){var p=g.id+","+c.id;if(!(p in h&&h[p]<=f.d)){var m=f.prev?u(f.prev.node.id,c.id,g.id):0,y=f.d+v.distance+m;h[p]=y,l.push(new n(g,f,y))}}}for(var b=[];f.prev;)f=f.prev,b.push(f.node.id);return b},i.prototype.dijkstraNeighbours=function(s,o){o===void 0&&(o=-1);for(var u=new t.PriorityQueue(function(m,y){return m.d<=y.d}),l=this.neighbours.length,c=new Array(l);l--;){var f=this.neighbours[l];f.d=l===s?0:Number.POSITIVE_INFINITY,f.q=u.push(f)}for(;!u.empty();){var h=u.pop();if(c[h.id]=h.d,h.id===o){for(var d=[],v=h;typeof v.prev<"u";)d.push(v.prev.id),v=v.prev;return d}for(l=h.neighbours.length;l--;){var g=h.neighbours[l],v=this.neighbours[g.id],p=h.d+g.distance;h.d!==Number.MAX_VALUE&&v.d>p&&(v.d=p,v.prev=h,u.reduceKey(v.q,v,function(y,b){return y.q=b}))}}return c},i}();return ms.Calculator=a,ms}var rt={},Pv;function e0(){if(Pv)return rt;Pv=1;var t=rt&&rt.__extends||function(){var x=function(C,I){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,M){R.__proto__=M}||function(R,M){for(var N in M)M.hasOwnProperty(N)&&(R[N]=M[N])},x(C,I)};return function(C,I){x(C,I);function R(){this.constructor=C}C.prototype=I===null?Object.create(I):(R.prototype=I.prototype,new R)}}();Object.defineProperty(rt,"__esModule",{value:!0});var e=Yi(),r=function(){function x(){}return x}();rt.Point=r;var n=function(){function x(C,I,R,M){this.x1=C,this.y1=I,this.x2=R,this.y2=M}return x}();rt.LineSegment=n;var a=function(x){t(C,x);function C(){return x!==null&&x.apply(this,arguments)||this}return C}(r);rt.PolyPoint=a;function i(x,C,I){return(C.x-x.x)*(I.y-x.y)-(I.x-x.x)*(C.y-x.y)}rt.isLeft=i;function s(x,C,I){return i(x,C,I)>0}function o(x,C,I){return i(x,C,I)<0}function u(x){var C=x.slice(0).sort(function(Z,K){return Z.x!==K.x?K.x-Z.x:K.y-Z.y}),I=x.length,R,M=0,N=C[0].x;for(R=1;R<I&&C[R].x===N;++R);var F=R-1,q=[];if(q.push(C[M]),F===I-1)C[F].y!==C[M].y&&q.push(C[F]);else{var j,U=I-1,X=C[I-1].x;for(R=I-2;R>=0&&C[R].x===X;R--);for(j=R+1,R=F;++R<=j;)if(!(i(C[M],C[j],C[R])>=0&&R<j)){for(;q.length>1&&!(i(q[q.length-2],q[q.length-1],C[R])>0);)q.length-=1;R!=M&&q.push(C[R])}U!=j&&q.push(C[U]);var Y=q.length;for(R=j;--R>=F;)if(!(i(C[U],C[F],C[R])>=0&&R>F)){for(;q.length>Y&&!(i(q[q.length-2],q[q.length-1],C[R])>0);)q.length-=1;R!=M&&q.push(C[R])}}return q}rt.ConvexHull=u;function l(x,C,I){C.slice(0).sort(function(R,M){return Math.atan2(R.y-x.y,R.x-x.x)-Math.atan2(M.y-x.y,M.x-x.x)}).forEach(I)}rt.clockwiseRadialSweep=l;function c(x,C){var I=C.slice(0);return I.push(C[0]),{rtan:f(x,I),ltan:h(x,I)}}function f(x,C){var I=C.length-1,R,M,N,F,q;if(o(x,C[1],C[0])&&!s(x,C[I-1],C[0]))return 0;for(R=0,M=I;;){if(M-R===1)return s(x,C[R],C[M])?R:M;if(N=Math.floor((R+M)/2),q=o(x,C[N+1],C[N]),q&&!s(x,C[N-1],C[N]))return N;F=s(x,C[R+1],C[R]),F?q||s(x,C[R],C[N])?M=N:R=N:q&&o(x,C[R],C[N])?M=N:R=N}}function h(x,C){var I=C.length-1,R,M,N,F,q;if(s(x,C[I-1],C[0])&&!o(x,C[1],C[0]))return 0;for(R=0,M=I;;){if(M-R===1)return o(x,C[R],C[M])?R:M;if(N=Math.floor((R+M)/2),q=o(x,C[N+1],C[N]),s(x,C[N-1],C[N])&&!q)return N;F=o(x,C[R+1],C[R]),F?q?o(x,C[R],C[N])?M=N:R=N:M=N:q?R=N:s(x,C[R],C[N])?M=N:R=N}}function d(x,C,I,R,M,N){var F,q;F=I(C[0],x),q=R(x[F],C);for(var j=!1;!j;){for(j=!0;F===x.length-1&&(F=0),!M(C[q],x[F],x[F+1]);)++F;for(;q===0&&(q=C.length-1),!N(x[F],C[q],C[q-1]);)--q,j=!1}return{t1:F,t2:q}}rt.tangent_PolyPolyC=d;function v(x,C){var I=g(C,x);return{t1:I.t2,t2:I.t1}}rt.LRtangent_PolyPolyC=v;function g(x,C){return d(x,C,f,h,s,o)}rt.RLtangent_PolyPolyC=g;function p(x,C){return d(x,C,h,h,o,o)}rt.LLtangent_PolyPolyC=p;function m(x,C){return d(x,C,f,f,s,s)}rt.RRtangent_PolyPolyC=m;var y=function(){function x(C,I){this.t1=C,this.t2=I}return x}();rt.BiTangent=y;var b=function(){function x(){}return x}();rt.BiTangents=b;var w=function(x){t(C,x);function C(){return x!==null&&x.apply(this,arguments)||this}return C}(r);rt.TVGPoint=w;var B=function(){function x(C,I,R,M){this.id=C,this.polyid=I,this.polyvertid=R,this.p=M,M.vv=this}return x}();rt.VisibilityVertex=B;var T=function(){function x(C,I){this.source=C,this.target=I}return x.prototype.length=function(){var C=this.source.p.x-this.target.p.x,I=this.source.p.y-this.target.p.y;return Math.sqrt(C*C+I*I)},x}();rt.VisibilityEdge=T;var k=function(){function x(C,I){if(this.P=C,this.V=[],this.E=[],I)this.V=I.V.slice(0),this.E=I.E.slice(0);else{for(var R=C.length,M=0;M<R;M++){for(var N=C[M],F=0;F<N.length;++F){var q=N[F],j=new B(this.V.length,M,F,q);this.V.push(j),F>0&&this.E.push(new T(N[F-1].vv,j))}N.length>1&&this.E.push(new T(N[0].vv,N[N.length-1].vv))}for(var M=0;M<R-1;M++)for(var U=C[M],F=M+1;F<R;F++){var X=C[F],Y=E(U,X);for(var Z in Y){var K=Y[Z],G=U[K.t1],$=X[K.t2];this.addEdgeIfVisible(G,$,M,F)}}}}return x.prototype.addEdgeIfVisible=function(C,I,R,M){this.intersectsPolys(new n(C.x,C.y,I.x,I.y),R,M)||this.E.push(new T(C.vv,I.vv))},x.prototype.addPoint=function(C,I){var R=this.P.length;this.V.push(new B(this.V.length,R,0,C));for(var M=0;M<R;++M)if(M!==I){var N=this.P[M],F=c(C,N);this.addEdgeIfVisible(C,N[F.ltan],I,M),this.addEdgeIfVisible(C,N[F.rtan],I,M)}return C.vv},x.prototype.intersectsPolys=function(C,I,R){for(var M=0,N=this.P.length;M<N;++M)if(M!=I&&M!=R&&A(C,this.P[M]).length>0)return!0;return!1},x}();rt.TangentVisibilityGraph=k;function A(x,C){for(var I=[],R=1,M=C.length;R<M;++R){var N=e.Rectangle.lineIntersection(x.x1,x.y1,x.x2,x.y2,C[R-1].x,C[R-1].y,C[R].x,C[R].y);N&&I.push(N)}return I}function E(x,C){for(var I=x.length-1,R=C.length-1,M=new b,N=0;N<I;++N)for(var F=0;F<R;++F){var q=x[N==0?I-1:N-1],j=x[N],U=x[N+1],X=C[F==0?R-1:F-1],Y=C[F],Z=C[F+1],K=i(q,j,Y),G=i(j,X,Y),$=i(j,Y,Z),W=i(X,Y,j),V=i(Y,q,j),H=i(Y,j,U);K>=0&&G>=0&&$<0&&W>=0&&V>=0&&H<0?M.ll=new y(N,F):K<=0&&G<=0&&$>0&&W<=0&&V<=0&&H>0?M.rr=new y(N,F):K<=0&&G>0&&$<=0&&W>=0&&V<0&&H>=0?M.rl=new y(N,F):K>=0&&G<0&&$>=0&&W<=0&&V>0&&H<=0&&(M.lr=new y(N,F))}return M}rt.tangents=E;function P(x,C){for(var I=1,R=C.length;I<R;++I)if(o(C[I-1],C[I],x))return!1;return!0}function S(x,C){return!x.every(function(I){return!P(I,C)})}function _(x,C){if(S(x,C)||S(C,x))return!0;for(var I=1,R=x.length;I<R;++I){var M=x[I],N=x[I-1];if(A(new n(N.x,N.y,M.x,M.y),C).length>0)return!0}return!1}return rt.polysOverlap=_,rt}var ri={},Bv;function t0(){if(Bv)return ri;Bv=1,Object.defineProperty(ri,"__esModule",{value:!0});var t={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4};function e(n,a,i,v,d,u){d===void 0&&(d=1),u===void 0&&(u=!0);var l=0,c=0,f=a,h=i,d=typeof d<"u"?d:1,v=typeof v<"u"?v:0,g=0,p=0,m=0,y=0,b=[];if(n.length==0)return;w(n),T(n),u&&B(n);function w(S){S.forEach(function(x){_(x)});function _(x){var C=Number.MAX_VALUE,I=Number.MAX_VALUE,R=0,M=0;x.array.forEach(function(N){var F=typeof N.width<"u"?N.width:v,q=typeof N.height<"u"?N.height:v;F/=2,q/=2,R=Math.max(N.x+F,R),C=Math.min(N.x-F,C),M=Math.max(N.y+q,M),I=Math.min(N.y-q,I)}),x.width=R-C,x.height=M-I}}function B(S){S.forEach(function(_){var x={x:0,y:0};_.array.forEach(function(R){x.x+=R.x,x.y+=R.y}),x.x/=_.array.length,x.y/=_.array.length;var C={x:x.x-_.width/2,y:x.y-_.height/2},I={x:_.x-C.x+f/2-g/2,y:_.y-C.y+h/2-p/2};_.array.forEach(function(R){R.x+=I.x,R.y+=I.y})})}function T(S,_){var x=Number.POSITIVE_INFINITY,C=0;S.sort(function(Z,K){return K.height-Z.height}),m=S.reduce(function(Z,K){return Z.width<K.width?Z.width:K.width});for(var I=X=m,R=Y=E(S),M=0,N=Number.MAX_VALUE,F=Number.MAX_VALUE,q=-1,j=Number.MAX_VALUE,U=Number.MAX_VALUE;j>m||U>t.FLOAT_EPSILON;){if(q!=1)var X=R-(R-I)/t.GOLDEN_SECTION,N=k(S,X);if(q!=0)var Y=I+(R-I)/t.GOLDEN_SECTION,F=k(S,Y);if(j=Math.abs(X-Y),U=Math.abs(N-F),N<x&&(x=N,C=X),F<x&&(x=F,C=Y),N>F?(I=X,X=Y,N=F,q=1):(R=Y,Y=X,F=N,q=0),M++>100)break}k(S,C)}function k(S,_){b=[],g=0,p=0,y=c;for(var x=0;x<S.length;x++){var C=S[x];A(C,_)}return Math.abs(P()-d)}function A(S,_){for(var x=void 0,C=0;C<b.length;C++)if(b[C].space_left>=S.height&&b[C].x+b[C].width+S.width+t.PADDING-_<=t.FLOAT_EPSILON){x=b[C];break}b.push(S),x!==void 0?(S.x=x.x+x.width+t.PADDING,S.y=x.bottom,S.space_left=S.height,S.bottom=S.y,x.space_left-=S.height+t.PADDING,x.bottom+=S.height+t.PADDING):(S.y=y,y+=S.height+t.PADDING,S.x=l,S.bottom=S.y,S.space_left=S.height),S.y+S.height-p>-1e-4&&(p=S.y+S.height-c),S.x+S.width-g>-1e-4&&(g=S.x+S.width-l)}function E(S){var _=0;return S.forEach(function(x){return _+=x.width+t.PADDING}),_}function P(){return g/p}}ri.applyPacking=e;function r(n,a){for(var i={},s={},o=[],u=0,l=0;l<a.length;l++){var c=a[l],f=c.source,h=c.target;s[f.index]?s[f.index].push(h):s[f.index]=[h],s[h.index]?s[h.index].push(f):s[h.index]=[f]}for(var l=0;l<n.length;l++){var d=n[l];i[d.index]||v(d,!0)}function v(g,p){if(i[g.index]===void 0){p&&(u++,o.push({array:[]})),i[g.index]=u,o[u-1].array.push(g);var m=s[g.index];if(m)for(var y=0;y<m.length;y++)v(m[y],!1)}}return o}return ri.separateGraphs=r,ri}var Dv;function Xi(){return Dv||(Dv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Xy(),r=Jc(),n=ef(),a=Yi(),i=Oo(),s=e0(),o=t0(),u;(function(f){f[f.start=0]="start",f[f.tick=1]="tick",f[f.end=2]="end"})(u=t.EventType||(t.EventType={}));function l(f){return typeof f.leaves<"u"||typeof f.groups<"u"}var c=function(){function f(){var h=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:f.getSourceIndex,getTargetIndex:f.getTargetIndex,setLength:f.setLinkLength,getType:function(d){return typeof h._linkType=="function"?h._linkType(d):0}}}return f.prototype.on=function(h,d){return this.event||(this.event={}),typeof h=="string"?this.event[u[h]]=d:this.event[h]=d,this},f.prototype.trigger=function(h){this.event&&typeof this.event[h.type]<"u"&&this.event[h.type](h)},f.prototype.kick=function(){for(;!this.tick(););},f.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:u.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var h=this._nodes.length;this._links.length;var d,v;for(this._descent.locks.clear(),v=0;v<h;++v)if(d=this._nodes[v],d.fixed){(typeof d.px>"u"||typeof d.py>"u")&&(d.px=d.x,d.py=d.y);var g=[d.px,d.py];this._descent.locks.add(v,g)}var p=this._descent.rungeKutta();return p===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=p),this._lastStress=p,this.updateNodePositions(),this.trigger({type:u.tick,alpha:this._alpha,stress:this._lastStress}),!1},f.prototype.updateNodePositions=function(){for(var h=this._descent.x[0],d=this._descent.x[1],v,g=this._nodes.length;g--;)v=this._nodes[g],v.x=h[g],v.y=d[g]},f.prototype.nodes=function(h){if(!h){if(this._nodes.length===0&&this._links.length>0){var d=0;this._links.forEach(function(g){d=Math.max(d,g.source,g.target)}),this._nodes=new Array(++d);for(var v=0;v<d;++v)this._nodes[v]={}}return this._nodes}return this._nodes=h,this},f.prototype.groups=function(h){var d=this;return h?(this._groups=h,this._rootGroup={},this._groups.forEach(function(v){typeof v.padding>"u"&&(v.padding=1),typeof v.leaves<"u"&&v.leaves.forEach(function(g,p){typeof g=="number"&&((v.leaves[p]=d._nodes[g]).parent=v)}),typeof v.groups<"u"&&v.groups.forEach(function(g,p){typeof g=="number"&&((v.groups[p]=d._groups[g]).parent=v)})}),this._rootGroup.leaves=this._nodes.filter(function(v){return typeof v.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(v){return typeof v.parent>"u"}),this):this._groups},f.prototype.powerGraphGroups=function(h){var d=e.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(d.groups),h(d),this},f.prototype.avoidOverlaps=function(h){return arguments.length?(this._avoidOverlaps=h,this):this._avoidOverlaps},f.prototype.handleDisconnected=function(h){return arguments.length?(this._handleDisconnected=h,this):this._handleDisconnected},f.prototype.flowLayout=function(h,d){return arguments.length||(h="y"),this._directedLinkConstraints={axis:h,getMinSeparation:typeof d=="number"?function(){return d}:d},this},f.prototype.links=function(h){return arguments.length?(this._links=h,this):this._links},f.prototype.constraints=function(h){return arguments.length?(this._constraints=h,this):this._constraints},f.prototype.distanceMatrix=function(h){return arguments.length?(this._distanceMatrix=h,this):this._distanceMatrix},f.prototype.size=function(h){return h?(this._canvasSize=h,this):this._canvasSize},f.prototype.defaultNodeSize=function(h){return h?(this._defaultNodeSize=h,this):this._defaultNodeSize},f.prototype.groupCompactness=function(h){return h?(this._groupCompactness=h,this):this._groupCompactness},f.prototype.linkDistance=function(h){return h?(this._linkDistance=typeof h=="function"?h:+h,this._linkLengthCalculator=null,this):this._linkDistance},f.prototype.linkType=function(h){return this._linkType=h,this},f.prototype.convergenceThreshold=function(h){return h?(this._threshold=typeof h=="function"?h:+h,this):this._threshold},f.prototype.alpha=function(h){return arguments.length?(h=+h,this._alpha?h>0?this._alpha=h:this._alpha=0:h>0&&(this._running||(this._running=!0,this.trigger({type:u.start,alpha:this._alpha=h}),this.kick())),this):this._alpha},f.prototype.getLinkLength=function(h){return typeof this._linkDistance=="function"?+this._linkDistance(h):this._linkDistance},f.setLinkLength=function(h,d){h.length=d},f.prototype.getLinkType=function(h){return typeof this._linkType=="function"?this._linkType(h):0},f.prototype.symmetricDiffLinkLengths=function(h,d){var v=this;return d===void 0&&(d=1),this.linkDistance(function(g){return h*g.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(v._links,v.linkAccessor,d)},this},f.prototype.jaccardLinkLengths=function(h,d){var v=this;return d===void 0&&(d=1),this.linkDistance(function(g){return h*g.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(v._links,v.linkAccessor,d)},this},f.prototype.start=function(h,d,v,g,p,m){var y=this;h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),p===void 0&&(p=!0),m===void 0&&(m=!0);var b,w=this.nodes().length,B=w+2*this._groups.length;this._links.length;var T=this._canvasSize[0],k=this._canvasSize[1],A=new Array(B),E=new Array(B),P=null,S=this._avoidOverlaps;this._nodes.forEach(function(F,q){F.index=q,typeof F.x>"u"&&(F.x=T/2,F.y=k/2),A[q]=F.x,E[q]=F.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var _;this._distanceMatrix?_=this._distanceMatrix:(_=new i.Calculator(B,this._links,f.getSourceIndex,f.getTargetIndex,function(F){return y.getLinkLength(F)}).DistanceMatrix(),P=n.Descent.createSquareMatrix(B,function(){return 2}),this._links.forEach(function(F){typeof F.source=="number"&&(F.source=y._nodes[F.source]),typeof F.target=="number"&&(F.target=y._nodes[F.target])}),this._links.forEach(function(F){var q=f.getSourceIndex(F),j=f.getTargetIndex(F);P[q][j]=P[j][q]=F.weight||1}));var x=n.Descent.createSquareMatrix(B,function(F,q){return _[F][q]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var b=w,C=function(q,j,U,X){P[q][j]=P[j][q]=U,x[q][j]=x[j][q]=X};this._groups.forEach(function(q){C(b,b+1,y._groupCompactness,.1),A[b]=0,E[b++]=0,A[b]=0,E[b++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var I=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,I=I.concat(r.generateDirectedEdgeConstraints(w,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([A,E],x),this._descent.locks.clear();for(var b=0;b<w;++b){var R=this._nodes[b];if(R.fixed){R.px=R.x,R.py=R.y;var M=[R.x,R.y];this._descent.locks.add(b,M)}}if(this._descent.threshold=this._threshold,this.initialLayout(h,A,E),I.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,I).projectFunctions()),this._descent.run(d),this.separateOverlappingComponents(T,k,m),this.avoidOverlaps(S),S&&(this._nodes.forEach(function(F,q){F.x=A[q],F.y=E[q]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,I,!0).projectFunctions(),this._nodes.forEach(function(F,q){A[q]=F.x,E[q]=F.y})),this._descent.G=P,this._descent.run(v),g){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=w,this._descent.scaleSnapByMaxH=w!=B;var N=n.Descent.createSquareMatrix(B,function(F,q){return F>=w||q>=w?P[F][q]:0});this._descent.G=N,this._descent.run(g)}return this.updateNodePositions(),this.separateOverlappingComponents(T,k,m),p?this.resume():this},f.prototype.initialLayout=function(h,d,v){if(this._groups.length>0&&h>0){var g=this._nodes.length,p=this._links.map(function(y){return{source:y.source.index,target:y.target.index}}),m=this._nodes.map(function(y){return{index:y.index}});this._groups.forEach(function(y,b){m.push({index:y.index=g+b})}),this._groups.forEach(function(y,b){typeof y.leaves<"u"&&y.leaves.forEach(function(w){return p.push({source:y.index,target:w.index})}),typeof y.groups<"u"&&y.groups.forEach(function(w){return p.push({source:y.index,target:w.index})})}),new f().size(this.size()).nodes(m).links(p).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(h,0,0,0,!1),this._nodes.forEach(function(y){d[y.index]=m[y.index].x,v[y.index]=m[y.index].y})}else this._descent.run(h)},f.prototype.separateOverlappingComponents=function(h,d,v){var g=this;if(v===void 0&&(v=!0),!this._distanceMatrix&&this._handleDisconnected){var p=this._descent.x[0],m=this._descent.x[1];this._nodes.forEach(function(b,w){b.x=p[w],b.y=m[w]});var y=o.separateGraphs(this._nodes,this._links);o.applyPacking(y,h,d,this._defaultNodeSize,1,v),this._nodes.forEach(function(b,w){g._descent.x[0][w]=b.x,g._descent.x[1][w]=b.y,b.bounds&&(b.bounds.setXCentre(b.x),b.bounds.setYCentre(b.y))})}},f.prototype.resume=function(){return this.alpha(.1)},f.prototype.stop=function(){return this.alpha(0)},f.prototype.prepareEdgeRouting=function(h){h===void 0&&(h=0),this._visibilityGraph=new s.TangentVisibilityGraph(this._nodes.map(function(d){return d.bounds.inflate(-h).vertices()}))},f.prototype.routeEdge=function(h,d,v){d===void 0&&(d=5);var g=[],p=new s.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),m={x:h.source.x,y:h.source.y},y={x:h.target.x,y:h.target.y},b=p.addPoint(m,h.source.index),w=p.addPoint(y,h.target.index);p.addEdgeIfVisible(m,y,h.source.index,h.target.index),typeof v<"u"&&v(p);var B=function(I){return I.source.id},T=function(I){return I.target.id},k=function(I){return I.length()},A=new i.Calculator(p.V.length,p.E,B,T,k),E=A.PathFromNodeToNode(b.id,w.id);if(E.length===1||E.length===p.V.length){var P=a.makeEdgeBetween(h.source.innerBounds,h.target.innerBounds,d);g=[P.sourceIntersection,P.arrowStart]}else{for(var S=E.length-2,_=p.V[E[S]].p,x=p.V[E[0]].p,g=[h.source.innerBounds.rayIntersection(_.x,_.y)],C=S;C>=0;--C)g.push(p.V[E[C]].p);g.push(a.makeEdgeTo(x,h.target.innerBounds,d))}return g},f.getSourceIndex=function(h){return typeof h.source=="number"?h.source:h.source.index},f.getTargetIndex=function(h){return typeof h.target=="number"?h.target:h.target.index},f.linkId=function(h){return f.getSourceIndex(h)+"-"+f.getTargetIndex(h)},f.dragStart=function(h){l(h)?f.storeOffset(h,f.dragOrigin(h)):(f.stopNode(h),h.fixed|=2)},f.stopNode=function(h){h.px=h.x,h.py=h.y},f.storeOffset=function(h,d){typeof h.leaves<"u"&&h.leaves.forEach(function(v){v.fixed|=2,f.stopNode(v),v._dragGroupOffsetX=v.x-d.x,v._dragGroupOffsetY=v.y-d.y}),typeof h.groups<"u"&&h.groups.forEach(function(v){return f.storeOffset(v,d)})},f.dragOrigin=function(h){return l(h)?{x:h.bounds.cx(),y:h.bounds.cy()}:h},f.drag=function(h,d){l(h)?(typeof h.leaves<"u"&&h.leaves.forEach(function(v){h.bounds.setXCentre(d.x),h.bounds.setYCentre(d.y),v.px=v._dragGroupOffsetX+d.x,v.py=v._dragGroupOffsetY+d.y}),typeof h.groups<"u"&&h.groups.forEach(function(v){return f.drag(v,d)})):(h.px=d.x,h.py=d.y)},f.dragEnd=function(h){l(h)?(typeof h.leaves<"u"&&h.leaves.forEach(function(d){f.dragEnd(d),delete d._dragGroupOffsetX,delete d._dragGroupOffsetY}),typeof h.groups<"u"&&h.groups.forEach(f.dragEnd)):h.fixed&=-7},f.mouseOver=function(h){h.fixed|=4,h.px=h.x,h.py=h.y},f.mouseOut=function(h){h.fixed&=-5},f}();t.Layout=c}(kl)),kl}var Rv;function wS(){if(Rv)return Dn;Rv=1;var t=Dn&&Dn.__extends||function(){var a=function(i,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])},a(i,s)};return function(i,s){a(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(Dn,"__esModule",{value:!0});var e=Xi(),r=function(a){t(i,a);function i(s){var o=a.call(this)||this,u=s;return u.trigger&&(o.trigger=u.trigger),u.kick&&(o.kick=u.kick),u.drag&&(o.drag=u.drag),u.on&&(o.on=u.on),o.dragstart=o.dragStart=e.Layout.dragStart,o.dragend=o.dragEnd=e.Layout.dragEnd,o}return i.prototype.trigger=function(s){},i.prototype.kick=function(){},i.prototype.drag=function(){},i.prototype.on=function(s,o){return this},i}(e.Layout);Dn.LayoutAdaptor=r;function n(a){return new r(a)}return Dn.adaptor=n,Dn}var ys={},In={},Iv;function xS(){if(Iv)return In;Iv=1;var t=In&&In.__extends||function(){var a=function(i,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)u.hasOwnProperty(l)&&(o[l]=u[l])},a(i,s)};return function(i,s){a(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(In,"__esModule",{value:!0});var e=Xi(),r=function(a){t(i,a);function i(){var s=a.call(this)||this;s.event=d3.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var o=s;return s.drag=function(){if(!u)var u=d3.behavior.drag().origin(e.Layout.dragOrigin).on("dragstart.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(l){e.Layout.drag(l,d3.event),o.resume()}).on("dragend.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return u;this.call(u)},s}return i.prototype.trigger=function(s){var o={type:e.EventType[s.type],alpha:s.alpha,stress:s.stress};this.event[o.type](o)},i.prototype.kick=function(){var s=this;d3.timer(function(){return a.prototype.tick.call(s)})},i.prototype.on=function(s,o){return typeof s=="string"?this.event.on(s,o):this.event.on(e.EventType[s],o),this},i}(e.Layout);In.D3StyleLayoutAdaptor=r;function n(){return new r}return In.d3adaptor=n,In}var ha={},Mv;function ES(){if(Mv)return ha;Mv=1;var t=ha&&ha.__extends||function(){var n=function(a,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var u in o)o.hasOwnProperty(u)&&(s[u]=o[u])},n(a,i)};return function(a,i){n(a,i);function s(){this.constructor=a}a.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(ha,"__esModule",{value:!0});var e=Xi(),r=function(n){t(a,n);function a(i){var s=n.call(this)||this;s.d3Context=i,s.event=i.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var o=s;return s.drag=function(){if(!u)var u=i.drag().subject(e.Layout.dragOrigin).on("start.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(l){e.Layout.drag(l,i.event),o.resume()}).on("end.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return u;arguments[0].call(u)},s}return a.prototype.trigger=function(i){var s={type:e.EventType[i.type],alpha:i.alpha,stress:i.stress};this.event.call(s.type,s)},a.prototype.kick=function(){var i=this,s=this.d3Context.timer(function(){return n.prototype.tick.call(i)&&s.stop()})},a.prototype.on=function(i,s){return typeof i=="string"?this.event.on(i,s):this.event.on(e.EventType[i],s),this},a}(e.Layout);return ha.D3StyleLayoutAdaptor=r,ha}var Lv;function AS(){if(Lv)return ys;Lv=1,Object.defineProperty(ys,"__esModule",{value:!0});var t=xS(),e=ES();function r(a){return!a||n(a)?new t.D3StyleLayoutAdaptor:new e.D3StyleLayoutAdaptor(a)}ys.d3adaptor=r;function n(a){var i=/^3\./;return a.version&&a.version.match(i)!==null}return ys}var Mn={},Ov;function r0(){if(Ov)return Mn;Ov=1,Object.defineProperty(Mn,"__esModule",{value:!0});var t=Yi(),e=tf(),r=Oo(),n=function(){function o(u,l,c){this.id=u,this.rect=l,this.children=c,this.leaf=typeof c>"u"||c.length===0}return o}();Mn.NodeWrapper=n;var a=function(){function o(u,l,c,f,h){f===void 0&&(f=null),h===void 0&&(h=null),this.id=u,this.x=l,this.y=c,this.node=f,this.line=h}return o}();Mn.Vert=a;var i=function(){function o(u,l){this.s=u,this.t=l;var c=o.findMatch(u,l),f=l.slice(0).reverse(),h=o.findMatch(u,f);c.length>=h.length?(this.length=c.length,this.si=c.si,this.ti=c.ti,this.reversed=!1):(this.length=h.length,this.si=h.si,this.ti=l.length-h.ti-h.length,this.reversed=!0)}return o.findMatch=function(u,l){for(var c=u.length,f=l.length,h={length:0,si:-1,ti:-1},d=new Array(c),v=0;v<c;v++){d[v]=new Array(f);for(var g=0;g<f;g++)if(u[v]===l[g]){var p=d[v][g]=v===0||g===0?1:d[v-1][g-1]+1;p>h.length&&(h.length=p,h.si=v-p+1,h.ti=g-p+1)}else d[v][g]=0}return h},o.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},o}();Mn.LongestCommonSubsequence=i;var s=function(){function o(u,l,c){var f=this;c===void 0&&(c=12),this.originalnodes=u,this.groupPadding=c,this.leaves=null,this.nodes=u.map(function(T,k){return new n(k,l.getBounds(T),l.getChildren(T))}),this.leaves=this.nodes.filter(function(T){return T.leaf}),this.groups=this.nodes.filter(function(T){return!T.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(T){return T.children.forEach(function(k){return f.nodes[k].parent=T})}),this.root={children:[]},this.nodes.forEach(function(T){typeof T.parent>"u"&&(T.parent=f.root,f.root.children.push(T.id)),T.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(T,k){return f.getDepth(T)-f.getDepth(k)});var h=this.backToFront.slice(0).reverse().filter(function(T){return!T.leaf});h.forEach(function(T){var k=t.Rectangle.empty();T.children.forEach(function(A){return k=k.union(f.nodes[A].rect)}),T.rect=k.inflate(f.groupPadding)});var d=this.midPoints(this.cols.map(function(T){return T.pos})),v=this.midPoints(this.rows.map(function(T){return T.pos})),g=d[0],p=d[d.length-1],m=v[0],y=v[v.length-1],b=this.rows.map(function(T){return{x1:g,x2:p,y1:T.pos,y2:T.pos}}).concat(v.map(function(T){return{x1:g,x2:p,y1:T,y2:T}})),w=this.cols.map(function(T){return{x1:T.pos,x2:T.pos,y1:m,y2:y}}).concat(d.map(function(T){return{x1:T,x2:T,y1:m,y2:y}})),B=b.concat(w);B.forEach(function(T){return T.verts=[]}),this.verts=[],this.edges=[],b.forEach(function(T){return w.forEach(function(k){var A=new a(f.verts.length,k.x1,T.y1);T.verts.push(A),k.verts.push(A),f.verts.push(A);for(var E=f.backToFront.length;E-- >0;){var P=f.backToFront[E],S=P.rect,_=Math.abs(A.x-S.cx()),x=Math.abs(A.y-S.cy());if(_<S.width()/2&&x<S.height()/2){A.node=P;break}}})}),B.forEach(function(T,k){f.nodes.forEach(function(x,C){x.rect.lineIntersections(T.x1,T.y1,T.x2,T.y2).forEach(function(I,R){var M=new a(f.verts.length,I.x,I.y,x,T);f.verts.push(M),T.verts.push(M),x.ports.push(M)})});var A=Math.abs(T.y1-T.y2)<.1,E=function(x,C){return A?C.x-x.x:C.y-x.y};T.verts.sort(E);for(var P=1;P<T.verts.length;P++){var S=T.verts[P-1],_=T.verts[P];S.node&&S.node===_.node&&S.node.leaf||f.edges.push({source:S.id,target:_.id,length:Math.abs(E(S,_))})}})}return o.prototype.avg=function(u){return u.reduce(function(l,c){return l+c})/u.length},o.prototype.getGridLines=function(u){for(var l=[],c=this.leaves.slice(0,this.leaves.length);c.length>0;){var f=c.filter(function(d){return d.rect["overlap"+u.toUpperCase()](c[0].rect)}),h={nodes:f,pos:this.avg(f.map(function(d){return d.rect["c"+u]()}))};l.push(h),h.nodes.forEach(function(d){return c.splice(c.indexOf(d),1)})}return l.sort(function(d,v){return d.pos-v.pos}),l},o.prototype.getDepth=function(u){for(var l=0;u.parent!==this.root;)l++,u=u.parent;return l},o.prototype.midPoints=function(u){for(var l=u[1]-u[0],c=[u[0]-l/2],f=1;f<u.length;f++)c.push((u[f]+u[f-1])/2);return c.push(u[u.length-1]+l/2),c},o.prototype.findLineage=function(u){var l=[u];do u=u.parent,l.push(u);while(u!==this.root);return l.reverse()},o.prototype.findAncestorPathBetween=function(u,l){for(var c=this.findLineage(u),f=this.findLineage(l),h=0;c[h]===f[h];)h++;return{commonAncestor:c[h-1],lineages:c.slice(h).concat(f.slice(h))}},o.prototype.siblingObstacles=function(u,l){var c=this,f=this.findAncestorPathBetween(u,l),h={};f.lineages.forEach(function(v){return h[v.id]={}});var d=f.commonAncestor.children.filter(function(v){return!(v in h)});return f.lineages.filter(function(v){return v.parent!==f.commonAncestor}).forEach(function(v){return d=d.concat(v.parent.children.filter(function(g){return g!==v.id}))}),d.map(function(v){return c.nodes[v]})},o.getSegmentSets=function(u,l,c){for(var f=[],h=0;h<u.length;h++)for(var d=u[h],v=0;v<d.length;v++){var g=d[v];g.edgeid=h,g.i=v;var p=g[1][l]-g[0][l];Math.abs(p)<.1&&f.push(g)}f.sort(function(w,B){return w[0][l]-B[0][l]});for(var m=[],y=null,b=0;b<f.length;b++){var g=f[b];(!y||Math.abs(g[0][l]-y.pos)>.1)&&(y={pos:g[0][l],segments:[]},m.push(y)),y.segments.push(g)}return m},o.nudgeSegs=function(u,l,c,f,h,d){var v=f.length;if(!(v<=1)){for(var g=f.map(function(P){return new e.Variable(P[0][u])}),p=[],m=0;m<v;m++)for(var y=0;y<v;y++)if(m!==y){var b=f[m],w=f[y],B=b.edgeid,T=w.edgeid,k=-1,A=-1;u=="x"?h(B,T)&&(b[0][l]<b[1][l]?(k=y,A=m):(k=m,A=y)):h(B,T)&&(b[0][l]<b[1][l]?(k=m,A=y):(k=y,A=m)),k>=0&&p.push(new e.Constraint(g[k],g[A],d))}var E=new e.Solver(g,p);E.solve(),g.forEach(function(P,S){var _=f[S],x=P.position();_[0][u]=_[1][u]=x;var C=c[_.edgeid];_.i>0&&(C[_.i-1][1][u]=x),_.i<C.length-1&&(C[_.i+1][0][u]=x)})}},o.nudgeSegments=function(u,l,c,f,h){for(var d=o.getSegmentSets(u,l,c),v=0;v<d.length;v++){for(var g=d[v],p=[],m=0;m<g.segments.length;m++){var y=g.segments[m];p.push({type:0,s:y,pos:Math.min(y[0][c],y[1][c])}),p.push({type:1,s:y,pos:Math.max(y[0][c],y[1][c])})}p.sort(function(B,T){return B.pos-T.pos+B.type-T.type});var b=[],w=0;p.forEach(function(B){B.type===0?(b.push(B.s),w++):w--,w==0&&(o.nudgeSegs(l,c,u,b,f,h),b=[])})}},o.prototype.routeEdges=function(u,l,c,f){var h=this,d=u.map(function(p){return h.route(c(p),f(p))}),v=o.orderEdges(d),g=d.map(function(p){return o.makeSegments(p)});return o.nudgeSegments(g,"x","y",v,l),o.nudgeSegments(g,"y","x",v,l),o.unreverseEdges(g,d),g},o.unreverseEdges=function(u,l){u.forEach(function(c,f){var h=l[f];h.reversed&&(c.reverse(),c.forEach(function(d){d.reverse()}))})},o.angleBetween2Lines=function(u,l){var c=Math.atan2(u[0].y-u[1].y,u[0].x-u[1].x),f=Math.atan2(l[0].y-l[1].y,l[0].x-l[1].x),h=c-f;return(h>Math.PI||h<-Math.PI)&&(h=f-c),h},o.isLeft=function(u,l,c){return(l.x-u.x)*(c.y-u.y)-(l.y-u.y)*(c.x-u.x)<=0},o.getOrder=function(u){for(var l={},c=0;c<u.length;c++){var f=u[c];typeof l[f.l]>"u"&&(l[f.l]={}),l[f.l][f.r]=!0}return function(h,d){return typeof l[h]<"u"&&l[h][d]}},o.orderEdges=function(u){for(var l=[],c=0;c<u.length-1;c++)for(var f=c+1;f<u.length;f++){var h=u[c],d=u[f],v=new i(h,d),g,p,m;if(v.length!==0){if(v.reversed&&(d.reverse(),d.reversed=!0,v=new i(h,d)),(v.si<=0||v.ti<=0)&&(v.si+v.length>=h.length||v.ti+v.length>=d.length)){l.push({l:c,r:f});continue}v.si+v.length>=h.length||v.ti+v.length>=d.length?(g=h[v.si+1],m=h[v.si-1],p=d[v.ti-1]):(g=h[v.si+v.length-2],p=h[v.si+v.length],m=d[v.ti+v.length]),o.isLeft(g,p,m)?l.push({l:f,r:c}):l.push({l:c,r:f})}}return o.getOrder(l)},o.makeSegments=function(u){function l(p){return{x:p.x,y:p.y}}for(var c=function(p,m,y){return Math.abs((m.x-p.x)*(y.y-p.y)-(m.y-p.y)*(y.x-p.x))<.001},f=[],h=l(u[0]),d=1;d<u.length;d++){var v=l(u[d]),g=d<u.length-1?u[d+1]:null;(!g||!c(h,v,g))&&(f.push([h,v]),h=v)}return f},o.prototype.route=function(u,l){var c=this,f=this.nodes[u],h=this.nodes[l];this.obstacles=this.siblingObstacles(f,h);var d={};this.obstacles.forEach(function(A){return d[A.id]=A}),this.passableEdges=this.edges.filter(function(A){var E=c.verts[A.source],P=c.verts[A.target];return!(E.node&&E.node.id in d||P.node&&P.node.id in d)});for(var v=1;v<f.ports.length;v++){var g=f.ports[0].id,p=f.ports[v].id;this.passableEdges.push({source:g,target:p,length:0})}for(var v=1;v<h.ports.length;v++){var g=h.ports[0].id,p=h.ports[v].id;this.passableEdges.push({source:g,target:p,length:0})}var m=function(A){return A.source},y=function(A){return A.target},b=function(A){return A.length},w=new r.Calculator(this.verts.length,this.passableEdges,m,y,b),B=function(A,E,P){var S=c.verts[A],_=c.verts[E],x=c.verts[P],C=Math.abs(x.x-S.x),I=Math.abs(x.y-S.y);return S.node===f&&S.node===_.node||_.node===h&&_.node===x.node?0:C>1&&I>1?1e3:0},T=w.PathFromNodeToNodeWithPrevCost(f.ports[0].id,h.ports[0].id,B),k=T.reverse().map(function(A){return c.verts[A]});return k.push(this.nodes[h.id].ports[0]),k.filter(function(A,E){return!(E<k.length-1&&k[E+1].node===f&&A.node===f||E>0&&A.node===h&&k[E-1].node===h)})},o.getRoutePath=function(u,l,c,f){var h={routepath:"M "+u[0][0].x+" "+u[0][0].y+" ",arrowpath:""};if(u.length>1)for(var d=0;d<u.length;d++){var v=u[d],g=v[1].x,p=v[1].y,m=g-v[0].x,y=p-v[0].y;if(d<u.length-1){Math.abs(m)>0?g-=m/Math.abs(m)*l:p-=y/Math.abs(y)*l,h.routepath+="L "+g+" "+p+" ";var b=u[d+1],w=b[0].x,B=b[0].y,T=b[1].x,k=b[1].y;m=T-w,y=k-B;var A=o.angleBetween2Lines(v,b)<0?1:0,E,P;Math.abs(m)>0?(E=w+m/Math.abs(m)*l,P=B):(E=w,P=B+y/Math.abs(y)*l);var S=Math.abs(E-g),_=Math.abs(P-p);h.routepath+="A "+S+" "+_+" 0 0 "+A+" "+E+" "+P+" "}else{var x=[g,p],C,I;Math.abs(m)>0?(g-=m/Math.abs(m)*f,C=[g,p+c],I=[g,p-c]):(p-=y/Math.abs(y)*f,C=[g+c,p],I=[g-c,p]),h.routepath+="L "+g+" "+p+" ",f>0&&(h.arrowpath="M "+x[0]+" "+x[1]+" L "+C[0]+" "+C[1]+" L "+I[0]+" "+I[1])}}else{var v=u[0],g=v[1].x,p=v[1].y,m=g-v[0].x,y=p-v[0].y,x=[g,p],C,I;Math.abs(m)>0?(g-=m/Math.abs(m)*f,C=[g,p+c],I=[g,p-c]):(p-=y/Math.abs(y)*f,C=[g+c,p],I=[g-c,p]),h.routepath+="L "+g+" "+p+" ",f>0&&(h.arrowpath="M "+x[0]+" "+x[1]+" L "+C[0]+" "+C[1]+" L "+I[0]+" "+I[1])}return h},o}();return Mn.GridRouter=s,Mn}var da={},Nv;function CS(){if(Nv)return da;Nv=1,Object.defineProperty(da,"__esModule",{value:!0});var t=Oo(),e=ef(),r=Yi(),n=Jc(),a=function(){function u(l,c){this.source=l,this.target=c}return u.prototype.actualLength=function(l){var c=this;return Math.sqrt(l.reduce(function(f,h){var d=h[c.target]-h[c.source];return f+d*d},0))},u}();da.Link3D=a;var i=function(){function u(l,c,f){l===void 0&&(l=0),c===void 0&&(c=0),f===void 0&&(f=0),this.x=l,this.y=c,this.z=f}return u}();da.Node3D=i;var s=function(){function u(l,c,f){var h=this;f===void 0&&(f=1),this.nodes=l,this.links=c,this.idealLinkLength=f,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(u.k);for(var d=0;d<u.k;++d)this.result[d]=new Array(l.length);l.forEach(function(v,g){for(var p=0,m=u.dims;p<m.length;p++){var y=m[p];typeof v[y]>"u"&&(v[y]=Math.random())}h.result[0][g]=v.x,h.result[1][g]=v.y,h.result[2][g]=v.z})}return u.prototype.linkLength=function(l){return l.actualLength(this.result)},u.prototype.start=function(l){var c=this;l===void 0&&(l=100);var f=this.nodes.length,h=new o;this.useJaccardLinkLengths&&n.jaccardLinkLengths(this.links,h,1.5),this.links.forEach(function(y){return y.length*=c.idealLinkLength});var d=new t.Calculator(f,this.links,function(y){return y.source},function(y){return y.target},function(y){return y.length}).DistanceMatrix(),v=e.Descent.createSquareMatrix(f,function(y,b){return d[y][b]}),g=e.Descent.createSquareMatrix(f,function(){return 2});this.links.forEach(function(y){var b=y.source,w=y.target;return g[b][w]=g[w][b]=1}),this.descent=new e.Descent(this.result,v),this.descent.threshold=.001,this.descent.G=g,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var p=0;p<this.nodes.length;p++){var m=this.nodes[p];m.fixed&&this.descent.locks.add(p,[m.x,m.y,m.z])}return this.descent.run(l),this},u.prototype.tick=function(){this.descent.locks.clear();for(var l=0;l<this.nodes.length;l++){var c=this.nodes[l];c.fixed&&this.descent.locks.add(l,[c.x,c.y,c.z])}return this.descent.rungeKutta()},u.dims=["x","y","z"],u.k=u.dims.length,u}();da.Layout3D=s;var o=function(){function u(){}return u.prototype.getSourceIndex=function(l){return l.source},u.prototype.getTargetIndex=function(l){return l.target},u.prototype.getLength=function(l){return l.length},u.prototype.setLength=function(l,c){l.length=c},u}();return da}var ni={},Fv;function _S(){if(Fv)return ni;Fv=1,Object.defineProperty(ni,"__esModule",{value:!0});var t=Xi(),e=r0();function r(i,s,o,u){i.cola.start(0,0,0,10,!1);var l=n(i.cola.nodes(),i.cola.groups(),o,u);return l.routeEdges(i.powerGraph.powerEdges,s,function(c){return c.source.routerNode.id},function(c){return c.target.routerNode.id})}ni.gridify=r;function n(i,s,o,u){i.forEach(function(c){c.routerNode={name:c.name,bounds:c.bounds.inflate(-o)}}),s.forEach(function(c){c.routerNode={bounds:c.bounds.inflate(-u),children:(typeof c.groups<"u"?c.groups.map(function(f){return i.length+f.id}):[]).concat(typeof c.leaves<"u"?c.leaves.map(function(f){return f.index}):[])}});var l=i.concat(s).map(function(c,f){return c.routerNode.id=f,c.routerNode});return new e.GridRouter(l,{getChildren:function(c){return c.children},getBounds:function(c){return c.bounds}},o-u)}function a(i,s,o){var u;i.nodes.forEach(function(h,d){return h.index=d}),new t.Layout().avoidOverlaps(!1).nodes(i.nodes).links(i.links).powerGraphGroups(function(h){u=h,u.groups.forEach(function(d){return d.padding=o})});var l=i.nodes.length,c=[],f=i.nodes.slice(0);return f.forEach(function(h,d){return h.index=d}),u.groups.forEach(function(h){var d=h.index=h.id+l;f.push(h),typeof h.leaves<"u"&&h.leaves.forEach(function(v){return c.push({source:d,target:v.index})}),typeof h.groups<"u"&&h.groups.forEach(function(v){return c.push({source:d,target:v.id+l})})}),u.powerEdges.forEach(function(h){c.push({source:h.source.index,target:h.target.index})}),new t.Layout().size(s).nodes(f).links(c).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new t.Layout().convergenceThreshold(.001).size(s).avoidOverlaps(!0).nodes(i.nodes).links(i.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(h){u=h,u.groups.forEach(function(d){d.padding=o})}).start(50,0,100,0,!1),powerGraph:u}}return ni.powerGraphGridLayout=a,ni}var zv;function SS(){return zv||(zv=1,function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(wS()),e(AS()),e(ef()),e(e0()),e(r0()),e(t0()),e(Xi()),e(CS()),e(Jc()),e(Xy()),e(Jy()),e(Zy()),e(Yi()),e(Oo()),e(tf()),e(_S())}(Tl)),Tl}var TS=Ls.exports,qv;function kS(){return qv||(qv=1,function(t,e){(function(n,a){t.exports=a(SS())})(TS,function(r){return function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.i=function(s){return s},i.d=function(s,o,u){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=3)}([function(n,a,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o=i(1),u=i(2),l=i(5)||(typeof window<"u"?window.cola:null),c=i(4),f=function(b){return(typeof b>"u"?"undefined":s(b))===s("")},h=function(b){return(typeof b>"u"?"undefined":s(b))===s(0)},d=function(b){return b!=null&&(typeof b>"u"?"undefined":s(b))===s({})},v=function(b){return b!=null&&(typeof b>"u"?"undefined":s(b))===s(function(){})},g=function(){},p=function(b,w){if(v(b)){var B=b;return B.apply(w,[w])}else return b};function m(y){this.options=o({},u,y)}m.prototype.run=function(){var y=this,b=this.options;y.manuallyStopped=!1;var w=b.cy,B=b.eles,T=B.nodes(),k=B.edges(),A=!1,E=function(D){return D.isParent()},P=T.filter(E),S=T.subtract(P),_=b.boundingBox||{x1:0,y1:0,w:w.width(),h:w.height()};_.x2===void 0&&(_.x2=_.x1+_.w),_.w===void 0&&(_.w=_.x2-_.x1),_.y2===void 0&&(_.y2=_.y1+_.h),_.h===void 0&&(_.h=_.y2-_.y1);var x=function(){for(var D=0;D<T.length;D++){var L=T[D],z=L.layoutDimensions(b),Q=L.scratch("cola");if(!Q.updatedDims){var ne=p(b.nodeSpacing,L);Q.width=z.w+2*ne,Q.height=z.h+2*ne}}T.positions(function(J){var ae=J.scratch().cola,te=void 0;return!J.grabbed()&&S.contains(J)&&(te={x:_.x1+ae.x,y:_.y1+ae.y},(!h(te.x)||!h(te.y))&&(te=void 0)),te}),T.updateCompoundBounds(),A||(I(),A=!0),b.fit&&w.fit(b.padding)},C=function(){b.ungrabifyWhileSimulating&&N.grabify(),w.off("destroy",F),T.off("grab free position",q),T.off("lock unlock",j),y.one("layoutstop",b.stop),y.trigger({type:"layoutstop",layout:y})},I=function(){y.one("layoutready",b.ready),y.trigger({type:"layoutready",layout:y})},R=b.refresh;b.refresh<0?R=1:R=Math.max(1,R);var M=y.adaptor=l.adaptor({trigger:function(D){var L=l.EventType?l.EventType.tick:null,z=l.EventType?l.EventType.end:null;switch(D.type){case"tick":case L:b.animate&&x();break;case"end":case z:x(),b.infinite||C();break}},kick:function(){var D=!0,L=function(){if(y.manuallyStopped)return C(),!0;var J=M.tick();return!b.infinite&&!D&&M.convergenceThreshold(b.convergenceThreshold),D=!1,J&&b.infinite&&M.resume(),J},z=function(){for(var J=void 0,ae=0;ae<R&&!J;ae++)J=J||L();return J};if(b.animate){var Q=function ne(){z()||c(ne)};c(Q)}else for(;!L(););},on:g,drag:g});y.adaptor=M;var N=T.filter(":grabbable");b.ungrabifyWhileSimulating&&N.ungrabify();var F=void 0;w.one("destroy",F=function(){y.stop()});var q=void 0;T.on("grab free position",q=function(D){var L=this,z=L.scratch().cola,Q=L.position(),ne=D.cyTarget===L||D.target===L;if(ne)switch(D.type){case"grab":M.dragstart(z);break;case"free":M.dragend(z);break;case"position":(z.px!==Q.x-_.x1||z.py!==Q.y-_.y1)&&(z.px=Q.x-_.x1,z.py=Q.y-_.y1);break}});var j=void 0;T.on("lock unlock",j=function(){var D=this,L=D.scratch().cola;L.fixed=D.locked(),D.locked()?M.dragstart(L):M.dragend(L)}),M.nodes(S.map(function(H,D){var L=p(b.nodeSpacing,H),z=H.position(),Q=H.layoutDimensions(b),ne=H.scratch().cola={x:b.randomize&&!H.locked()||z.x===void 0?Math.round(Math.random()*_.w):z.x,y:b.randomize&&!H.locked()||z.y===void 0?Math.round(Math.random()*_.h):z.y,width:Q.w+2*L,height:Q.h+2*L,index:D,fixed:H.locked()};return ne}));var U=[];if(b.alignment){if(b.alignment.vertical){var X=b.alignment.vertical;X.forEach(function(H){var D=[];H.forEach(function(L){var z=L.node,Q=z.scratch().cola,ne=Q.index;D.push({node:ne,offset:L.offset?L.offset:0})}),U.push({type:"alignment",axis:"x",offsets:D})})}if(b.alignment.horizontal){var Y=b.alignment.horizontal;Y.forEach(function(H){var D=[];H.forEach(function(L){var z=L.node,Q=z.scratch().cola,ne=Q.index;D.push({node:ne,offset:L.offset?L.offset:0})}),U.push({type:"alignment",axis:"y",offsets:D})})}}b.gapInequalities&&b.gapInequalities.forEach(function(H){var D=H.left.scratch().cola.index,L=H.right.scratch().cola.index;U.push({axis:H.axis,left:D,right:L,gap:H.gap,equality:H.equality})}),U.length>0&&M.constraints(U),M.groups(P.map(function(H,D){var L=p(b.nodeSpacing,H),z=function(oe){return parseFloat(H.style("padding-"+oe))},Q=z("left")+L,ne=z("right")+L,J=z("top")+L,ae=z("bottom")+L;return H.scratch().cola={index:D,padding:Math.max(Q,ne,J,ae),leaves:H.children().intersection(S).map(function(te){return te[0].scratch().cola.index}),fixed:H.locked()},H}).map(function(H){return H.scratch().cola.groups=H.children().intersection(P).map(function(D){return D.scratch().cola.index}),H.scratch().cola}));var Z=void 0,K=void 0;b.edgeLength!=null?(Z=b.edgeLength,K="linkDistance"):b.edgeSymDiffLength!=null?(Z=b.edgeSymDiffLength,K="symmetricDiffLinkLengths"):b.edgeJaccardLength!=null?(Z=b.edgeJaccardLength,K="jaccardLinkLengths"):(Z=100,K="linkDistance");var G=function(D){return D.calcLength};if(M.links(k.stdFilter(function(H){return S.contains(H.source())&&S.contains(H.target())}).map(function(H){var D=H.scratch().cola={source:H.source()[0].scratch().cola.index,target:H.target()[0].scratch().cola.index};return Z!=null&&(D.calcLength=p(Z,H)),D})),M.size([_.w,_.h]),Z!=null&&M[K](G),b.flow){var $=void 0,W="y",V=50;f(b.flow)?$={axis:b.flow,minSeparation:V}:h(b.flow)?$={axis:W,minSeparation:b.flow}:d(b.flow)?($=b.flow,$.axis=$.axis||W,$.minSeparation=$.minSeparation!=null?$.minSeparation:V):$={axis:W,minSeparation:V},M.flowLayout($.axis,$.minSeparation)}return y.trigger({type:"layoutstart",layout:y}),M.avoidOverlaps(b.avoidOverlap).handleDisconnected(b.handleDisconnected).start(b.unconstrIter,b.userConstIter,b.allConstIter,void 0,void 0,b.centerGraph),b.infinite||setTimeout(function(){y.manuallyStopped||M.stop()},b.maxSimulationTime),this},m.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=m},function(n,a,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var o=arguments.length,u=Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];return u.filter(function(c){return c!=null}).forEach(function(c){Object.keys(c).forEach(function(f){return s[f]=c[f]})}),s}},function(n,a,i){var s={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(u){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=s},function(n,a,i){var s=i(0),o=function(l){l&&l("layout","cola",s)};typeof cytoscape<"u"&&o(cytoscape),n.exports=o},function(n,a,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=void 0;(typeof window>"u"?"undefined":s(window))!=="undefined"?o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)}:o=function(l){l()},n.exports=o},function(n,a){n.exports=r}])})}(Ls)),Ls.exports}var PS=kS();const BS=bS(PS),Vv=[[`Be yourself; 
everyone else 
is already taken.`,"Oscar Wilde"],[`Be the change 
that you wish to 
see in the world.`,"Mahatma Gandhi"],[`The people who 
are crazy enough 
to think they can 
change the world, 
are the ones who do.`,"Steve Jobs"],[`It is better to be 
hated for what you 
are than to be loved 
for what you are not.`,"Andre Gide"],[`I have not failed. 
I've just found 10,000 
ways that won't work.`,"Thomas A. Edison"],[`You miss 100% 
of the shots you 
don't take.`,"Wayne Gretzky"],[`For every minute 
you are angry you 
lose sixty seconds 
of happiness.`,"Ralph Waldo Emerson"],[`Life is 10% 
what happens to you 
and 90% how you 
react to it.`,"Charles R. Swindoll"],[`Shoot for the 
moon. Even if you 
miss, you'll land 
among the stars.`,"Norman Vincent Peale"]],DS={__name:"QuotesGraph",setup(t){pn.use(BS);const e=wn(null),r=[{data:{id:"center",label:""},locked:!0,position:{x:500,y:400}},...Vv.map((n,a)=>({data:{id:`q${a}`,label:`${n[0]}

${n[1]}`}})),...Vv.map((n,a)=>({data:{id:`e${a}`,source:"center",target:`q${a}`}}))];return _g(()=>{pn({container:e.value,elements:r,style:[{selector:"node",style:{width:120,height:120,label:"data(label)","text-valign":"center","text-halign":"center","background-color":"#a9d0fc",color:"#000","font-size":"10","text-wrap":"wrap"}},{selector:"edge",style:{width:1.5,"line-color":"#888"}}],layout:{name:"cola",infinite:!0,nodeSpacing:15,edgeLengthVal:25,animate:!0,fit:!1,boundingBox:{x1:0,y1:0,w:800,h:800},randomize:!0},userZoomingEnabled:!1,userPanningEnabled:!1,boxSelectionEnabled:!1})}),(n,a)=>(ze(),Qe("div",{ref_key:"container",ref:e,class:"quotes",style:{width:"1000px",height:"800px",margin:"auto"}},null,512))}},RS={class:"flex-row mission-featured",id:"mission"},IS={class:"featured"},MS={class:"feature-arrow-container"},LS={class:"featured-content"},OS={class:"featured-image-container"},NS=["src"],FS={class:"feature-text"},zS={class:"feature-name"},qS={class:"feature-arrow-container"},VS={class:"quotes"},GS={__name:"HomeView",setup(t){const e=Uw.featured;var r=[];om.forEach(s=>{e.includes(s.name)&&r.push(["research",s.name,s.images[0]])}),sm.forEach(s=>{e.includes(s.name)&&r.push(["projects",s.name,s.versions[0].images[0]])});const n=wn(0),a=s=>new URL(Object.assign({"../assets/images/experience/mitre-logo.png":Vw,"../assets/images/experience/xphealth-logo.png":Gw,"../assets/images/experience/yankeetrails-logo.png":Hw,"../assets/images/groups/Christmas_qualifier.png":hp,"../assets/images/groups/FaceShields.jpg":dp,"../assets/images/groups/able.jpeg":vp,"../assets/images/groups/face_shields_group.jpeg":gp,"../assets/images/groups/rpi_tennis_2023_2024.jpeg":pp,"../assets/images/groups/rpisec_group.jpg":mp,"../assets/images/groups/rpisec_meeting.jpg":yp,"../assets/images/groups/tennis_caps.jpeg":bp,"../assets/images/groups/tennis_discuss.JPG":wp,"../assets/images/groups/tennis_group.JPG":xp,"../assets/images/groups/tennis_serve.JPG":Ep,"../assets/images/projects/acrylic.jpg":Ap,"../assets/images/projects/aws.png":Cp,"../assets/images/projects/btt_final_move.png":_p,"../assets/images/projects/btt_in_game.png":Sp,"../assets/images/projects/btt_start.png":Tp,"../assets/images/projects/caesar_cipher.jpeg":kp,"../assets/images/projects/clawbot_corner.jpg":Pp,"../assets/images/projects/clawbot_dark.jpg":Bp,"../assets/images/projects/clawbot_light.jpg":Dp,"../assets/images/projects/clawbot_side.jpg":Rp,"../assets/images/projects/clawbot_testing.jpg":Ip,"../assets/images/projects/cropped_joel.jpg":Mp,"../assets/images/projects/cs_graph.png":Lp,"../assets/images/projects/cytoscape.png":Op,"../assets/images/projects/favicon512x512.png":Np,"../assets/images/projects/house_plaque.jpg":Fp,"../assets/images/projects/joel-logo.png":zp,"../assets/images/projects/joel_serious.jpg":qp,"../assets/images/projects/joey.jpg":Vp,"../assets/images/projects/joey_standing.jpg":Gp,"../assets/images/projects/nanobot.png":Hp,"../assets/images/projects/rov_bathtub.jpg":jp,"../assets/images/projects/rov_outside.JPG":Wp,"../assets/images/projects/shock_absorber_JM.jpeg":Up,"../assets/images/projects/shock_absorber_RPI.jpeg":Qp,"../assets/images/projects/shock_absorber_racket.jpeg":$p,"../assets/images/projects/substitution_cipher.png":Kp,"../assets/images/projects/tesla_coil.jpg":Yp,"../assets/images/projects/tesla_soldering.jpg":Xp,"../assets/images/projects/watchband.jpg":Zp,"../assets/images/projects/watchband_bottom.jpg":Jp,"../assets/images/projects/werewolf.jpg":em,"../assets/images/research/minseg_parts.jpeg":tm,"../assets/images/research/minseg_topview.jpeg":rm,"../assets/images/research/minseg_wheels.jpeg":nm,"../assets/images/research/robot-arm.png":am,"../assets/images/research/shubble.png":im})[`../assets/images/${s[0]}/${s[2]}`],import.meta.url).href,i=()=>{document.getElementById("arrow").scrollIntoView({behavior:"smooth"})};return(s,o)=>(ze(),Qe("main",null,[o[9]||(o[9]=ve("div",{class:"flex-row id-card"},[ve("div",{class:"portrait"},[ve("img",{src:jw,alt:"Portrait"})]),ve("div",null,[ve("h1",null,"About Me"),ve("p",null,[ve("b",null," CS Masters and CS/Computer Engineering Bachelors at Rensselaer Polytechnic Institute ")]),ve("p",null," Hi, I am a CS Masters student studying the computation behind intelligent behavior, including methods of Machine Learning, Computer Vision, and Control Systems. I enjoy taking a multidisciplinary approach to solve complex problems, pursuing ambitious goals to address modern needs. "),ve("p",null," Explore my website to learn more about my projects, research, and interests! ")])],-1)),ve("div",{class:"flex-row down-arrow",id:"arrow",onClick:i},o[2]||(o[2]=[ve("div",{class:"bounce-fade"},[ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",viewBox:"0 0 256 256"},[ve("path",{fill:"#aaa",d:"m216.49 104.49l-80 80a12 12 0 0 1-17 0l-80-80a12 12 0 0 1 17-17L128 159l71.51-71.52a12 12 0 0 1 17 17Z"})])],-1)])),ve("div",RS,[o[6]||(o[6]=Cc('<div class="mission" data-v-59db53aa><h1 data-v-59db53aa>Mission Statement</h1><div class="mission-statement" data-v-59db53aa><svg class="begin-quote" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" data-v-59db53aa><path fill="currentColor" fill-rule="evenodd" d="M6 6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3H5a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2zm9 0a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2z" clip-rule="evenodd" data-v-59db53aa></path></svg><div class="mission-body" data-v-59db53aa>I will maintain a boundless curiosity for learning by embracing the excitement found in exploration. I will acquire both a breadth and depth of skills and unite fields in novel ways. I will maintain a standard for myself which builds self-esteem and pride in my accomplishments. I will give off gratitude for life and form friendships with those around me in an effort to grow together.</div><svg class="end-quote" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" data-v-59db53aa><path fill="currentColor" fill-rule="evenodd" d="M6 6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3H5a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2zm9 0a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1a5 5 0 0 0 5-5V8a2 2 0 0 0-2-2z" clip-rule="evenodd" data-v-59db53aa></path></svg></div></div>',1)),ve("div",IS,[ve("div",MS,[n.value>0?(ze(),Qe("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 256 256",onClick:o[0]||(o[0]=u=>n.value--)},o[3]||(o[3]=[ve("path",{fill:"#aaa",d:"M168.49 199.51a12 12 0 0 1-17 17l-80-80a12 12 0 0 1 0-17l80-80a12 12 0 0 1 17 17L97 128Z"},null,-1)]))):jn("",!0)]),ve("div",LS,[o[4]||(o[4]=ve("h2",null,"Featured",-1)),ve("div",OS,[ve("img",{src:a(Le(r)[n.value]),alt:"Feature Image",class:"feature-image"},null,8,NS)]),ve("div",FS,[ve("p",zS,_t(Le(r)[n.value][1]),1),at(Le(tn),{to:`/${Le(r)[n.value][0]}`},{default:Zr(()=>[rn("Continue to "+_t(Le(r)[n.value][0])+" >",1)]),_:1},8,["to"])])]),ve("div",qS,[n.value<Le(r).length-1?(ze(),Qe("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 256 256",onClick:o[1]||(o[1]=u=>n.value++)},o[5]||(o[5]=[ve("path",{fill:"#aaa",d:"m184.49 136.49l-80 80a12 12 0 0 1-17-17L159 128L87.51 56.49a12 12 0 1 1 17-17l80 80a12 12 0 0 1-.02 17"},null,-1)]))):jn("",!0)])])]),ve("div",VS,[o[7]||(o[7]=ve("h1",null,"Quotes Wall",-1)),o[8]||(o[8]=ve("p",null,' "I love finding the bits of catchy wisdom contained in quotes." - Joel McCandless ',-1)),at(DS)])]))}},HS=Hr(GS,[["__scopeId","data-v-59db53aa"]]),n0="/assets/rpi-logo-B_nQrWwj.png",jS="/assets/mitre-logo-DQcALq0D.png",WS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAEICAMAAACQzmAoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFBA8XQ0tRgYeLwMPF7/DwFB4mIy00MzxD0NLTcnh94OHioaWoYmluU1pgsLS2kZaZ////LMRyEgAAABF0Uk5T/////////////////////wAlrZliAAAM/UlEQVR42uzd55bjqBaGYRRAOdz/1U75zJp1LFnAJkhdbd7vZ3e5SoHHbIJltTsyTnXVqa9IV9XTuBMSGGX9n3U26sti5pU7TnIA6WetvjJ67rnpJBFIU6kvTtVw20kCkP6refyPCL0IiQXSDqqADC23nsQAaYwqIoY6i0QAGVQxGbj5JBBIW6mCUlFmkSAgbaeKSocQEgCkN6qwdMxmETGQ0voP+hASAqREHwghYiCVKjIVTYBIgAyq0DDbSwRAGlVsWDEkXiCtKReIYRhCfEAGVXAosogHSK+KDqshxA2kKhsIM1nECaRRhYdxOnEBqUoHQhdCHEB6VXwYhRA7kBkgMw2BWIFogGgaArEBWfGhFM/LIjYgVFjUWMQBxMBDKUNLINdARnS8wnN7yTWQCRyvTDQFcgmkBscrNU2BXAKpwMFiOrED6cDxSkdTIJdAyL+hKRCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQQgACEAAQgBCAAIQABCAEIQAhAAEIAAhACEIAQgACEAAQghAAEIAQgACEAAQgBCEAIQABCAAIQAhCAEIAAhAAEIIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQABCAEIAAhBCAAIQABCAEIQAhAAEIAAhACEIAQgACEAAQgBCAAIQAhACEAAQgBCEAIQABCAAIQAhCAEIAAhAAEIAQgACEAAQghWYB01f+jQ16o315onL/WlQ4g5DcD6d5/S2vkLzTt+ws//ld+6P00G4CQ39qDNO+/Zo183Xb+3yrs8PtBPw+kfeu9zCp7zfD2pwbLz6wp3ueAi3bsfXUdds3fT1+vge1tSr1f3fh5Pm/XzYyy46jezmG6qcQ6/J4l6ka2OhHIz6+o9dNAmvfX1RFvRJafqR86gY97NQZd8SblflXJN6pxX7c68zkkHOnhUEZhM9XvBdY+q2QgLyIACTmBj7JWbQC5A4geI+7uZj3MaCAfNQNA3FWOpxgASK5p3uXwm0QFdOd7SRSQvZ0BEl9hBdZYABFn9XQHnrO7ahBxQC5G+wARV1hKTQC5BchhxlYyTp+9w5ZYIBeFA0Cu58q8tQBAcgEJHadrP6hoIPsMkPjr1ALkFiCqDypzJn9JFg8k8doXA0R77wxA8gE5/u4u4Icti++Hn6kt20yGeuovimsNkLgKK6zGAkhIBJ3CdXdTCxC5rqYZxqwD9b8diE6rRNuHgCylAfEt/Nl2WIwqEchryH++q90XARmasIwpFVZQjZUEZKxtOVQUs/XHpv3vAuLbOmKjVGUAonTjOO2/HEiz35JVtKZ1HxBh8RV09r8biGfzoeU9alU5gHy88RmAeDLYzr8FyE1AOtkgrJL1NIFATkImgHhihG81AMkG5HhIve2nRtH7WDAQ3ftWiQEiuT0B2+UBEjpOl7R9maJwILG77gsFcrg7h89maIDcBeQ4wLuunkwrbPjBQI61wQYQeYV13OK5AuQuIMdrO3l/YlM5gRhh3wSQ0+VZjlMlM0BuA+LtH4Qj9Cggx/VHgMgrrONRaYDcBsQ7whjFq4kRQIbwl5QKpDtN7C4xNRZAUjct1k4/jcoMpMoySi8ByHie3ZhiaiyApG5aPO9DNPZ3sRxAlBMnQCyDv+08La4Bch8Q5zq5dK0dIDcD6T7K3iqixgJI+qbFyjoL7PtUVQyQESBxFdbp7WoAyH1ATp+mta4jLio/kAYg4RXW8GnGAORGINbnMQSM0COB9AAJr7B6+78B5BYglof1eh/0wxjkISDtVW9Rh9dYAMmxGNL4OpabgAwAsWW6stCH11gAybJpcfEMTW5aB2Gh0JrrVUETXGMBJMumxX+nq3Qb2HpTV9INQCQVlr7ucgeA3AnkOJFe/7caZVseYS/Wo0Asq+ZNcI0FkEybFk3Mt+wk7uZtABJWYZ2e4tAD5E4gH+P0Jnj8nPh5kAEgkgrr/RPoc+jZACQhxw8XSj9GmAIkcBq5WCCTbbS42q8mQLIDqYQXIBuQ42fS4z8v9fVAZmuva3+HA0j+r4GeRO9g+YBM9lYAkPdoS4V1GpxsALkXiLY8X0n64Nyk52KlPJ33y4E4CqkpsMYCSFIsU+mDugGI6eP+SIFAZns30QbWWADJuGkxePo1BMhw6q1GBRBRhTU6muYGkJuBXHbSXXYg3dbGTQNkBmJqSYZgIIvvVwZ9Na1zqmoLq7F+N5BKdD/mPwjk6j1I/riqw8FO1sbRtJ7r9BiQjH8r8ARCvvRmdlXBY1iN9buB5J16vQWIHmNH6EkXfFWFAakDDtm9JbELqrEAknXT4sdE4k1Aeg0Q+8Vxb7iqg+4AQJLTO27PTUAarQBijWfLbq+siyQAeaDGegDIpBRAhBXW6vn/CSA3A6mdQ8QbgLTp33z31UAO71Da18MsALkXiIleRo+84JNWABFXWLP3jFqA3AqkSamAwi94U2U56m8G4quwTuuIE0DuBDJ7zz4jkHYymQ77i4GM/v5hDqixAJI2Qm+9VXAuIM225Dvuvw+IeCl987f+NaDGAkjudfSQkzgc7OrYLFB1eY87FoiuRAkGYny/cRZ/L20nqJ8CaqzfDcSIbkf3x4DY/lhrIl5fqecSC0T4QNtgIPk2K46S3mGR11hsVsy4Rhi8E+SvA/L7d/OK9iJOvplggGSJ4/10AcifASLaaXX8UMgKkHuAnL6s8PCXRw2QPwFEuFd38c5EAiQ956+7XYPH6QDJDUT4idpNXGMBJM8I/bV8/vEkOYA8DmSRlcCjuMYCSPQSyPixvyHsy0EAkh9IK5tDOQ1VZoDcAORKQ29drwXII0AOFZaRTnZpgOQHcvllth9VF0CeBSKssM6bHVaAZAdy/WW2k/VdCiAPAAmYvjXCGgsgcZmv+4rAbwgBSF4gAQuAg7AYA0iGTYqzpVvvAfIskFm8vHG6Nz1A8gLZrH8/6DsQAJIXiBZXWKefHQCSFUhlL2eDvkUHIFmBHHfADe6nqRlZjQWQ5E2KtaNzWQHyIJA50x0FSM5NiuddVyHjdIBkBaIz3VKA5NykuDgnuEaAPAYk5WmTBiD5gKyeu9I4CjCA3AdkTrkiPUByAal8w3BjH8ID5EYgSU+0GACSCchxk2It3aYFkLuB9ElXpANIJiC1f4hxNLQA5BEgQ9olGQGSBYjZBY368BwAx6ZFgGQEkvjMsA0gWYA0onmTwzh+A8gDQPrES9IBJAcQYd9wnAnuAHI/kGOF1UmeF6UFNRZAwkborbDqrUVvbgDJB8SEt+ReUGMBJL5Q7cVjvgEgdwMZJQMKJ6oOIMlAul3cokUfLgRINiCbZErKvbQ4AiS1XfWysffnOH0CyM1AOsmixjmrv9sBSOxqq+8j55JNiwDJBWRUEYd52t7YASTnCH0O4jQCxHWjlzosjbvC6qUnd1zEbX2nbxKP8suBrNY/KijIaoA4bnTyCXT2xVxXjqXv5Dv9fJf5G4FUu2htwzZONwC5D8ho77udae2LXABJ2qyzSV6x+a40QDKdwGTv6gPGAlc1FkCkOW5SFH14Tbs/WQWQbCdwuLY6enZ4Akh0zO5p7FeZPagAkucEWvtVD5r9WgASnSbqqjXusgwgeU7AP9aWrZ9c1FgAkWWxb1GQL713ALkHiH+21prBYwsgEUsgAffWPU4HSJYT8M9F2dN7XgsQ2QhkDJ3B+k/WZL0Zr/99uzSNBkjkCUz29yR/jPtgAVJkvgtIbZ+O92dWzrb6BJA+GsgW3ksCJDOQdnn7iJHwVm5vL7Hdw75KyHEpcH3/rynMx/H8lg9d7ZzrKI/u3n5sDqsJ3453EQ63hre/tgIkLxBSUJABEAIQgBCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBACEIAQgACEAAQgBCAAIQABCAEIQAhAAEIAAhACEIAQgBCAEIAAhAAEIAQgACEAAQgBCEAIQABCAAIQAhCAEIAAhBCAAIQABCAEIAAhAAEIAQhACEAAQgACEAIQgBCAAIQAhACEAAQgBCAAIQABCAEIQAhAAEJ+NZAOG690NAVyCaQCxysVTYFcAqnB8UpNUyCXQCZwvDLRFMglkBEcr4w0BXIJZDfoUMrQEogFyAwPpWZaArEAWeGh1EpLIBYgu8aHpiEQKxBqLCos4gDSA6SnIRArkL34xXSW0YkLSFM6kIZ2QBxASu9C6ECIG0jPCIQQO5B9KNnHQCsgHiBtwftNTEsrIB4gJY/TGaETP5ByiywKLCIBUupMFjNYRAakLfLD6R0DECIDUqQQfBAxkL0vTkjHCgiRAymuD6H/IEFA9raokXqFDxIGpKjZXuZ3STiQvSlkTd2wPkhigOxtEZ3IQHlF4oDse//1I5GK2SsSD+SnzvpqIhXVFUkD8tOLzF/6rBM903uQdCA/WeevG6+bmedfkVxAfjJOdfUli4ddVU88f5cE5x8BBgCsv0OCF6Nc0QAAAABJRU5ErkJggg==",US="/assets/yankeetrails-logo-CZouVshD.png",QS={};function $S(t,e){return e[0]||(e[0]=Cc('<div class="image-container" data-v-0f1e36f1><img src="'+n0+'" data-v-0f1e36f1><img src="'+jS+'" data-v-0f1e36f1><img src="'+WS+'" data-v-0f1e36f1><img src="'+US+'" data-v-0f1e36f1></div><h1 data-v-0f1e36f1>Professional Experience</h1><h2 data-v-0f1e36f1>Current Position</h2><p data-v-0f1e36f1><b data-v-0f1e36f1>Intern at MITRE Corporation</b> in the Communications, Signal Intelligence, and Position, Navigation and Timing team. </p><h2 data-v-0f1e36f1>Past Experiences</h2><ul data-v-0f1e36f1><li data-v-0f1e36f1><b data-v-0f1e36f1>Software Engineer</b> at Yankee Trails applying IT and software solutions to modernize shuttle tracking and resource allocation.</li><li data-v-0f1e36f1><b data-v-0f1e36f1>Software Engineering Intern</b> at XP Health building a full stack framework to integrate barcode scanners into daily operation.</li><li data-v-0f1e36f1><b data-v-0f1e36f1>Researcher at RPI</b> implementing a multivariate leader-follower controller to coordinate transportation of heavy loads.</li></ul>',6))}const KS=Hr(QS,[["render",$S],["__scopeId","data-v-0f1e36f1"]]),YS={class:"research-tag"},XS={class:"content"},ZS={class:"title"},JS={class:"source"},eT=["src"],tT={class:"links"},rT=["href"],nT={__name:"Research",props:{researchLine:{type:Object,required:!0}},setup(t){const r=t.researchLine,n=a=>new URL(Object.assign({"../assets/images/research/minseg_parts.jpeg":tm,"../assets/images/research/minseg_topview.jpeg":rm,"../assets/images/research/minseg_wheels.jpeg":nm,"../assets/images/research/robot-arm.png":am,"../assets/images/research/shubble.png":im})[`../assets/images/research/${a}`],import.meta.url).href;return(a,i)=>(ze(),Qe("div",YS,[ve("div",XS,[ve("div",ZS,[ve("b",null,_t(Le(r).name),1),ve("div",JS,_t(Le(r).source),1)]),ve("img",{src:n(Le(r).images[0]),alt:"research Image",class:"research-image"},null,8,eT),ve("div",tT,[(ze(!0),Qe(lt,null,sn(Le(r).more,s=>(ze(),Qe("a",{href:s[1],key:s[0],target:"_blank"},_t(s[0]),9,rT))),128))])])]))}},aT=Hr(nT,[["__scopeId","data-v-65b35892"]]),iT={class:"blur"},sT={class:"research-grid"},oT={__name:"ResearchView",setup(t){const e=wn(om);return(r,n)=>(ze(),Qe(lt,null,[n[1]||(n[1]=ve("img",{class:"rpi-image",src:n0,alt:"Research"},null,-1)),n[2]||(n[2]=ve("div",{class:"spacer"},null,-1)),ve("div",iT,[n[0]||(n[0]=ve("h1",null,"Research & School-Endorsed Projects",-1)),ve("div",sT,[(ze(!0),Qe(lt,null,sn(e.value,a=>(ze(),go(aT,{key:a.name,researchLine:a},null,8,["researchLine"]))),128))])])],64))}},uT=Hr(oT,[["__scopeId","data-v-23776d62"]]),lT={class:"flex-row project-tag"},cT={class:"text-content"},fT={key:0,class:"version"},hT={key:0},dT=["href"],vT=["src"],gT={class:"flex-row earlier-version"},pT={class:"text-content"},mT={class:"flex-row earlier-content"},yT={class:"version"},bT=["href"],wT=["src"],xT={__name:"Project",props:{projectLine:{type:Object,required:!0}},setup(t){const r=t.projectLine,n=wn(!1),a=()=>{n.value=!n.value},i=s=>new URL(Object.assign({"../assets/images/projects/acrylic.jpg":Ap,"../assets/images/projects/aws.png":Cp,"../assets/images/projects/btt_final_move.png":_p,"../assets/images/projects/btt_in_game.png":Sp,"../assets/images/projects/btt_start.png":Tp,"../assets/images/projects/caesar_cipher.jpeg":kp,"../assets/images/projects/clawbot_corner.jpg":Pp,"../assets/images/projects/clawbot_dark.jpg":Bp,"../assets/images/projects/clawbot_light.jpg":Dp,"../assets/images/projects/clawbot_side.jpg":Rp,"../assets/images/projects/clawbot_testing.jpg":Ip,"../assets/images/projects/cropped_joel.jpg":Mp,"../assets/images/projects/cs_graph.png":Lp,"../assets/images/projects/cytoscape.png":Op,"../assets/images/projects/favicon512x512.png":Np,"../assets/images/projects/house_plaque.jpg":Fp,"../assets/images/projects/joel-logo.png":zp,"../assets/images/projects/joel_serious.jpg":qp,"../assets/images/projects/joey.jpg":Vp,"../assets/images/projects/joey_standing.jpg":Gp,"../assets/images/projects/nanobot.png":Hp,"../assets/images/projects/rov_bathtub.jpg":jp,"../assets/images/projects/rov_outside.JPG":Wp,"../assets/images/projects/shock_absorber_JM.jpeg":Up,"../assets/images/projects/shock_absorber_RPI.jpeg":Qp,"../assets/images/projects/shock_absorber_racket.jpeg":$p,"../assets/images/projects/substitution_cipher.png":Kp,"../assets/images/projects/tesla_coil.jpg":Yp,"../assets/images/projects/tesla_soldering.jpg":Xp,"../assets/images/projects/watchband.jpg":Zp,"../assets/images/projects/watchband_bottom.jpg":Jp,"../assets/images/projects/werewolf.jpg":em})[`../assets/images/projects/${s}`],import.meta.url).href;return(s,o)=>(ze(),Qe("div",{class:Vn(["project-line-container",{expanded:n.value}]),onClick:a},[ve("div",lT,[ve("div",cT,[ve("p",null,[ve("b",null,_t(Le(r).name),1),Le(r).versions.length>1?(ze(),Qe("span",fT,_t(Le(r).versions.length>1?`v${Le(r).versions.length}`:""),1)):jn("",!0)]),n.value?(ze(),Qe("p",hT,_t(Le(r).versions[0].details),1)):jn("",!0),ve("div",{class:Vn(["links",{expanded:n.value}])},[(ze(!0),Qe(lt,null,sn(Le(r).versions[0].more,u=>(ze(),Qe("a",{href:u[1],key:u[0],target:"_blank"},_t(u[0]),9,dT))),128))],2)]),ve("img",{src:i(Le(r).versions[0].images[0]),alt:"Project Image",class:Vn(["project-image",{expanded:n.value}])},null,10,vT),n.value?(ze(),Qe("div",{key:0,onClick:o[0]||(o[0]=T1(u=>a(),["stop"])),class:"x"},o[1]||(o[1]=[ve("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[ve("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1)]))):jn("",!0)]),(ze(!0),Qe(lt,null,sn(Le(r).versions.slice(1),(u,l)=>nb((ze(),Qe("div",gT,[ve("div",pT,[ve("div",mT,[ve("span",yT,_t(`v${Le(r).versions.length-l-1}`),1),ve("p",null,[rn(_t(n.value?u.details:"")+" Links: ",1),(ze(!0),Qe(lt,null,sn(u.more,c=>(ze(),Qe("a",{href:c[1],key:c[0],target:"_blank",class:"earlier-link"},_t(c[0]),9,bT))),128))])])]),ve("img",{src:i(u.images[0]),alt:"Project Image",class:Vn(["earlier-image",{expanded:n.value}])},null,10,wT)],512)),[[c1,n.value]])),256))],2))}},ET=Hr(xT,[["__scopeId","data-v-6dd222a4"]]),AT={class:"project-grid"},CT={__name:"ProjectsView",setup(t){const e=wn(sm);return(r,n)=>(ze(),Qe(lt,null,[n[0]||(n[0]=ve("h1",null,"My Projects",-1)),ve("div",AT,[(ze(!0),Qe(lt,null,sn(e.value,a=>(ze(),go(ET,{key:a.name,projectLine:a},null,8,["projectLine"]))),128))])],64))}},_T=Hr(CT,[["__scopeId","data-v-058dbd3c"]]),ST=[{name:"RPISEC Cybersecurity",start:"9/23",end:"NOW",details:"RPISEC is RPI's Cybersecurity team. We focus on offensive security (Red Teaming) through Capture the Flag (CTF) competitions. Beyond competitions, we attend conferences and run workshops for RPI students. I have been the Secretary of RPISEC since its rebirth in 2023.",images:[["rpisec_group.jpg","RPISEC's officers in front of the U.S. Capitol Building on a visit to Washington D.C. for ShmooCon 2025."],["rpisec_meeting.jpg","A guest lecture from RPI's Hacker In Residence, Jeremy Blackthorne. RPISEC members, Computer Science graduate students, and Computer Science faculty attended the event."]],more:[["CTFTime","https://ctftime.org/team/572"]]},{name:"RPI Mens' Tennis Team",start:"8/23",end:"NOW",details:"The RPI Mens' Tennis Team is a passionate group of student-athletes. As a Division III team, we all support each other in class and on the court. We are the defending champions in the Liberty League and reached a all-time-high ranking of number 9 in the country in 2025.",images:[["tennis_group.JPG","The 2024-2025 team gathering in celebration after a doubles win."],["tennis_serve.JPG","Me preparing to serve."],["tennis_discuss.JPG","My doubles partner and I discussing strategy between two points."],["rpi_tennis_2023_2024.jpeg","The 2023-2024 RPI Mens' Tennis Team."]],more:[["My Profile","https://rpiathletics.com/sports/mens-tennis/roster/joel-mccandless/19041"],["Our Record","https://rpiathletics.com/sports/mens-tennis/schedule"]]},{name:"HackRPI Hackathon Team: Able",start:"11/24",end:"11/24",details:`HackRPI is RPI's annual hackathon. In 2024, my team developed Able, a website that enhances Google Maps for the visually impaired. Extending Google's audial support, Able enables users to record comments and listen to others' comments in their authentic voices, thus preserving the identity of the visually impaired. Able won the "Best Accessibility Hack" in 2024.`,images:[["able.jpeg","My partner, Erik, and I with the certificate and check for winning."]],more:[]},{name:"2 Bits and A Byte Robotics Team",start:"5/19",end:"5/23",details:"2 Bits and A Byte is a First Tech Challenge (FTC) high school robotics team. As a passionate public school team that is fully student-led, we've had historic success in states and nationals. Competing in FTC helped foster a love for engineering and interacting with these robots opened my eyes to the potential that robotics has to change the world. I served as the captain of 2 Bits from 2021-2023.",images:[["Christmas_qualifier.png","The team after winning a qualifier in 2023 to secure a spot in states."]],more:[]},{name:"Lexington High School Boys' Tennis Team",start:"3/20",end:"6/23",details:"While I played junior tennis tournaments individually, my favorite mode of tennis has always been in a team. I would take time out of my schedule every spring to play high school tennis, because I enjoyed playing alongside passionate coaches, teammates and friends. I served as the captain of the tennis team in 2023.",images:[["tennis_caps.jpeg","The captains after winning the state championship in 2023."]],more:[]},{name:"Lexington Student-Makers Faceshield Manufacturing",start:"6/19",end:"8/19",details:"As COVID-19 cases climbed in 2021, several students at my school felt that we could do more to help our community. We decided to manufacture face shields for frontline workers and teachers as we returned to school. Our group of 8 students delivered 1200 face shields to hospitals in Massachusetts, 700 to our public school system, and 600 to cities across the U.S.",images:[["face_shields_group.jpeg","A social-distanced photo with the Lexington Student-Makers and the school superintendent."]]}],TT={class:"group-tag"},kT={class:"content"},PT={class:"title"},BT={class:"image-arrows"},DT={class:"group-arrow-container"},RT={class:"image-caption"},IT=["src"],MT={class:"caption"},LT={class:"group-arrow-container"},OT={class:"body"},NT={class:"links"},FT=["href"],zT={__name:"Group",props:{groupLine:{type:Object,required:!0}},setup(t){const r=t.groupLine,n=wn(0),a=i=>new URL(Object.assign({"../assets/images/groups/Christmas_qualifier.png":hp,"../assets/images/groups/FaceShields.jpg":dp,"../assets/images/groups/able.jpeg":vp,"../assets/images/groups/face_shields_group.jpeg":gp,"../assets/images/groups/rpi_tennis_2023_2024.jpeg":pp,"../assets/images/groups/rpisec_group.jpg":mp,"../assets/images/groups/rpisec_meeting.jpg":yp,"../assets/images/groups/tennis_caps.jpeg":bp,"../assets/images/groups/tennis_discuss.JPG":wp,"../assets/images/groups/tennis_group.JPG":xp,"../assets/images/groups/tennis_serve.JPG":Ep})[`../assets/images/groups/${i}`],import.meta.url).href;return(i,s)=>(ze(),Qe("div",TT,[ve("div",kT,[ve("div",PT,[ve("b",null,_t(Le(r).name),1)]),ve("div",BT,[ve("div",DT,[n.value>0?(ze(),Qe("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 256 256",onClick:s[0]||(s[0]=o=>n.value--)},s[2]||(s[2]=[ve("path",{fill:"#aaa",d:"M168.49 199.51a12 12 0 0 1-17 17l-80-80a12 12 0 0 1 0-17l80-80a12 12 0 0 1 17 17L97 128Z"},null,-1)]))):jn("",!0)]),ve("div",RT,[ve("img",{src:a(Le(r).images[n.value][0]),alt:"Group Image",class:"group-image"},null,8,IT),ve("div",MT,_t(Le(r).images[n.value][1]),1)]),ve("div",LT,[n.value<Le(r).images.length-1?(ze(),Qe("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 256 256",onClick:s[1]||(s[1]=o=>n.value++)},s[3]||(s[3]=[ve("path",{fill:"#aaa",d:"m184.49 136.49l-80 80a12 12 0 0 1-17-17L159 128L87.51 56.49a12 12 0 1 1 17-17l80 80a12 12 0 0 1-.02 17"},null,-1)]))):jn("",!0)])]),ve("div",OT,_t(Le(r).details),1),ve("div",NT,[(ze(!0),Qe(lt,null,sn(Le(r).more,o=>(ze(),Qe("a",{href:o[1],key:o[0],target:"_blank"},_t(o[0]),9,FT))),128))])])]))}},qT=Hr(zT,[["__scopeId","data-v-0e4a5da9"]]),VT={class:"groups-grid"},GT={__name:"GroupsView",setup(t){const e=wn(ST);return(r,n)=>(ze(),Qe(lt,null,[n[0]||(n[0]=ve("h1",null,"My Groups",-1)),ve("div",VT,[(ze(!0),Qe(lt,null,sn(e.value,a=>(ze(),go(qT,{key:a.name,groupLine:a},null,8,["groupLine"]))),128))])],64))}},HT=Hr(GT,[["__scopeId","data-v-5d36263a"]]),jT=Iw({history:cw("/"),routes:[{path:"/",name:"home",component:HS},{path:"/experience",name:"experience",component:KS},{path:"/research",name:"research",component:uT},{path:"/projects",name:"projects",component:_T},{path:"/groups",name:"groups",component:HT}],scrollBehavior(t,e,r){return{top:0,behavior:"auto"}}}),a0=B1(qw);a0.use(jT);a0.mount("#app");
